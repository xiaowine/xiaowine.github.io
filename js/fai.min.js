function _defineProperty(e, t, i) {
    return t in e ? Object.defineProperty(e, t, {
        value: i,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : e[t] = i, e
}

function _slicedToArray(e, t) {
    return _arrayWithHoles(e) || _iterableToArrayLimit(e, t) || _nonIterableRest()
}

function _nonIterableRest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance")
}

function _iterableToArrayLimit(e, t) {
    var i = [],
        a = !0,
        n = !1,
        o = undefined;
    try {
        for (var r, s = e[Symbol.iterator](); !(a = (r = s.next()).done) && (i.push(r.value), !t || i.length !== t); a = !0);
    } catch (l) {
        n = !0, o = l
    } finally {
        try {
            a || null == s["return"] || s["return"]()
        } finally {
            if (n) throw o
        }
    }
    return i
}

function _arrayWithHoles(e) {
    if (Array.isArray(e)) return e
}

function _typeof(e) {
    return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function t(e) {
        return typeof e
    } : function i(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    })(e)
}

function fixRegSpecialCharacter(e) {
    for (var t = ["\\", ".", "?", "$", "*", "^", "[", "]", "{", "}", "|", "(", ")", "/"], i = 0, a = t.length; i < a; i++) e = e.replace(t[i], "\\" + t[i]);
    return e
}! function(v) {
    var e, t, i, y = v.$LAB,
        b = "UseLocalXHR",
        x = "AlwaysPreserveOrder",
        _ = "AllowDuplicates",
        w = "CacheBust",
        C = "Debug",
        S = "BasePath",
        a = /^[^?#]*\//.exec(location.href)[0],
        l = /^\w+\:\/\/\/?[^\/]+/.exec(a)[0],
        F = document.head || document.getElementsByTagName("head"),
        n = v.opera && "[object Opera]" == Object.prototype.toString.call(v.opera) || "MozAppearance" in document.documentElement.style,
        k = function k() {},
        B = k,
        o = document.createElement("script"),
        d = "boolean" == typeof o.preload,
        I = d || o.readyState && "uninitialized" == o.readyState,
        c = !I && !0 === o.async,
        W = !I && !c && !n;

    function E(e) {
        return "[object Function]" == Object.prototype.toString.call(e)
    }

    function T(e) {
        return "[object Array]" == Object.prototype.toString.call(e)
    }

    function O(e, t) {
        var i = /^\w+\:\/\//;
        return /^\/\/\/?/.test(e) ? e = location.protocol + e : i.test(e) || "/" == e.charAt(0) || (e = (t || "") + e), i.test(e) ? e : ("/" == e.charAt(0) ? l : a) + e
    }

    function P(e, t) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
        return t
    }

    function A(e) {
        for (var t = !1, i = 0; i < e.scripts.length; i++) e.scripts[i].ready && e.scripts[i].exec_trigger && (t = !0, e.scripts[i].exec_trigger(), e.scripts[i].exec_trigger = null);
        return t
    }

    function D(e, t, i, a) {
        e.onload = e.onreadystatechange = function() {
            e.readyState && "complete" != e.readyState && "loaded" != e.readyState || t[i] || (e.onload = e.onreadystatechange = null, a())
        }
    }

    function M(e) {
        e.ready = e.finished = !0;
        for (var t = 0; t < e.finished_listeners.length; t++) e.finished_listeners[t]();
        e.ready_listeners = [], e.finished_listeners = []
    }

    function L(a, n, o, r, s) {
        setTimeout(function() {
            var e, t, i = n.real_src;
            if ("item" in F) {
                if (!F[0]) return void setTimeout(arguments.callee, 25);
                F = F[0]
            }
            e = document.createElement("script"), n.type && (e.type = n.type), n.charset && (e.charset = n.charset), s ? I ? (a[C] && k("start script preload: " + i), o.elem = e, d ? (e.preload = !0, e.onpreload = r) : e.onreadystatechange = function() {
                "loaded" == e.readyState && r()
            }, e.src = i) : s && 0 == i.indexOf(l) && a[b] ? (t = new XMLHttpRequest, a[C] && k("start script preload (xhr): " + i), t.onreadystatechange = function() {
                4 == t.readyState && (t.onreadystatechange = function() {}, o.text = t.responseText + "\n//@ sourceURL=" + i, r())
            }, t.open("GET", i), t.send()) : (a[C] && k("start script preload (cache): " + i), e.type = "text/cache-script", D(e, o, "ready", function() {
                F.removeChild(e), r()
            }), e.src = i, F.insertBefore(e, F.firstChild)) : (c ? (a[C] && k("start script load (ordered async): " + i), e.async = !1) : a[C] && k("start script load: " + i), D(e, o, "finished", r), e.src = i, F.insertBefore(e, F.firstChild))
        }, 0)
    }

    function $() {
        var a, f = {},
            g = I || W,
            n = [],
            l = {};

        function d(e, t, i) {
            var a;

            function n() {
                null != a && (a = null, M(i))
            }
            l[t.src].finished || (e[_] || (l[t.src].finished = !0), a = i.elem || document.createElement("script"), t.type && (a.type = t.type), t.charset && (a.charset = t.charset), D(a, i, "finished", n), i.elem ? i.elem = null : i.text ? (a.onload = a.onreadystatechange = null, a.text = i.text) : a.src = t.real_src, F.insertBefore(a, F.firstChild), i.text && n())
        }

        function m(e, t, i, a) {
            var n, o, r = function r() {
                    t.ready_cb(t, function() {
                        d(e, t, n)
                    })
                },
                s = function s() {
                    t.finished_cb(t, i)
                };
            t.src = O(t.src, e[S]), t.real_src = t.src + (e[w] ? (/\?.*$/.test(t.src) ? "&_" : "?_") + ~~(1e9 * Math.random()) + "=" : ""), l[t.src] || (l[t.src] = {
                items: [],
                finished: !1
            }), o = l[t.src].items, e[_] || 0 == o.length ? (n = o[o.length] = {
                ready: !1,
                finished: !1,
                ready_listeners: [r],
                finished_listeners: [s]
            }, L(e, t, n, a ? function() {
                n.ready = !0;
                for (var e = 0; e < n.ready_listeners.length; e++) n.ready_listeners[e]();
                n.ready_listeners = []
            } : function() {
                M(n)
            }, a)) : (n = o[0]).finished ? s() : n.finished_listeners.push(s)
        }

        function e() {
            var n, o, r = P(f, {}),
                t = [],
                i = 0,
                s = !1;

            function l(e, t) {
                r[C] && k("script preload finished: " + e.real_src), e.ready = !0, e.exec_trigger = t, a()
            }

            function d(e, t) {
                r[C] && k("script execution finished: " + e.real_src), e.ready = e.finished = !0, e.exec_trigger = null;
                for (var i = 0; i < t.scripts.length; i++)
                    if (!t.scripts[i].finished) return;
                t.finished = !0, a()
            }

            function a() {
                for (; i < t.length;)
                    if (E(t[i])) {
                        r[C] && k("$LAB.wait() executing: " + t[i]);
                        try {
                            t[i++]()
                        } catch (e) {
                            r[C] && B("$LAB.wait() error caught: ", e)
                        }
                    } else {
                        if (!t[i].finished) {
                            if (A(t[i])) continue;
                            break
                        }
                        i++
                    } i == t.length && (o = s = !1)
            }

            function c() {
                o && o.scripts || t.push(o = {
                    scripts: [],
                    finished: !0
                })
            }
            return {
                script: (n = {
                    script: function p() {
                        for (var e = 0; e < arguments.length; e++) ! function(e, t) {
                            var i;
                            T(e) || (t = [e]);
                            for (var a = 0; a < t.length; a++) c(), E(e = t[a]) && (e = e()), e && (T(e) ? ((i = [].slice.call(e)).unshift(a, 1), [].splice.apply(t, i), a--) : ("string" == typeof e && (e = {
                                src: e
                            }), e = P(e, {
                                ready: !1,
                                ready_cb: l,
                                finished: !1,
                                finished_cb: d
                            }), o.finished = !1, o.scripts.push(e), m(r, e, o, g && s), s = !0, r[x] && n.wait()))
                        }(arguments[e], arguments[e]);
                        return n
                    },
                    wait: function u() {
                        if (0 < arguments.length) {
                            for (var e = 0; e < arguments.length; e++) t.push(arguments[e]);
                            o = t[t.length - 1]
                        } else o = !1;
                        return a(), n
                    }
                }).script,
                wait: n.wait,
                setOptions: function h(e) {
                    return P(e, r), n
                }
            }
        }
        return f[b] = !0, f[x] = !1, f[_] = !1, f[w] = !1, f[C] = !1, f[S] = "", a = {
            setGlobalDefaults: function t(e) {
                return P(e, f), a
            },
            setOptions: function i() {
                return e().setOptions.apply(null, arguments)
            },
            script: function o() {
                return e().script.apply(null, arguments)
            },
            wait: function r() {
                return e().wait.apply(null, arguments)
            },
            queueScript: function s() {
                return n[n.length] = {
                    type: "script",
                    args: [].slice.call(arguments)
                }, a
            },
            queueWait: function c() {
                return n[n.length] = {
                    type: "wait",
                    args: [].slice.call(arguments)
                }, a
            },
            runQueue: function p() {
                for (var e, t = a, i = n.length; 0 <= --i;) t = t[(e = n.shift()).type].apply(null, e.args);
                return t
            },
            noConflict: function u() {
                return v.$LAB = y, a
            },
            sandbox: function h() {
                return $()
            }
        }
    }
    v.console && v.console.log && (v.console.error || (v.console.error = v.console.log), k = function k(e) {
        v.console.log(e)
    }, B = function B(e, t) {
        v.console.error(e, t)
    }), v.$LAB = $(), e = "addEventListener", t = "DOMContentLoaded", null == document.readyState && document[e] && (document.readyState = "loading", document[e](t, i = function r() {
        document.removeEventListener(t, i, !1), document.readyState = "complete"
    }, !1))
}(this), "undefined" == typeof Fai && (Fai = {}, Fai.top = top), Fai.openLog = !1, Fai.isDbg = function() {
        return "true" == $.cookie("_fai_debug")
    }, Fai.jzEval = function(data) {
        return eval(data)
    }, Fai.logDog = function(e, t) {
        $.ajax({
            type: "get",
            url: "/ajax/log_h.jsp?cmd=dog&dogId=" + Fai.encodeUrl(e) + "&dogSrc=" + Fai.encodeUrl(t)
        })
    }, Fai.log = function(e) {
        Fai.isDbg() && console.log(e)
    }, Fai.logErr = function(e) {
        console.error(e)
    }, Fai.logDbg = function() {
        (Fai.isDbg() || Fai.openLog) && console.log($.makeArray(arguments).join(""))
    }, Fai.logAlert = function() {
        (Fai.isDbg() || Fai.openLog) && alert($.makeArray(arguments).join(""))
    }, Fai.isNull = function(e) {
        return void 0 === e || null == e
    }, Fai.isDate = function(e) {
        return e.constructor == Date
    }, Fai.isFloat = function(e) {
        return /^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)
    }, Fai.isInteger = function(e) {
        return /^-?\d+$/.test(e)
    }, Fai.isLowerCase = function(e) {
        return /^[a-z]+$/.test(e)
    }, Fai.isUpperCase = function(e) {
        return /^[A-Z]+$/.test(e)
    }, Fai.toLowerCaseFirstOne = function(e) {
        return void 0 === e || Fai.isLowerCase(e.charAt(0)) ? e : e.substring(0, 1).toLowerCase() + e.substring(1, e.length)
    }, Fai.toUpperCaseFirstOne = function(e) {
        return void 0 === e || Fai.isUpperCase(e.charAt(0)) ? e : e.substring(0, 1).toUpperCase() + e.substring(1, e.length)
    }, Fai.isChinese = function(e) {
        return !(e < "一" || "龥" < e)
    }, Fai.isIp = function(e) {
        if ("string" != typeof e || "" == $.trim(e)) return !1;
        var t = e.split(".");
        if (4 != t.length) return !1;
        var i = !0;
        return $.each(t, function(e, t) {
            if (!Fai.isNumber(t) || parseInt(t) < 0 || 255 < parseInt(t)) return !(i = !1)
        }), i
    }, Fai.isDomain = function(e) {
        return !!/^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/.test(e) && !(0 <= e.indexOf("--"))
    }, Fai.isWord = function(e) {
        return /^[a-zA-Z0-9_]+$/.test(e)
    }, Fai.isEmail = function(e) {
        return /^[a-zA-Z0-9][a-zA-Z0-9_=\&\-\.\+]*[a-zA-Z0-9]*@[a-zA-Z0-9][a-zA-Z0-9_\-\.]+[a-zA-Z0-9]$/.test(e)
    }, Fai.isEmailDomain = function(e) {
        return /^[a-zA-Z0-9][a-zA-Z0-9_\-]*\.[a-zA-Z0-9\-][a-zA-Z0-9_\-\.]*[a-zA-Z0-9]$/.test(e)
    }, Fai.isMobile = function(e) {
        return /^1[3456789]\d{9}$/.test(e)
    }, Fai.isPhone = function(e) {
        var t = /^([\d\+\s\(\)-])+([\d\+\s\(\)-])*([\d\+\s\(\)-])$/;
        return !/^([^\d])+([^\d])*([^\d])$/.test(e) && t.test(e)
    }, Fai.isNationMobile = function(e) {
        return /^\d{7,11}$/.test(e)
    }, Fai.isLimitedRangeNationMobile = function(e, t, i) {
        return new RegExp("^\\d{" + t + "," + i + "}$").test(e)
    }, Fai.isCardNo = function(e) {
        return /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)
    }, Fai.isUrl = function(e, t) {
        return void 0 === t && (t = !0), !!(t && 1 <= e.length && "/" == e.charAt(0)) || (!!(t && 1 <= e.length && "#" == e.charAt(0)) || /^(\w+:).+/.test(e))
    }, Fai.fixUrl = function(e, t) {
        return Fai.isUrl(e, t) ? e : "http://" + e
    }, Fai.fixJzUrl = function(e, t) {
        if (e && t) return t = Fai.fixUrl(t), e = Fai.fixUrl(e), subStrUrl = e.substring(0, t.length), subStrUrl === t ? subStrUrl == e ? "/" : e.substring(t.length, e.length) : e
    }, Fai.isIE = function() {
        return !!$.browser.msie
    }, Fai.isEdge = function() {
        return !!$.browser.msedge
    }, Fai.isIE6 = function() {
        return !(!$.browser.msie || "6.0" != $.browser.version)
    }, Fai.isIE7 = function() {
        return !(!$.browser.msie || "7.0" != $.browser.version)
    }, Fai.isIE8 = function() {
        return !(!$.browser.msie || "8.0" != $.browser.version)
    }, Fai.isIE9 = function() {
        return !(!$.browser.msie || "9.0" != $.browser.version)
    }, Fai.isIE10 = function() {
        return !(!$.browser.msie || "10.0" != $.browser.version)
    }, Fai.isIE11 = function() {
        return !(!$.browser.msie || "11.0" != $.browser.version && !$.browser.rv)
    }, Fai.isSafari = function() {
        return !!$.browser.safari
    }, Fai.isWeixin = function() {
        return -1 != navigator.userAgent.toLowerCase().indexOf("micromessenger")
    }, Fai.isWebkit = function() {
        return !!$.browser.webkit
    }, Fai.isChrome = function() {
        return !!$.browser.chrome
    }, Fai.isMozilla = function() {
        return !!$.browser.mozilla
    }, Fai.isAppleWebKit = function() {
        return 0 <= window.navigator.userAgent.indexOf("AppleWebKit")
    }, Fai.isOpera = function() {
        return $.browser.opera || $.browser.opr
    }, Fai.isAndroid = function() {
        return !!$.browser.android
    }, Fai.isIpad = function() {
        return !!$.browser.ipad
    }, Fai.isIphone = function() {
        return !!$.browser.iphone
    }, Fai.isPC = function() {
        for (var e = navigator.userAgent, t = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"], i = !0, a = 0; a < t.length; a++)
            if (0 < e.indexOf(t[a])) {
                i = !1;
                break
            } return i
    }, Fai.BrowserType = {
        UNKNOWN: 0,
        SPIDER: 1,
        CHROME: 2,
        FIREFOX: 3,
        MSIE8: 4,
        MSIE7: 5,
        MSIE6: 6,
        MSIE9: 7,
        SAFARI: 8,
        MSIE10: 9,
        MSIE11: 10,
        OPERA: 11,
        APPLE_WEBKIT: 12
    }, Fai.getBrowserType = function() {
        return Fai.isIE6() ? Fai.BrowserType.MSIE6 : Fai.isIE7() ? Fai.BrowserType.MSIE7 : Fai.isIE8() ? Fai.BrowserType.MSIE8 : Fai.isIE9() ? Fai.BrowserType.MSIE9 : Fai.isIE10() ? Fai.BrowserType.MSIE10 : Fai.isIE11() ? Fai.BrowserType.MSIE11 : Fai.isMozilla() ? Fai.BrowserType.FIREFOX : Fai.isOpera() ? Fai.BrowserType.OPERA : Fai.isChrome() ? Fai.BrowserType.CHROME : Fai.isSafari() ? Fai.BrowserType.SAFARI : Fai.isAppleWebKit() ? Fai.BrowserType.APPLE_WEBKIT : Fai.BrowserType.UNKNOWN
    }, Fai.Screen = function() {
        return {
            width: window.screen.width,
            height: window.screen.height
        }
    }, Fai.format = function() {
        for (var e = arguments[0], t = 0; t < arguments.length - 1; t++) {
            var i = new RegExp("\\{" + t + "\\}", "gm");
            e = e.replace(i, arguments[t + 1])
        }
        return e
    }, Fai.getScreenType = function(e, t) {
        var i = {
            OTHER: 0,
            W1920H1080: 1,
            W1680H1050: 2,
            W1600H1200: 3,
            W1600H1024: 4,
            W1600H900: 5,
            W1440H900: 6,
            W1366H768: 7,
            W1360H768: 8,
            W1280H1024: 9,
            W1280H960: 10,
            W1280H800: 11,
            W1280H768: 12,
            W1280H720: 13,
            W1280H600: 14,
            W1152H864: 15,
            W1024H768: 16,
            W800H600: 17
        };
        return i["W" + $.trim(String(e)) + "H" + $.trim(String(t))] || i.OTHER
    }, Fai.addUrlParams = function(e, t) {
        if (Fai.isNull(t)) return e;
        var i = e,
            a = "",
            n = e.indexOf("#");
        return -1 < n && (i = e.substring(0, n), a = e.substring(n, e.length)), i.indexOf("?") < 0 ? i + "?" + t + a : i + "&" + t + a
    }, Fai.addUrlParamsV2 = function(e, t) {
        var i = e.split("#")[0];
        for (var a in t)
            if (t.hasOwnProperty(a)) {
                var n = t[a];
                /\?/g.test(i) ? i += "&" + a + "=" + n : i += "?" + a + "=" + n
            } return e.split("#")[1] ? i + "#" + e.split("#")[1] : i
    }, Fai.getUrlRoot = function(e) {
        var t = e.indexOf("://");
        return t < 0 ? e : (t = e.indexOf("/", t + 3)) < 0 ? "/" : e.substring(t)
    }, Fai.getUrlParam = function(e, i) {
        var a, t = e.substring(e.indexOf("?") + 1, e.length).split("&"),
            n = t[t.length - 1];
        return n && -1 < n.indexOf("#") && (t[t.length - 1] = n.substring(0, n.indexOf("#"))), $.each(t, function(e, t) {
            if (decodeURIComponent(t.substring(0, t.indexOf("="))) === i) return a = decodeURIComponent(t.substring(t.indexOf("=") + 1, t.length)), !1
        }), a
    }, Fai.getHashParam = function(e, i) {
        var a, t = e.substring(e.indexOf("#") + 1, e.length).split("&");
        return $.each(t, function(e, t) {
            if (decodeURIComponent(t.substring(0, t.indexOf("="))) === i) return a = decodeURIComponent(t.substring(t.indexOf("=") + 1, t.length)), !1
        }), a
    }, Fai.getUrlInfo = function(e) {
        var t = e.indexOf("?"),
            i = e.indexOf("#"),
            a = e.substring(0, t),
            n = e.substring(t + 1, e.length).split("&"),
            o = e.substring(e.indexOf("#") + 1, e.length),
            r = n[n.length - 1],
            s = {};
        return -1 < a.indexOf("/") && (a = e.substring(e.lastIndexOf(), a.length)), t < 0 && i < 0 ? {
            pathname: e,
            param: {},
            hash: ""
        } : t < 0 ? {
            pathname: a,
            param: {},
            hash: o
        } : (r && -1 < r.indexOf("#") && (n[n.length - 1] = r.substring(0, r.indexOf("#"))), $.each(n, function(e, t) {
            var i = decodeURIComponent(t.substring(0, t.indexOf("=")));
            s[i] = decodeURIComponent(t.substring(t.indexOf("=") + 1, t.length))
        }), i < 0 ? {
            pathname: a,
            param: s,
            hash: ""
        } : {
            pathname: a,
            param: s,
            hash: o
        })
    }, Fai.encodeHtml = function(e) {
        return e && e.replace ? e.replace(/&/g, "&amp;").replace(/ /g, "&nbsp;").replace(/\b&nbsp;+/g, " ").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\\/g, "&#92;").replace(/\'/g, "&#39;").replace(/\"/g, "&quot;").replace(/\n/g, "<br/>").replace(/\r/g, "") : e
    }, Fai.decodeHtml = function(e) {
        return e && e.replace ? e.replace(/&nbsp;/gi, " ").replace(/&lt;/gi, "<").replace(/&gt;/g, ">").replace(/&#92;/gi, "\\").replace(/&#39;/gi, "'").replace(/&quot;/gi, '"').replace(/\<br\/\>/gi, "\n").replace(/&amp;/gi, "&") : e
    }, Fai.encodeHtmlJs = function(e) {
        return e && e.replace ? e.replace(/\\/g, "\\\\").replace(/\'/g, "\\x27").replace(/\"/g, "\\x22").replace(/\n/g, "\\n").replace(/</g, "\\x3c").replace(/>/g, "\\x3e") : e
    }, Fai.encodeHtmlAttr = function(e) {
        return e && e.replace ? e.replace(/\"/g, "&#x22;").replace(/\'/g, "&#x27;").replace(/</g, "&#x3c;").replace(/>/g, "&#x3e;").replace(/&/g, "&#x26;").replace(/\\/g, "&#5c;") : e
    }, Fai.encodeUrl = function(e) {
        return void 0 === e ? "" : encodeURIComponent(e)
    }, Fai.decodeUrl = function(e) {
        var t = "";
        try {
            t = void 0 === e ? "" : decodeURIComponent(e)
        } catch (i) {
            t = ""
        }
        return t
    }, Fai.decodeHtmlAttr = function(e) {
        return e && e.replace ? e.replace(/&#x22;/gi, '"').replace(/&#x27;/gi, "'").replace(/&#x3c;/gi, "<").replace(/&#x3e;/gi, ">").replace(/&#x26;/gi, "&").replace(/&#5c;/gi, "\\") : e
    }, Fai.toUN = {
        on: function on(e) {
            for (var t = [], i = 0; i < e.length;) t[i] = ("00" + e.charCodeAt(i++).toString(16)).slice(-4);
            return "\\u" + t.join("\\u")
        },
        un: function un(e) {
            return unescape(e.replace(/\\/g, "%"))
        }
    }, Fai.parseFileName = function(e, t) {
        var i = e.lastIndexOf("/");
        if (i < 0 && (i = e.lastIndexOf("\\")), 0 <= i && (e = e.substring(i + 1)), t) return e;
        var a = e.lastIndexOf(".");
        return 0 <= a ? e.substring(0, a) : e
    }, Fai.Conn = {}, Fai.Conn.requestJs = function(e, t, i) {
        oScript = document.getElementById(e);
        var a = null;
        return a = "object" == _typeof(i) && i.target ? document.getElementsByName(i.target)[0] : document.getElementsByTagName("head")[0], oScript && a.removeChild(oScript), "object" == _typeof(i) && i.callback && (t = Fai.addUrlParams(t, "_callback=" + i.callback)), "object" == _typeof(i) && i.refresh && (t = Fai.addUrlParams(t, "_random=" + Math.random())), oScript = document.createElement("script"), oScript.setAttribute("src", t), oScript.setAttribute("id", e), oScript.setAttribute("type", "text/javascript"), oScript.setAttribute("language", "javascript"), a.appendChild(oScript), oScript
    }, Fai.Img = {}, Fai.Img = {
        MODE_SCALE_FILL: 1,
        MODE_SCALE_WIDTH: 2,
        MODE_SCALE_HEIGHT: 3,
        MODE_SCALE_DEFLATE_WIDTH: 4,
        MODE_SCALE_DEFLATE_HEIGHT: 5,
        MODE_SCALE_DEFLATE_FILL: 6,
        MODE_SCALE_DEFLATE_MAX: 7
    }, Fai.Img.optimize = function(e, t) {
        var i = new Image;
        i.src = e.src;
        var a = i.width,
            n = i.height;
        (Fai.isNull(a) || 0 == a || Fai.isNull(n) || 0 == n) && (a = e.width, n = e.height);
        var o = Fai.Img.calcSize(a, n, t.width, t.height, t.mode);
        return e.width = o.width, e.height = o.height, 1 == t.display ? e.style.display = "inline" : 2 == t.display ? e.style.display = "none" : 3 == t.display ? e.style.display = "inline-block" : e.style.display = "block", {
            width: e.width,
            height: e.height
        }
    }, Fai.Img.calcSize = function(e, t, i, a, n) {
        var o = {
            width: e,
            height: t
        };
        if (n == Fai.Img.MODE_SCALE_FILL)(s = t / a) < (r = e / i) ? (o.width = i, o.height = t / r) : (o.width = e / s, o.height = a);
        else if (n == Fai.Img.MODE_SCALE_WIDTH) {
            var r = e / i;
            o.width = i, o.height = t / r
        } else if (n == Fai.Img.MODE_SCALE_HEIGHT) {
            var s = t / a;
            o.width = e / s, o.height = a
        } else if (n == Fai.Img.MODE_SCALE_DEFLATE_WIDTH) {
            1 < (r = e / i) && (o.width = i, o.height = t / r)
        } else if (n == Fai.Img.MODE_SCALE_DEFLATE_HEIGHT) {
            1 < (s = t / a) && (o.width = e / s, o.height = a)
        } else if (n == Fai.Img.MODE_SCALE_DEFLATE_FILL) {
            (s = t / a) < (r = e / i) ? 1 < r && (o.width = i, o.height = t / r): 1 < s && (o.width = e / s, o.height = a)
        } else if (n == Fai.Img.MODE_SCALE_DEFLATE_MAX) {
            if (i < e && a < t)(r = e / i) < (s = t / a) ? (o.width = i, o.height = t / r) : (o.width = e / s, o.height = a)
        }
        return o.width = Math.floor(o.width), o.height = Math.floor(o.height), 0 == o.width && (o.width = 1), 0 == o.height && (o.height = 1), o
    }, Fai.bg = function(e, t, i, a) {
        a = a || "";
        var n = $("<div id='popupBg" + e + "' onmousedown='event.preventDefault();event.stopPropagation();' class='jz_popup_window_bg " + a + "' style='opacity:" + t + ";z-index:" + i + ";'></div>");
        $("body").append(n)
    }, Fai.preloadImg = function() {
        var e = new Array;
        if ("string" == typeof arguments[0] && (e[0] = arguments[0]), "object" == _typeof(arguments[0]))
            for (var t = 0; t < arguments[0].length; t++) e[t] = arguments[0][t];
        var i = new Array;
        for (t = 0; t < e.length; t++) i[t] = new Image, i[t].src = e[t]
    }, Fai.containsChinese = function(e) {
        return /[\u4e00-\u9fa5]+/.test(e)
    }, Fai.refreshClass = function(e) {
        e.children().each(function() {
            $(this).attr("class", $(this).attr("class")), Fai.refreshClass($(this))
        })
    }, Fai.rgb2hex = function(e) {
        if ("#" == e.charAt(0)) return e;
        Number(e);
        for (var t = e.split(/\D+/), i = (65536 * Number(t[1]) + 256 * Number(t[2]) + Number(t[3])).toString(16); i.length < 6;) i = "0" + i;
        return "#" + i
    }, Fai.int2hex = function(e) {
        for (var t = e.toString(16); t.length < 6;) t = "0" + t;
        return "#" + t
    }, Fai.setCtrlStyleCss = function(e, t, i, a, n) {
        var o = $("#" + e),
            r = new Array;
        if (1 == o.length) {
            var s = o.html();
            r = (s = s.replace(/{\r\n/g, "{").replace(/\t/g, "").replace(/\r\n}/g, ";}")).split("\n"), o.remove()
        }
        var l = new RegExp("#" + t + " +" + fixRegSpecialCharacter(i) + " *{ *" + a + "s*:[^;]*;", "gi");
        "" != t && "undefined" != t || (l = new RegExp(fixRegSpecialCharacter(i) + " *{ *" + a + "s*:[^;]*;", "gi"));
        for (var d = r.length - 1; 0 <= d; --d) {
            var c = r[d];
            (0 == c.length || /^\s$/.test(c) || l.test(c)) && r.splice(d, 1)
        }
        "" == t || "undefined" == t ? r.push(i + "{" + a + ":" + n + ";}") : r.push("#" + t + " " + i + "{" + a + ":" + n + ";}"), $("head").append('<style type="text/css" id="' + e + '">' + r.join("\n") + "</style>")
    }, Fai.setCtrlStyleCssList = function(e, t, i, a) {
        var n = $("#" + e),
            o = new Array;
        if (1 == n.length) {
            var r = n.html();
            o = (r = r.replace(/{\r\n/g, "{").replace(/\t/g, "").replace(/\r\n}/g, ";}")).split("\n"), n.remove()
        }
        for (var s = o.length - 1; 0 <= s; --s)
            for (var l = o[s], d = 0; d < i.length; ++d) {
                var c = i[d].cls,
                    p = i[d].key,
                    u = new RegExp("#" + t + " +" + fixRegSpecialCharacter(c) + " *{ *" + p + "s*:[^;]*;", "gi");
                if ("" != t && "undefined" != t || (u = new RegExp(fixRegSpecialCharacter(c) + " *{ *" + p + "s*:[^;]*;", "gi")), 0 == l.length || /^\s$/.test(l) || u.test(l)) {
                    o.splice(s, 1);
                    break
                }
            }
        for (d = 0; d < i.length; ++d) "" == t || "undefined" == t ? o.push(i[d].cls + "{" + i[d].key + ":" + i[d].value + ";}") : o.push("#" + t + " " + i[d].cls + "{" + i[d].key + ":" + i[d].value + ";}");
        a && a.rev && o.reverse(), $("head").append('<style type="text/css" id="' + e + '">' + o.join("\n") + "</style>")
    }, Fai.getCtrlStyleCss = function(e, t, i, a) {
        var n = $("#" + e);
        if (0 == n.length) return "";
        var o = n.html().split("\n"),
            r = new RegExp("#" + t + " +" + fixRegSpecialCharacter(i) + " *{ *" + a + "[^;]*;", "gi");
        "" != t && "undefined" != t || (r = new RegExp(fixRegSpecialCharacter(i) + " *{ *" + a + "[^;]*;", "gi"));
        for (var s = o.length - 1; 0 <= s; --s) {
            var l = o[s].match(r);
            if (l && 2 <= l.length) return l[1]
        }
        return ""
    }, Fai.removeCtrlStyleCss = function(e, t, i, a) {
        var n = $("#" + e),
            o = new Array;
        if (1 == n.length) {
            var r = n.html();
            o = (r = r.replace(/{\r\n/g, "{").replace(/\t/g, "").replace(/\r\n}/g, ";}")).split("\n"), n.remove()
        }
        var s = new RegExp("#" + t + " +" + fixRegSpecialCharacter(i) + " *{ *" + a + "s*:[^;]*;", "gi");
        "" != t && "undefined" != t || (s = new RegExp(fixRegSpecialCharacter(i) + " *{ *" + a + "s*:[^;]*;", "gi"));
        for (var l = o.length - 1; 0 <= l; --l) {
            var d = o[l];
            (0 == d.length || /^\s$/.test(d) || s.test(d)) && o.splice(l, 1)
        }
        $("head").append('<style type="text/css" id="' + e + '">' + o.join("\n") + "</style>")
    }, Fai.removeCtrlStyleCssList = function(e, t, i) {
        var a = $("#" + e),
            n = new Array;
        if (1 == a.length) {
            var o = a.html();
            n = (o = o.replace(/{\r\n/g, "{").replace(/\t/g, "").replace(/\r\n}/g, ";}")).split("\n"), a.remove()
        }
        for (var r = n.length - 1; 0 <= r; --r)
            for (var s = n[r], l = 0; l < i.length; ++l) {
                var d = i[l].cls,
                    c = i[l].key,
                    p = new RegExp("#" + t + " +" + fixRegSpecialCharacter(d) + " *{ *" + c + "s*:[^;]*;", "gi");
                if ("" != t && "undefined" != t || (p = new RegExp(fixRegSpecialCharacter(d) + " *{ *" + c + "s*:[^;]*;", "gi")), 0 == s.length || /^\s$/.test(s) || p.test(s)) {
                    n.splice(r, 1);
                    break
                }
            }
        $("head").append('<style type="text/css" id="' + e + '">' + n.join("\n") + "</style>")
    }, Fai.isEnterKey = function(e) {
        return $.browser.msie ? 13 == event.keyCode : 13 == e.which
    }, Fai.isNumberKey = function(e, t) {
        return $.browser.msie ? !(!t || 45 != event.keyCode) || (47 < event.keyCode && event.keyCode < 58 || 8 == event.keyCode) : !(!t || 45 != e.which) || (47 < e.which && e.which < 58 || 8 == e.which)
    }, Fai.isPhoneNumberKey = function(e, t) {
        return $.browser.msie ? !(!t || 45 != event.keyCode) || (47 < event.keyCode && event.keyCode < 58 || 8 == event.keyCode || 44 == event.keyCode) : !(!t || 45 != e.which) || (47 < e.which && e.which < 58 || 8 == e.which || 44 == e.which)
    }, Fai.checkTwoDecimal = function(e, t) {
        var i = $("#" + t).val(),
            a = /^[0-9]\d*(?:\.\d{1,2}|\d*)$/;
        if ($.browser.msie) {
            if (47 < event.keyCode && event.keyCode < 58) return i = i + "" + String.fromCharCode(e.which), a.test(i)
        } else if (47 < e.which && e.which < 58) return i = i + "" + String.fromCharCode(e.which), a.test(i)
    }, Fai.checkOneDecimal = function(e, t) {
        var i = $("#" + t).val(),
            a = /^[0-9]\d*(?:\.\d{1}|\d*)$/;
        if ($.browser.msie) {
            if (47 < event.keyCode && event.keyCode < 58) return i = i + "" + String.fromCharCode(e.which), a.test(i)
        } else if (47 < e.which && e.which < 58) return i = i + "" + String.fromCharCode(e.which), a.test(i)
    }, Fai.isNumberKey2 = function(e, t) {
        t ? $(e).val($(e).val().replace(/[^0-9\-]/g, "")) : $(e).val($(e).val().replace(/[^0-9]/g, ""))
    }, Fai.isFloatKey = function(e) {
        return $.browser.msie ? 47 < event.keyCode && event.keyCode < 58 || 8 == event.keyCode || 46 == event.keyCode : 47 < e.which && e.which < 58 || 8 == e.which || 46 == e.which
    }, Fai.enablePopupBodyWindowBtn = function(e, t, i) {
        t = "popup" + e + t;
        var a = $("#popupWindow" + e).find("#" + t);
        i ? (a.removeAttr("disabled"), a.faiButton && a.faiButton("enable")) : (a.attr("disabled", !0), a.faiButton && a.faiButton("disable"))
    }, Fai.addCtrlStyle = function(e, t) {
        var i = $("#" + e),
            a = new Array;
        if (1 == i.length) {
            var n = i.html();
            a = (n = n.replace(/{\r\n/g, "{").replace(/\t/g, "").replace(/\r\n}/g, ";}")).split("\n"), i.remove()
        }
        a.push(t), $("head").append('<style type="text/css" id="' + e + '">' + a.join("\n") + "</style>")
    }, Fai.setHomePage = function(e) {
        void 0 === e && (e = location.protocol + "//" + location.host);
        var t = !1;
        if ("undefined" != typeof LS && "undefined" != typeof LS.setHomePageSuccess || (t = !0), $.browser.msie) try {
            document.body.style.behavior = "url(#default#homepage)", document.body.setHomePage(e)
        } catch (o) {
            var i = "您的浏览器暂时不支持自动设为首页，请手动添加。";
            t || (n = LS.setHomePageNotSupport), alert(i)
        } else if ($.browser.mozilla) try {
            netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"), Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch).setCharPref("browser.startup.homepage", e);
            var a = "添加首页成功。";
            t || (a = LS.setHomePageSuccess), alert(a)
        } catch (o) {
            var n = "设置失败，请手动添加。";
            t || (n = LS.setHomePageError), alert(n)
        } else {
            i = "您的浏览器暂时不支持自动设为首页，请手动添加。";
            t || (i = LS.setHomePageNotSupport), alert(i)
        }
    }, Fai.parseFileSize = function(e) {
        if (void 0 === e || "number" != typeof e) return "-";
        var t;
        if (e < 1024) t = e + "B";
        else if (e < 1048576) {
            t = (e / 1024).toFixed(2) + "KB"
        } else {
            t = (e / 1048576).toFixed(2) + "MB"
        }
        return t
    }, Fai.isDigit = function(e) {
        return !(e < "0" || "9" < e)
    }, Fai.compareStrings = function(e, t, i) {
        "number" != typeof e && "boolean" != typeof e || (e = e.toString()), "number" != typeof t && "boolean" != typeof t || (t = t.toString());
        for (var a = {
                str1: e,
                str2: t,
                len1: e.length,
                len2: t.length,
                pos1: 0,
                pos2: 0
            }, n = 0; 0 == n && a.pos1 < a.len1 && a.pos2 < a.len2;) {
            var o = a.str1.charAt(a.pos1),
                r = a.str2.charAt(a.pos2);
            n = Fai.isDigit(o) ? Fai.isDigit(r) ? s(a) : -1 : Fai.isChinese(o) ? Fai.isChinese(r) ? d(a) : 1 : Fai.isLetter(o) ? Fai.isLetter(r) || Fai.isChinese(r) ? l(a, !0) : 1 : Fai.isDigit(r) ? 1 : Fai.isLetter(r) || Fai.isChinese(r) ? -1 : l(a, !1), a.pos1++, a.pos2++
        }
        return "asc" == i ? 0 == n ? a.len1 - a.len2 : n : -(0 == n ? a.len1 - a.len2 : n);

        function s(e) {
            for (var t = e.pos1 + 1; t < e.len1 && Fai.isDigit(e.str1.charAt(t));) t++;
            for (var i = t - e.pos1; e.pos1 < t && "0" == e.str1.charAt(e.pos1);) e.pos1++;
            for (var a = e.pos2 + 1; a < e.len2 && Fai.isDigit(e.str2.charAt(a));) a++;
            for (var n = a - e.pos2; e.pos2 < a && "0" == e.str2.charAt(e.pos2);) e.pos2++;
            var o = t - e.pos1 - (a - e.pos2);
            if (0 != o) return o;
            for (; e.pos1 < t && e.pos2 < a;)
                if (0 != (o = e.str1.charCodeAt(e.pos1++) - e.str2.charCodeAt(e.pos2++))) return o;
            return e.pos1--, e.pos2--, n - i
        }

        function l(e, t) {
            var i = e.str1.charAt(e.pos1),
                a = e.str2.charAt(e.pos2);
            return i == a ? 0 : (t && (i = i.toUpperCase()) != (a = a.toUpperCase()) && (i = i.toLowerCase(), a = a.toLowerCase()), i.charCodeAt(0) - a.charCodeAt(0))
        }

        function d(e) {
            var t, i, a = e.str1.charAt(e.pos1),
                n = e.str2.charAt(e.pos2);
            return a == n ? 0 : "undefined" != typeof window.Pinyin ? (t = window.Pinyin.getStringStriped(a, window.Pinyin.mode.LOWERCASE, !0), i = window.Pinyin.getStringStriped(n, window.Pinyin.mode.LOWERCASE, !0), -Fai.compareStrings(t, i)) : (t = a.charCodeAt(0)) == (i = n.charCodeAt(0)) ? 0 : t - i
        }
    }, Fai.getScrollWidth = function(e) {
        var t, i = document.createElement("div");
        return i.style.cssText = "overflow:scroll; width:100px; height:100px; background:transparent;", e && (i.className = "virtual_scroll_node"), document.body.appendChild(i), t = i.offsetWidth - i.clientWidth, document.body.removeChild(i), t
    }, Fai.calculate = function(e, t, i) {
        var a = 0,
            n = 0,
            o = 0;
        try {
            n = e.toString().split(".")[1].length
        } catch (l) {
            n = 0
        }
        try {
            o = t.toString().split(".")[1].length
        } catch (l) {
            o = 0
        }
        switch (i) {
            case 0:
                a = (e * (r = Math.pow(10, Math.max(n, o))) + t * r) / r;
                break;
            case 1:
                var r;
                a = ((e * (r = Math.pow(10, Math.max(n, o))) - t * r) / r).toFixed(o <= n ? n : o);
                break;
            case 2:
                a = s(e, t);
                break;
            case 3:
                a = s(Number(e.toString().replace(".", "")) / Number(t.toString().replace(".", "")), Math.pow(10, o - n))
        }
        return a;

        function s(e, t) {
            var i = 0;
            try {
                i += e.toString().split(".")[1].length
            } catch (l) {}
            try {
                i += t.toString().split(".")[1].length
            } catch (l) {}
            return Number(e.toString().replace(".", "")) * Number(t.toString().replace(".", "")) / Math.pow(10, i)
        }
    }, Fai._fileUpload2Old = function(e, t, i) {
        var a = Fai.fileUploadExtend(t, i);
        e ? $(e).unbind("click").bind("click", function() {
            Fai.popupWindow(Fai.fileUploadExtend(t, i))
        }) : Fai.popupWindow(a)
    }, Fai._fileUpload2New = function(e, t, i, y) {
        function a(e, t) {
            try {
                n(e, t)
            } catch (i) {
                Root.Message.warning("系统出错，请联系管理员。"), console && console.error(i)
            }
        }

        function n(e, t) {
            var i, a;
            switch (e.formCase) {
                case "logo":
                    i = 1;
                    break;
                case "banner":
                    i = 2;
                    break;
                case "productDetail":
                    i = 3;
                    break;
                default:
                    i = 0
            }
            switch (e.group) {
                case "none":
                    a = -1;
                    break;
                case "banner":
                    a = 0;
                    break;
                case "background":
                    a = 1;
                    break;
                case "image":
                    a = 2;
                    break;
                case "simple":
                    a = 3;
                    break;
                case "icon":
                    a = 4;
                    break;
                case "fodder":
                    a = 5;
                    break;
                case "mult":
                    a = 6;
                    break;
                case "video":
                    a = 7;
                    break;
                default:
                    a = 1
            } - 1 < [2, 3, 4, 5].indexOf(a) && e.type && 0 < e.type.length && e.type.indexOf("png") < 0 && e.type.push("png"), -1 < [2, 3, 4, 5].indexOf(a) && e.type && 0 < e.type.length && e.type.indexOf("svg") < 0 && e.type.push("svg");
            var n = e.tabIndex || (e.openIcon ? 1 : 0);
            2 != n || e.openIcon ? 0 != n && (n = 1) : n = 0, "none" == e.group && (n = 0);
            var o = e.guidance;
            void 0 === o && (o = !(!e || !e.type) && (-1 != e.type.indexOf("jpg") || -1 != e.type.indexOf("bmp") || -1 != e.type.indexOf("png") || -1 != e.type.indexOf("gif") || -1 != e.type.indexOf("svg") || -1 != e.type.indexOf("jpeg")));
            var r = document.body.style.overflow;
            setTimeout(function() {
                document.body.style.overflow = "hidden"
            }, 0);
            var s = {
                groupId: a,
                formCase: i,
                guidance: o,
                title: e.title,
                materialTypes: e.type,
                fileUploadSizeLimit: e.maxSize || (-1 < e.title.indexOf("图片") && 5 < Fai.top._global.file_size_limit ? 5 : Fai.top._global.file_size_limit),
                choosedMaterialIdsLimit: e.maxChoiceList || 1,
                isUseWatermark: Root.getCookieFlag(28) || !1,
                tabPaneIndex: n,
                popUpWinZIndex: e.popUpWinZIndex,
                customDescription: e.customDescription || ""
            };
            Fai.top.MaterialLibrary.App.render({
                data: Object.assign({}, s, y),
                token: $("#_TOKEN").attr("value"),
                methods: {
                    onConfirm: function l(e) {
                        e.data && 0 < e.data.length && e.data.forEach(function(e) {
                            if ("undefined" != typeof e.categoryId && Site.logDog(200783, e.categoryId + 1), e.isFodder) {
                                var t = {};
                                t.firstSort = e.categoryId, t.secondSort = e.topicIds[0], t.fodderId = e.fodderId, t.logType = 2, Site.logBssFodder(t)
                            }
                        }), t($.toJSON(e)), document.body.style.overflow = r
                    },
                    onClose: function d() {
                        document.body.style.overflow = r
                    },
                    onCancel: function c() {
                        document.body.style.overflow = r
                    },
                    onSettingWatermark: function p() {
                        Fai.top.Fai.popupWindowVersionTwo.createPopupWindow({
                            title: "设置水印效果",
                            frameSrcUrl: (top._siteDomain ? top._siteDomain : top._global ? top._global.siteDomain : "") + "/manage/watermarkEdit.jsp?status=1&ram=" + Math.random(),
                            width: 528,
                            height: 710,
                            version: 2
                        })
                    },
                    onSettingIsUseWatermark: function u(e) {
                        e.isUseWatermark ? Root.setCookieFlag(28, !0) : Root.setCookieFlag(28, !1)
                    },
                    onPictureMoving: function h() {
                        Fai.popupWindowVersionTwo.createPopupWindow({
                            title: "图片搬家",
                            frameSrcUrl: (top._siteDomain ? top._siteDomain : top._global ? top._global.siteDomain : "") + "/manage/imgSpiderEdit.jsp?ram=" + Math.random() + "&fileGroupId=0",
                            width: 680,
                            height: 620,
                            version: 2
                        })
                    },
                    message: function f(e) {
                        switch (e.status) {
                            case "success":
                                Root.Message.success(e.message);
                                break;
                            case "warning":
                            case "error":
                            default:
                                Root.Message.warning(e.message)
                        }
                    },
                    dispatchCategoryChange: function g(e) {
                        -1 < e.categoryId && Site.logDog(200783, e.categoryId + 8)
                    },
                    onLogDog: function m(e) {
                        Site.logDog(e.id, e.src)
                    },
                    onLogBssFodder: function v(e) {
                        Site.logBssFodder(e)
                    }
                }
            })
        }
        y = void 0 === y ? {} : y, e ? $(e).unbind("click").bind("click", function() {
            a(t, i)
        }) : a(t, i)
    }, Fai.fileUpload2 = function(e, t, i, a) {
        Site.logDog(200783, 0), Fai.top.MaterialLibrary && !t.useOld ? Fai._fileUpload2New(e, t, i, a) : Fai._fileUpload2Old(e, t, i)
    }, Fai.fileUploadExtend = function(e, t) {
        var i = {
            title: "添加文件",
            showTitle: !0,
            checkSaveBar: !1,
            crossiframe: "",
            type: [],
            maxSize: 1,
            maxUploadList: 1,
            maxChoiceList: 1,
            imgMode: 2,
            imgMaxWidth: 4096,
            imgMaxHeight: 4096,
            netFileMode: !1,
            popUpWinZIndex: 9032,
            useOldIcon: !1,
            oldIcon: {
                filePath: "",
                color: "",
                charContent: "",
                content: ""
            }
        };
        e && ($.extend(i, e), e.oldIcon && "function" == typeof e.oldIcon && (i.oldIcon = e.oldIcon() || i.oldIcon)), Fai.top._global && (i.maxSize = Fai.top._global.file_size_limit), -1 != i.title.indexOf("图片") && 5 < i.maxSize && (i.maxSize = 5);
        var a = i.title;
        0 < i.type.length && i.showTitle ? "undefined" != Fai.top._siteVer && 10 == Fai.top._siteVer ? a += "<span style='font-size:12px; color:#666;'> (&nbsp;只能添加" + i.type.join(",") + ", 免费版大小不超过" + i.maxSize + "MB&nbsp;)</span>" : "undefined" != Fai.top._ver && 10 == Fai.top._ver ? a += "<span style='font-size:12px; color:#666;'> (&nbsp;只能添加" + i.type.join(",") + ", 免费版大小不超过" + i.maxSize + "MB&nbsp;)</span>" : a += "<span style='font-size:12px; color:#666;'> (&nbsp;只能添加" + i.type.join(",") + ", 大小不超过" + i.maxSize + "MB&nbsp;)</span>" : a += "<span style='font-size:12px; color:#666;'> (&nbsp;上传大小不超过" + i.maxSize + "MB&nbsp;)</span>";
        var n = {
            title: a,
            frameSrcUrl: (top._siteDomain ? top._siteDomain : "") + "/manage/fileUploadV2.jsp?settings=" + Fai.encodeUrl($.toJSON(i)) + "&ram=" + Math.random() + "&crossiframe=" + Fai.encodeUrl(i.crossiframe),
            width: 950,
            height: 690,
            saveBeforePopup: !1,
            callArgs: "add",
            closeFunc: t,
            version: 2,
            popUpWinClass: "fileUploadV2",
            popUpWinZIndex: i.popUpWinZIndex
        };
        return e.saveBeforePopup !== undefined && (n.saveBeforePopup = e.saveBeforePopup), n
    }, Fai.compareObj = function(e, t, i) {
        if ("" === e) return "" === t ? 0 : 1;
        if ("" === t) return -1;
        if (isNaN(e)) {
            if (!isNaN(t)) return i ? -1 : 1
        } else {
            if (isNaN(t)) return i ? 1 : -1;
            e = Math.floor(e), t = Math.floor(t)
        }
        return t < e ? i ? -1 : 1 : e == t ? 0 : i ? 1 : -1
    }, Fai.popupWindow = function(e) {
        return 2 == e.version ? Fai.popupWindowVersionTwo.createPopupWindow(e) : Fai.popupWindowVersionOne($.extend(!0, {}, e))
    }, Fai.popupWindowVersionOne = function(a) {
        var n = {
            title: "",
            width: 500,
            height: 300,
            frameSrcUrl: "about:_blank",
            frameScrolling: "auto",
            bannerDisplay: !0,
            framePadding: !0,
            opacity: "0.5",
            displayBg: !0,
            bgClose: !1,
            closeBtnClass: "",
            waitingPHide: !0,
            popUpWinZIndex: 0
        };
        if (n = $.extend(n, a), Fai.popupWindowVersionOne._prefix && 0 < n.frameSrcUrl.length && 0 !== n.frameSrcUrl.indexOf("//") && 0 !== n.frameSrcUrl.indexOf("http")) {
            var e = n.frameSrcUrl;
            e = Fai.popupWindowVersionOne._urlFormater && "function" == typeof Fai.popupWindowVersionOne._urlFormater ? Fai.popupWindowVersionOne._urlFormater(Fai.popupWindowVersionOne._prefix, e) : Fai.popupWindowVersionOne + e, n.frameSrcUrl = e
        }
        var t = parseInt(n.width),
            i = parseInt(n.height),
            o = Fai.top.document.documentElement.clientWidth;
        $.browser.msie || (o = Fai.top.document.body.clientWidth);
        var r = Fai.top.document.documentElement.clientHeight,
            s = (o - t) / 2;
        null != n.leftMar && (s = parseInt(n.leftMar));
        var l = 80;
        n.bannerDisplay || (l = 0);
        var d = (r - i - l) / 2;
        null != n.topMar && (d = parseInt(n.topMar));
        var c = "",
            p = "",
            u = "";
        n.bannerDisplay || (p = "display:none;", c = "background:none;", n.closeBtnClass || (n.closeBtnClass = "formX_old")), n.framePadding || (c += "padding:0;", u = 'allowtransparency="true"');
        var h = parseInt(1e4 * Math.random()),
            f = "<iframe " + u + " id='popupWindowIframe" + h + "' class='popupWindowIframe' src='' frameborder='0' scrolling='" + n.frameScrolling + "' style='width:100%;height:100%;'></iframe>",
            g = !0;
        null != n.divId && (g = !1, f = $(n.divId).html()), null != n.divContent && (g = !1, f = n.divContent), n.displayBg && Fai.bg(h, n.opacity);
        var m = "",
            v = Fai.top.$("body").scrollTop();
        0 == v && (v = Fai.top.$("html").scrollTop());
        var y = "left:" + s + "px; top:" + (d + v) + "px;";
        n.popUpWinZIndex && (y += "z-index: " + n.popUpWinZIndex);
        var b = "position:relative;width:" + t + "px;height:" + i + "px;",
            x = "";
        $.browser.msie && (x = '<iframe id="fixFlashIframe' + h + '" style="position:absolute;z-index:-1;left:0;top:0;" frameborder="0" width="100%" height="100%" src="javascript:"></iframe>'), m = ['<div id="popupWindow' + h + '" class="formDialog" style="' + y + '">', x, '<div class="formTL" style=\'' + p + '\'><div class="formTR"><div class="formTC">' + n.title + "</div></div></div>", '<div class="formBL" style=\'' + c + "'>", '<div class="formBR" style=\'' + c + "'>", '<div class="formBC" id="formBC' + h + '" style="height:auto;' + c + '">', '<div class="formMSG" style="' + b + '">', f, "</div>", "<table cellpadding='0' cellspacing='0' class='formBtns'>", "<tr><td align='center' style='padding:15px 0px;'></td></tr>", "</table>", "</div>", '<div id="waitingP' + h + '" class="waitingP" style="height:auto;"></div>', "</div>", "</div>", '<a href="javascript:;" class="formX ' + n.closeBtnClass + "\" hidefocus='true' onclick='return false;'></a>", "</div>"];
        var _, w = Fai.top.$(m.join("")).appendTo("body"),
            C = 40,
            S = 20;
        if (n.bannerDisplay || (C = 0), w.height() + C > r - S) {
            var F = w.height() + C - w.find(".formMSG").height();
            w.find(".formMSG").css("height", r - S - F + "px"), w.css("top", 10 + v + "px")
        }
        return g ? Fai.top.$("#waitingP" + h).height(Fai.top.$("#formBC" + h).height()).width(Fai.top.$("#formBC" + h).width()) : n.waitingPHide && Fai.top.$("#waitingP" + h).hide(), null != n.divInit && n.divInit(h), Fai.top.$("#popupWindow" + h).ready(function() {
            if (g) {
                var e = "popupID=" + h;
                Fai.top.$("#popupWindowIframe" + h).attr("src", Fai.addUrlParams(n.frameSrcUrl, e)).load(function() {
                    n.waitingPHide && Fai.top.$("#waitingP" + h).hide()
                })
            }
            w.draggable({
                start: function t() {
                    Fai.top.$("body").disableSelection(), Fai.top.$("#colorpanel").remove(), Fai.top.$(".faiColorPicker").remove()
                },
                handle: ".formTL",
                stop: function i() {
                    Fai.top.$("body").enableSelection(), Fai.logDog(200046, 39)
                }
            }), w.find(".formX").bind("click", function() {
                return Fai.isNull(a.msg) ? Fai.closePopupWindow(h) : Fai.closePopupWindow(h, undefined, a.msg), !1
            }), w.find(".formTL").disableSelection(), n.bgClose && Fai.top.$("#popupBg" + h).bind("click", function() {
                return Fai.isNull(a.msg) ? Fai.closePopupWindow(h) : Fai.closePopupWindow(h, undefined, a.msg), !1
            })
        }), Fai.isNull(Fai.top._popupOptions) && (Fai.top._popupOptions = {}), Fai.isNull(Fai.top._popupOptions["popup" + h]) && (Fai.top._popupOptions["popup" + h] = {}), Fai.isNull(a.callArgs) || (Fai.top._popupOptions["popup" + h].callArgs = a.callArgs), Fai.top._popupOptions["popup" + h].options = a, Fai.top._popupOptions["popup" + h].change = !1, _typeof(a.frameSrcUrl) != undefined && $.ajax({
            url: "/ajax/log_h.jsp?cmd=monitorManageMode&siteId=" + Fai.top.siteId,
            type: "get",
            success: function k(e) {
                var t = $.parseJSON(e);
                _typeof(t.jsData) != undefined && "" != t.jsData && (_ = t.jsData, Fai.top.$("#popupWindow" + h).append(_))
            }
        }), h
    }, Fai.popupWindowVersionOne.setPrefix = function() {
        var e = 0 < arguments.length && arguments[0] !== undefined ? arguments[0] : "",
            t = 1 < arguments.length ? arguments[1] : undefined;
        Fai.popupWindow._prefix = e, Fai.popupWindow._urlFormater = t
    }, Fai.closePopupWindow = function(e, n, t) {
        if ($(".fk-popupWindowVT").length || Fai.top.$("body").removeClass("popup-open"), e) {
            if (Fai.isNull(Fai.top._popupOptions["popup" + e])) return;
            var i = Fai.top._popupOptions["popup" + e];
            if (i.customChange && i.customConfirm) return void i.customConfirm(function() {
                i.customChange = !1, Fai.closePopupWindow(e, n, t)
            });
            if (i.change && !i.options.closeNoComfirm) {
                var a = void 0 === t || "" == t ? "您的修改尚未保存，确定要离开吗？" : t;
                "undefined" != typeof Vue && Vue.prototype.$createDialog ? (new Vue).$createDialog({
                    content: a,
                    confirmButton: {
                        text: "确 定"
                    },
                    cancelButton: {
                        text: "取 消"
                    },
                    onConfirm: function r() {
                        o(e)
                    }
                }) : window.confirm(a) && o(e)
            } else o(e)
        } else Fai.removeBg(), Fai.top.$(".formDialog").remove();

        function o(e) {
            var t = Fai.top._popupOptions["popup" + e];
            if (!Fai.isNull(t) && !$.isEmptyObject(t))
                if (t.refresh) Fai.top.location.reload();
                else {
                    Fai.top.Fai.removeAllIng(!1);
                    var i = t.options;
                    Fai.isNull(i.closeFunc) || (n ? i.closeFunc(n) : i.closeFunc(Fai.top._popupOptions["popup" + e].closeArgs)), Fai.top._popupOptions["popup" + e] = {};
                    var a = Fai.top.$("#popupWindow" + e);
                    i.animate && Fai.top.Fai.closePopupWindowAnimate(a, i.animateTarget, i.animateOnClose), Fai.top.setTimeout("Fai.closePopupWindow_Internal('" + e + "')")
                }
        }
    }, Fai.closePopupWindowAnimate = function(e, t, i) {
        var a = $("<div>");
        Fai.top.$("body").append(a), a.css({
            border: "1px solid #ff4400",
            position: "absolute",
            "z-index": "9999",
            top: e.offset().top,
            left: e.offset().left,
            height: e.height() + "px",
            width: e.width() + "px"
        });
        var n = Fai.top.$("body").find(t);
        n.length < 1 && (n = a), a.animate({
            top: n.offset().top + "px",
            left: n.offset().left + "px",
            width: n.width() + "px",
            height: n.height() + "px"
        }, "slow", function() {
            "function" == typeof i && i(), a.remove()
        })
    }, Fai.removeAllIng = function() {
        Fai.top.$("#ing").remove()
    }, Fai.removeIng = function(e, t, i) {
        e ? void 0 !== t && 0 < Fai.top.$("#" + t).length ? (Fai.top.window.setTimeout(function() {
            $("#" + t).fadeOut(1e3)
        }, i || 3e3), Fai.top.window.setTimeout(function() {
            $("#" + t).remove()
        }, i ? i + 1500 : 4500)) : (Fai.top.$(".tips").fadeOut(1e3), Fai.top.window.setTimeout(function() {
            $("#ing").remove()
        }, i || 3e3)) : void 0 !== t && 0 < Fai.top.$("#" + t).length ? (Fai.top.$("#" + t).fadeOut(500), Fai.top.window.setTimeout(function() {
            $("#" + t).remove()
        }, 1e3)) : (Fai.top.$(".tips").fadeOut(500), Fai.top.window.setTimeout(function() {
            $("#ing").remove()
        }, 1e3)), Fai.top.$("#ing").css("opacity", 0)
    }, Fai.removeBg = function(e) {
        e ? Fai.top.$("#popupBg" + e).remove() : Fai.top.$(".jz_popup_window_bg").remove(), $("body").removeClass("jz_body_bging")
    }, Fai.closePopupWindow_Internal = function(e) {
        if (void 0 === e) {
            if ($.browser.msie && 10 == $.browser.version)
                if ((t = Fai.top.$(".formDialog").find(".popupWindowIframe")[0]) && (popupWindowIframeWindow = t.contentWindow, popupWindowIframeWindow)) try {
                    popupWindowIframeWindow.swfObj && popupWindowIframeWindow.swfObj.destroy(), popupWindowIframeWindow.editor && popupWindowIframeWindow.editor.swfObj && popupWindowIframeWindow.editor.swfObj.destroy()
                } catch (i) {}
            Fai.top.$(".popupBg").not(".popupZoneDelOnlyById").last().remove(), Fai.top.$(".formDialog").last().remove()
        } else {
            var t;
            if ($.browser.msie && 10 == $.browser.version)
                if ((t = Fai.top.document.getElementById("popupWindowIframe" + e)) && (popupWindowIframeWindow = t.contentWindow, popupWindowIframeWindow)) try {
                    popupWindowIframeWindow.swfObj && popupWindowIframeWindow.swfObj.destroy(), popupWindowIframeWindow.editor && popupWindowIframeWindow.editor.swfObj && popupWindowIframeWindow.editor.swfObj.destroy()
                } catch (i) {}
            Fai.top.Fai.removeBg(e), Fai.top.$("#popupWindowIframe" + e).remove(), Fai.top.$("#popupWindow" + e).remove(), $(".fk-popupWindowVT").length || Fai.top.$("body").removeClass("popup-open")
        }
    },
    function(u, d, c) {
        d.setPrefix = function() {
            var e = 0 < arguments.length && arguments[0] !== c ? arguments[0] : "",
                t = 1 < arguments.length ? arguments[1] : c;
            d._prefix = e, d._urlFormater = t
        }, d.createPopupWindow = function(e) {
            var i, a, t = new p(e);
            return a = t.popupWindowId, _typeof(e.frameSrcUrl) != c && u.ajax({
                url: "/ajax/log_h.jsp?cmd=monitorManageMode&siteId=" + Fai.top.siteId,
                type: "get",
                success: function n(e) {
                    var t = u.parseJSON(e);
                    _typeof(t.jsData) != c && "" != t.jsData && (i = t.jsData, Fai.top.$("#popupWindow" + a).append(i))
                }
            }), t
        }, d.renderPopupWinBtnComponent = function(e) {
            var t, i = {
                popupId: 0,
                initEvents: {}
            };
            i = u.extend(i, e), t = i.popupId;
            var a = Fai.top.$("#popupWindow" + t).find(".pWBtns"),
                n = {
                    close: function r() {
                        Fai.top.Fai.closePopupWindow(t)
                    }
                };
            for (var o in i.initEvents) n[o] = i.initEvents[o];
            return new Vue({
                el: a[0],
                data: {},
                methods: n
            })
        }, d.addPopupWinBtnComponentDom = function(e) {
            var t, i, a, n, o = {
                popupId: 0,
                id: "",
                text: "",
                disable: !1,
                active: !1,
                style: "",
                click: "close"
            };
            t = (o = u.extend(o, e)).popupId, i = Fai.top.$("#popupWindow" + t).find(".pWBtns"), a = "popup" + t + o.id, 0 < (n = i.find("#" + a)).length && n.remove();
            var r = "";
            r += "<button-component", r += ' class="pWBtn"', r += ' style="' + o.style + '"', r += ' id="' + a + '"', r += " global-oper", r += ' :active="' + o.active + '"', r += ' :disabled="' + o.disable + '"', r += ' @click.stop="' + o.click, r += '">', r += o.text, r += "</button-component>", Fai.top.$(r).appendTo(i)
        }, d.addPopupWindowButton = function(e) {
            var a, n, t, i, o, r = {
                popupId: 0,
                id: "",
                extClass: "",
                text: "",
                msg: "",
                popUpWinClass: "",
                popUpWinZIndex: 9032,
                disable: !1,
                click: function l() {},
                callback: null
            };
            if (r = u.extend(r, e), a = r.popupId, t = (n = Fai.top.$("#popupWindow" + a)).find(".pWBtns"), i = "popup" + a + r.id, 0 < (o = t.find("#" + i)).length && o.remove(), "help" != r.click)
                if ("undefined" != typeof r.extClass) {
                    var s = r.extClass;
                    Fai.top.$("<input id='" + i + "' type='button' value='" + r.text + "' class='editbutton' extClass='" + s + "' />").appendTo(t)
                } else Fai.top.$("<input id='" + i + "' type='button' value='" + r.text + "' class='editbutton' />").appendTo(t);
            "function" == typeof(o = t.find("#" + i)).faiButton && o.faiButton(), r.callback && "[object Function]" === Object.prototype.toString.call(r.callback) && o.click(function() {
                r.callback(), Fai.isNull(r.msg) ? Fai.top.Fai.closePopupWindow(a) : Fai.top.Fai.closePopupWindow(a, c, r.msg)
            }), "close" == r.click ? o.click(function() {
                Fai.isNull(r.msg) ? Fai.top.Fai.closePopupWindow(a) : Fai.top.Fai.closePopupWindow(a, c, r.msg)
            }) : o.click(r.click), r.disable && o.attr("disabled", !0), u(document).keydown(function(e) {
                if (13 == e.keyCode) {
                    var t = n.find("#popup" + a + "save");
                    if (0 < t.length && !t.prop("disabled")) {
                        var i;
                        if ((i = u(":focus")).is("input[type='text']") || i.is("textarea")) return;
                        t.trigger("click")
                    }
                }
            })
        };
        var p = function p(e) {
            var t = {
                title: "",
                width: 500,
                height: 300,
                top: 0,
                left: 0,
                frameSrcUrl: "about:_blank",
                frameScrolling: "auto",
                bannerDisplay: !0,
                framePadding: !0,
                opacity: "0.5",
                displayBg: !0,
                bgClose: !1,
                closeBtnHide: !1,
                waitingPHide: !0,
                divId: null,
                divContent: null,
                msg: "",
                popUpWinClass: "",
                popUpWinZIndex: 9032,
                replaceContent: !1,
                noframeUrl: !1,
                noHeadLine: !1,
                noHeadBorder: !1,
                popUpTip: "",
                callback: null,
                closeFunc: null
            };
            if (this.settings = u.extend(t, e), d._prefix && 0 < this.settings.frameSrcUrl.length && 0 !== this.settings.frameSrcUrl.indexOf("//") && 0 !== this.settings.frameSrcUrl.indexOf("http")) {
                var i = this.settings.frameSrcUrl;
                i = d._urlFormater && "function" == typeof d._urlFormater ? d._urlFormater(d._prefix, i) : d._prefix + i, this.settings.frameSrcUrl = i
            }
            if (this.contentWidth = parseInt(this.settings.width), this.contentHeight = parseInt(this.settings.height), this.popUpWinClass = this.settings.popUpWinClass, this.popupWindowId = this.settings.replaceContent ? this.settings.popupWindowId : parseInt(1e4 * Math.random()), this.iframeMode = !0, this.popupWin, this.pWHead, this.pWHeadHeight, this.pwLoading, this.init(), h(this), this.settings.noframeUrl) {
                var a = this.popupWindowId,
                    n = "popup" + this.popupWindowId + "save",
                    o = "popup" + this.popupWindowId + "cloze",
                    r = Fai.top.$("#popupWindow" + this.popupWindowId).find(".pWBtns"),
                    s = this.settings.btnConfirm ? this.settings.btnConfirm : "确定",
                    l = this.settings.btnCls ? this.settings.btnCls : "取消";
                Fai.top.$("<input id='" + n + "' type='button' value='" + s + "' class='jz-btn jz-btn-global-oper' extClass='' />").appendTo(r), Fai.top.$("<input id='" + o + "' type='button' value='" + l + "' class='jz-btn jz-btn-global-oper' extClass='' />").appendTo(r), Fai.top.$("#" + n).bind("click", function() {
                    Fai.closePopupWindow(a, {
                        select: !0
                    })
                }), Fai.top.$("#" + o).bind("click", function() {
                    Fai.closePopupWindow(a, {
                        select: !1
                    })
                })
            }
        };

        function h(e) {
            var a = e,
                n = a.popupWin;
            n.ready(function() {
                var e = a.popupWindowId;
                if (a.iframeMode && !a.settings.noframeUrl) {
                    var t = "popupID=" + e;
                    Fai.top.$("#popupWindowIframe" + e).attr("src", Fai.addUrlParams(a.settings.frameSrcUrl, t)).load(function() {
                        var e = a.popupWin.find(".pWCenter"),
                            t = a.popupWin.find(".pWBottom").height();
                        e.css("border-bottom", "2px solid transparent"), "fileUploadV2" != a.popUpWinClass && (u(this).find("html").css("overflow-y", "auto"), e.height(a.contentHeight - a.pWHeadHeight - t - parseInt(e.css("border-bottom-width").replace("px", ""))), e.width(a.contentWidth)), a.settings.waitingPHide && a.pwLoading.hide(), Fai.top._isTemplateVersion2 && Fai.top._useBannerVersionTwo && "undefined" != typeof Site && "undefined" != typeof Fai.top._bannerV2Data && Fai.top._bannerV2Data.bl && 1 < Fai.top._bannerV2Data.bl.length && Site.bannerV2.stopBannerInterval()
                    })
                }

                function i() {
                    n.draggable({
                        start: function e() {
                            Fai.top.$("body").disableSelection(), Fai.top.$("#colorpanel").remove(), Fai.top.$(".faiColorPicker").remove()
                        },
                        containment: "body",
                        handle: ".pWHead",
                        stop: function t() {
                            Fai.top.$("body").enableSelection(), Fai.logDog(200046, 39)
                        }
                    })
                }
                i(), n.find(".pWHead").off("mouseenter.popenter").on("mouseenter.popenter", function() {
                    i()
                }), n.find(".pWHead").off("mouseleave.popleave").on("mouseleave.popleave", function() {
                    n.draggable("destroy")
                }), n.find(".J_pWHead_close").bind("click", function() {
                    var e = a.popupWindowId;
                    return Fai.isNull(a.settings.msg) ? Fai.closePopupWindow(e) : Fai.closePopupWindow(e, c, a.settings.msg), !1
                }), n.find(".J_pWHead_close").disableSelection(), a.settings.bgClose && Fai.top.$("#popupBg" + id).bind("click", function() {
                    return Fai.isNull(a.settings.msg) ? Fai.closePopupWindow(id) : Fai.closePopupWindow(id, c, a.settings.msg), !1
                }), a.settings.callback && "[object Function]" === Object.prototype.toString.call(a.settings.callback) && a.settings.callback()
            })
        }
        u.extend(p.prototype, {
            init: function f() {
                var e, t, i, a, n = "",
                    o = "",
                    r = "",
                    s = "",
                    l = "",
                    d = !1;
                e = "<iframe id='popupWindowIframe" + (t = this.popupWindowId) + "' class='popupWindowIframe' src='' frameborder='0' scrolling='" + this.settings.frameScrolling + "' style='width:100%;height:100%;'></iframe>", null != this.settings.divId ? (this.iframeMode = !1, e = u(this.settings.divId).html()) : null != this.settings.divContent ? (this.iframeMode = !1, e = this.settings.divContent) : this.settings.noframeUrl && (this.iframeMode = !1, e = "<p id='J_popUptip' style='margin-top: 45px; text-align: center;padding-left: 35px;padding-right: 35px;font-size: 15px;'>" + this.settings.popUpTip + "</p>"), this.settings.noHeadLine && (n = "display:none;", l = "height: 90px;"), this.settings.noHeadBorder && (o = "border-bottom-color:#ffffff;"), s = (s = n + o) ? " style='" + s + "'" : "", this.settings.displayBg && !this.settings.replaceContent && Fai.bg(t, this.settings.opacity, this.settings.popUpWinZIndex);
                var c = "";
                this.settings.popUpWinZIndex && (c = "z-index: " + this.settings.popUpWinZIndex), this.settings.replaceContent && (c = "animation: initial;"), a = Fai.top.document.documentElement.clientHeight, Fai.top.document.documentElement.clientWidth, this.contentHeight > a && (this.contentHeight = a, d = !0);
                var p = Fai.top.$("body").scrollTop();
                0 == p && (p = Fai.top.$("html").scrollTop()), 0 !== this.settings.top || 0 !== this.settings.left ? r = "left: " + this.settings.left + "px;top: " + this.settings.top + "px;" : (r = "left: " + (Fai.top.document.documentElement.clientWidth - this.contentWidth) / 2 + "px;", r += "top: " + (Fai.top.document.documentElement.clientHeight - this.contentHeight) / 2 + "px;"), i = '<div id="popupWindow' + t + '" hasScroll=' + d + "  class='fk-popupWindowVT " + this.settings.popUpWinClass + "' style='" + r + " height:" + this.contentHeight + "px; " + c + "' onmousedown='event.preventDefault();event.stopPropagation();'><div class='pWHead'" + s + "><div class='pWHead_title'>" + this.settings.title + "</div><div style='" + (this.settings.closeBtnHide ? "display: none;" : "") + "' class='pWHead_close'><div class='J_pWHead_close pWHead_close_img'></div></div></div><div class='pWCenter' style='width:" + this.contentWidth + "px;" + l + "' onmousedown='event.stopPropagation();'>" + e + "<div class='tabs_extendedLine' style='display:none;'></div></div><div class='pWBottom'><div class='pWBtns'></div></div><div id=\"pwLoading" + t + "\" class='pwLoading' style='height:auto;'></div></div>", this.settings.replaceContent ? (Fai.top.$("#popupWindow" + t).css("animation", "initial"), Fai.top.$("#popupWindow" + t).replaceWith(i)) : Fai.top.$("body").append(i), this.popupWin = Fai.top.$("#popupWindow" + t), this.pWHead = this.popupWin.find(".pWHead"), this.pWHeadHeight = this.pWHead.height(), this.pwLoading = this.popupWin.find("#pwLoading" + t), this.iframeMode ? this.pwLoading.height(this.contentHeight - this.pWHeadHeight).width(this.contentWidth) : this.settings.waitingPHide && this.pwLoading.hide(), !Fai.isNull(Fai.top._popupOptions) && Fai.top._popupOptions || (Fai.top._popupOptions = {}), !Fai.isNull(Fai.top._popupOptions["popup" + t]) && Fai.top._popupOptions["popup" + t] || (Fai.top._popupOptions["popup" + t] = {}), Fai.isNull(this.settings.callArgs) || (Fai.top._popupOptions["popup" + t].callArgs = this.settings.callArgs), Fai.top._popupOptions["popup" + t].options = this.settings, Fai.top._popupOptions["popup" + t].change = !1, Fai.top.$("body").addClass("popup-open")
            },
            getPopupWindowId: function e() {
                return this.popupWindowId
            }
        })
    }(jQuery, Fai.popupWindowVersionTwo || (Fai.popupWindowVersionTwo = {})), Fai.setPopupCustomConfirm = function(e, t) {
        Fai.top._popupOptions && Fai.isNull(Fai.top._popupOptions) || Fai.isNull(Fai.top._popupOptions["popup" + e]) || "function" == typeof t && (Fai.top._popupOptions["popup" + e].customConfirm = t)
    }, Fai.setPopupCustomChange = function(e, t) {
        Fai.isNull(Fai.top._popupOptions) || Fai.isNull(Fai.top._popupOptions["popup" + e]) || (Fai.top._popupOptions["popup" + e].customChange = t)
    }, Fai.setPopupWindowChange = function(e, t) {
        Fai.isNull(Fai.top._popupOptions) || Fai.isNull(Fai.top._popupOptions["popup" + e]) || (Fai.top._popupOptions["popup" + e].change = t)
    }, Fai.enablePopupWindowBtn = function(e, t, i) {
        t = "popup" + e + t;
        var a = Fai.top.$("#popupWindow" + e).find("#" + t);
        i ? a.removeAttr("disabled") : a.attr("disabled", !0)
    }, Fai.addInterval = function(e, t, i) {
        Fai.isNull(Fai.intervalFunc) && (Fai.intervalFunc = new Array);
        for (var a = 0; a < Fai.intervalFunc.length; ++a)
            if (Fai.intervalFunc[a].id == e) {
                Fai.intervalFunc.splice(a, 1);
                break
            } Fai.intervalFunc.push({
            id: e,
            func: t,
            interval: i,
            type: 1
        })
    }, Fai.addTimeout = function(e, t, i) {
        Fai.isNull(Fai.intervalFunc) && (Fai.intervalFunc = new Array);
        for (var a = 0; a < Fai.intervalFunc.length; ++a)
            if (Fai.intervalFunc[a].id == e) {
                Fai.intervalFunc.splice(a, 1);
                break
            } Fai.intervalFunc.push({
            id: e,
            func: t,
            interval: i,
            type: 0
        })
    }, Fai.addBookmark = function(e, t) {
        e = "" == e ? document.title : e, t = "" == t ? "http://" + window.location.host : t;
        try {
            try {
                window.sidebar.addPanel(e, t, "")
            } catch (i) {
                window.external.AddFavorite(t, e)
            }
        } catch (a) {
            alert("收藏网站失败，请使用Ctrl+D进行添加。")
        }
    }, Fai.startInterval = function(e) {
        if (!Fai.isNull(Fai.intervalFunc))
            for (var t = 0; t < Fai.intervalFunc.length; ++t) {
                var i = Fai.intervalFunc[t];
                null != e && i.id != e || (i.timer && clearInterval(i.timer), 1 == i.type ? i.timer = setInterval(i.func, i.interval) : i.timer = setTimeout(i.func, i.interval))
            }
    }, Fai.stopInterval = function(e) {
        if (!Fai.isNull(Fai.intervalFunc))
            for (var t = 0; t < Fai.intervalFunc.length; ++t) {
                var i = Fai.intervalFunc[t];
                null != e && i.id != e || i.timer && clearInterval(i.timer)
            }
    },
    function(c) {
        c.flag = function(e, t, i) {
            if ("number" != typeof e) return null;
            var a = {
                key: 0,
                digit: 32,
                options: "",
                setBoolean: ""
            };
            if (!t && 0 !== t) return null;
            if (c.extend(a, {
                    key: e,
                    options: t,
                    setBoolean: i
                }), "number" == typeof t) {
                if ("boolean" != typeof a.setBoolean) {
                    if (0 <= a.options && a.options < a.digit) {
                        var n = 1 << a.options;
                        return (a.key & n) == n
                    }
                    return !1
                }
                if (0 <= a.options && a.options < a.digit) {
                    n = 1 << a.options;
                    a.setBoolean ? e |= n : e &= ~n
                }
                return e
            }
            if ("object" === _typeof(t)) {
                var o = t["true"],
                    r = t["false"];
                if ((void 0 !== o || void 0 !== r) && (0 < o.length || 0 < r.length)) {
                    for (var s = {}, l = 0; l < o.length; l++) s[o[l]] = !0;
                    for (l = 0; l < r.length; l++) s[r[l]] = !1;
                    c.extend(a, {
                        options: s
                    })
                }
                for (l = 0; l < a.digit; l++) {
                    var d = a.options[l];
                    n = 1 << l;
                    void 0 !== d && "boolean" == typeof d && (d ? e |= n : e &= ~n)
                }
                return e
            }
        }
    }(jQuery),
    function(g) {
        g.fn.numeric = function(e, t) {
            "boolean" == typeof e && (e = {
                decimal: e
            }), "undefined" == typeof(e = e || {}).negative && (e.negative = !0);
            var i = !1 === e.decimal ? "" : e.decimal || ".",
                a = !0 === e.negative;
            return t = "function" == typeof t ? t : function() {}, this.data("numeric.decimal", i).data("numeric.negative", a).data("numeric.callback", t).keypress(g.fn.numeric.keypress).keyup(g.fn.numeric.keyup).blur(g.fn.numeric.blur)
        }, g.fn.numeric.keypress = function(e) {
            var t = g.data(this, "numeric.decimal"),
                i = g.data(this, "numeric.negative"),
                a = e.charCode ? e.charCode : e.keyCode ? e.keyCode : 0;
            if (13 == a && "input" == this.nodeName.toLowerCase()) return !0;
            if (13 == a) return !1;
            var n = !1;
            if (e.ctrlKey && 97 == a || e.ctrlKey && 65 == a) return !0;
            if (e.ctrlKey && 120 == a || e.ctrlKey && 88 == a) return !0;
            if (e.ctrlKey && 99 == a || e.ctrlKey && 67 == a) return !0;
            if (e.ctrlKey && 122 == a || e.ctrlKey && 90 == a) return !0;
            if (e.ctrlKey && 118 == a || e.ctrlKey && 86 == a || e.shiftKey && 45 == a) return !0;
            if (a < 48 || 57 < a) {
                var o = g(this).val();
                if (0 !== o.indexOf("-") && i && 45 == a && (0 === o.length || 0 === parseInt(g.fn.getSelectionStart(this), 10))) return !0;
                t && a == t.charCodeAt(0) && -1 != o.indexOf(t) && (n = !1), 8 != a && 9 != a && 13 != a && 35 != a && 36 != a && 37 != a && 39 != a && 46 != a ? n = !1 : "undefined" != typeof e.charCode && (e.keyCode == e.which && 0 !== e.which ? (n = !0, 46 == e.which && (n = !1)) : 0 !== e.keyCode && 0 === e.charCode && 0 === e.which && (n = !0)), t && a == t.charCodeAt(0) && (n = -1 == o.indexOf(t))
            } else n = !0;
            return n
        }, g.fn.numeric.keyup = function(e) {
            var t = g(this).val();
            if (t && 0 < t.length) {
                var i = g.fn.getSelectionStart(this),
                    a = g.fn.getSelectionEnd(this),
                    n = g.data(this, "numeric.decimal"),
                    o = g.data(this, "numeric.negative");
                if ("" !== n && null !== n) {
                    var r = t.indexOf(n);
                    0 === r && (this.value = "0" + t), 1 == r && "-" == t.charAt(0) && (this.value = "-0" + t.substring(1)), t = this.value
                }
                for (var s = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, "-", n], l = t.length, d = l - 1; 0 <= d; d--) {
                    var c = t.charAt(d);
                    0 !== d && "-" == c ? t = t.substring(0, d) + t.substring(d + 1) : 0 !== d || o || "-" != c || (t = t.substring(1));
                    for (var p = !1, u = 0; u < s.length; u++)
                        if (c == s[u]) {
                            p = !0;
                            break
                        } p && " " != c || (t = t.substring(0, d) + t.substring(d + 1))
                }
                var h = t.indexOf(n);
                if (0 < h)
                    for (var f = l - 1; h < f; f--) {
                        t.charAt(f) == n && (t = t.substring(0, f) + t.substring(f + 1))
                    }
                this.value = t, g.fn.setSelection(this, [i, a])
            }
        }, g.fn.numeric.blur = function() {
            var e = g.data(this, "numeric.decimal"),
                t = g.data(this, "numeric.callback"),
                i = this.value;
            "" !== i && (new RegExp("^\\d+$|^\\d*" + e + "\\d+$").exec(i) || t.apply(this))
        }, g.fn.removeNumeric = function() {
            return this.data("numeric.decimal", null).data("numeric.negative", null).data("numeric.callback", null).unbind("keypress", g.fn.numeric.keypress).unbind("blur", g.fn.numeric.blur)
        }, g.fn.getSelectionStart = function(e) {
            if (e.createTextRange) {
                var t = document.selection.createRange().duplicate();
                return t.moveEnd("character", e.value.length), "" === t.text ? e.value.length : e.value.lastIndexOf(t.text)
            }
            return e.selectionStart
        }, g.fn.getSelectionEnd = function(e) {
            if (e.createTextRange) {
                var t = document.selection.createRange().duplicate();
                return t.moveStart("character", -e.value.length), t.text.length
            }
            return e.selectionEnd
        }, g.fn.setSelection = function(e, t) {
            if ("number" == typeof t && (t = [t, t]), t && t.constructor == Array && 2 == t.length)
                if (e.createTextRange) {
                    var i = e.createTextRange();
                    i.collapse(!0), i.moveStart("character", t[0]), i.moveEnd("character", t[1]), i.select()
                } else e.setSelectionRange && (e.focus(), e.setSelectionRange(t[0], t[1]))
        }
    }(jQuery), Fai.getLanCode = function() {
        var e = Fai.top._lcid,
            t = "";
        return e = e || 2052, dict = {
            2052: "cn",
            1033: "en",
            1028: "tcn",
            1041: "jp",
            1042: "kor",
            1108: "lo",
            1054: "th",
            11274: "es",
            1049: "ru",
            1036: "fra",
            1040: "it",
            1031: "de",
            20521: "ug"
        }, t = dict[e], String.prototype.startsWith || (String.prototype.startsWith = function(e, t) {
            return t = t || 0, this.indexOf(e, t) === t
        }), window.location.pathname.startsWith("/" + t) || (t = ""), t
    }, Fai.formatPriceEn = function(e, t, a) {
        if (t = 0 <= t && t <= 20 ? t : 2, e = a ? parseFloat((e + "").replace(/[^\d\.-]/g, "")) + "" : parseFloat((e + "").replace(/[^\d\.-]/g, "")).toFixed(t) + "", 0 == t || a && e.indexOf(".") < 0) {
            var n = e.split("").reverse(),
                o = "";
            for (i = 0; i < n.length; i++) o += n[i] + ((i + 1) % 3 == 0 && i + 1 != n.length ? "," : "");
            return o.split("").reverse().join("")
        }
        var r = e.split(".")[0].split("").reverse(),
            s = e.split(".")[1];
        for (res2 = "", i = 0; i < r.length; i++) res2 += r[i] + ((i + 1) % 3 == 0 && i + 1 != r.length ? "," : "");
        return res2.split("").reverse().join("") + "." + s
    }, Fai.hexadecimalToRgb = function(e) {
        var t = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,
            i = "#",
            a = [];
        if ((e = e.toLowerCase()) && t.test(e)) {
            if (4 === e.length) {
                for (var n = 1; n < 4; n += 1) i += e.slice(n, n + 1).concat(e.slice(n, n + 1));
                e = i
            }
            for (n = 1; n < 7; n += 2) a.push(parseInt("0x" + e.slice(n, n + 2)));
            return a.join(",")
        }
        return e
    }, Fai.isNewUser = function(e) {
        var t = void 0;
        if (e === t) return t;
        var i = Fai.top._acctCreateTime;
        if (void 0 !== i) {
            var a = (new Date).getTime() - i;
            if (!(i <= 0 || a < 0)) return (a = n(a)) <= e
        }

        function n(e) {
            var t = 864e5;
            return Math.ceil(e / t) || 0
        }
    }, Fai.transforThumbpath = function(e, t) {
        if (null == t || null == e || t.width <= 0 || t.height <= 0 || "" == e) return e;
        if (-1 < e.indexOf("no-pic")) return e;
        if (-1 < e.indexOf("image/materialLib")) return e;
        for (var i = t.width >= t.height ? t.width : t.height, a = [60, 100, 160, 200, 300, 400, 500, 600, 700, 800, 900, 1500, 2e3], n = 0; n < a.length; n++) {
            if (i <= a[n]) {
                i = a[n];
                break
            }
            i = 0
        }
        if (0 == i) return e;
        var o = e.lastIndexOf("/");
        if (o < 0) return e;
        var r = e.lastIndexOf(".");
        if (r < o) return e;
        e.substring(o + 1, r);
        return e.substring(0, r) + "!" + i + "x" + i + e.substring(r)
    }, Fai.ing = function(e, t, i) {
        var a = null == e || "" == e ? "正在处理..." : e,
            n = (Fai.top.document.body.clientWidth, Fai.top.document.body.clientHeight, "");
        n = "<div id='ing' style='" + "position:fixed; top:50px; left: 50%; margin:0px auto; width:auto;  z-index:9999;" + "transition: opacity ease .6s; -moz-transition: opacity ease .6s; -webkit-transition: opacity ease .6s; -o-transition: opacity ease .6s; opacity: 0; -webkit-opacity: 0; -moz-opacity: 0; -khtml-opacity: 0; filter:alpha(opacity=0);" + "'></div>", 0 == Fai.top.$("#ing").length && Fai.top.$(n).appendTo("body");
        var o = Fai.top.$("#ing"),
            r = Fai.top.$(document).scrollTop();
        Fai.isIE() && 0 == r && (r = Fai.top.$("html").scrollTop());
        var s = parseInt(1e4 * Math.random()),
            l = "";
        l += '<div id="' + s + '" class="tips"><div class="msg">' + a + "</div><div class='close' onclick=\"Fai.top.Fai.removeIng(false, " + s + ');"></div></div>', o.find(".tips").remove(), Fai.top.$(l).appendTo(o);
        var d = Fai.top.$(o).width();
        Fai.top.$(o).css("left", (Fai.top.document.documentElement.clientWidth - d) / 2), t && Fai.top.Fai.removeIng(t, s, i), Fai.isIE6() || Fai.isIE7() || Fai.isIE8() ? Fai.top.$("#ing").animate({
            opacity: 1,
            filter: "alpha(opacity=100)"
        }, 300) : Fai.top.$("#ing").css({
            opacity: 1
        }), Fai.top.$("#ing").find(".close").bind("mouseenter", function() {
            $(this).addClass("close_hover")
        }).bind("mouseleave", function() {
            $(this).removeClass("close_hover")
        })
    },
    function(h) {
        "use strict";
        var t = /["\\\x00-\x1f\x7f-\x9f]/g,
            i = {
                "\b": "\\b",
                "\t": "\\t",
                "\n": "\\n",
                "\f": "\\f",
                "\r": "\\r",
                '"': '\\"',
                "\\": "\\\\"
            },
            f = Object.prototype.hasOwnProperty;
        h.toJSON = function(e) {
            if (null === e) return "null";
            var t, i, a, n, o = h.type(e);
            if ("undefined" === o) return undefined;
            if ("number" === o || "boolean" === o) return String(e);
            if ("string" === o) return h.quoteString(e);
            if ("function" == typeof e.toJSON) return h.toJSON(e.toJSON());
            if ("date" === o) {
                var r = e.getUTCMonth() + 1,
                    s = e.getUTCDate(),
                    l = e.getUTCFullYear(),
                    d = e.getUTCHours(),
                    c = e.getUTCMinutes(),
                    p = e.getUTCSeconds(),
                    u = e.getUTCMilliseconds();
                return r < 10 && (r = "0" + r), s < 10 && (s = "0" + s), d < 10 && (d = "0" + d), c < 10 && (c = "0" + c), p < 10 && (p = "0" + p), u < 100 && (u = "0" + u), u < 10 && (u = "0" + u), '"' + l + "-" + r + "-" + s + "T" + d + ":" + c + ":" + p + "." + u + 'Z"'
            }
            if (t = [], h.isArray(e)) {
                for (i = 0; i < e.length; i++) t.push(h.toJSON(e[i]) || "null");
                return "[" + t.join(",") + "]"
            }
            if ("object" === _typeof(e)) {
                for (i in e)
                    if (f.call(e, i)) {
                        if ("number" === (o = _typeof(i))) a = '"' + i + '"';
                        else {
                            if ("string" !== o) continue;
                            a = h.quoteString(i)
                        }
                        "function" !== (o = _typeof(e[i])) && "undefined" !== o && (n = h.toJSON(e[i]), t.push(a + ":" + n))
                    } return "{" + t.join(",") + "}"
            }
        }, h.evalJSON = "object" === ("undefined" == typeof JSON ? "undefined" : _typeof(JSON)) && JSON.parse ? JSON.parse : function(e) {
            return Fai.fkEval("(" + e + ")")
        }, h.secureEvalJSON = "object" === ("undefined" == typeof JSON ? "undefined" : _typeof(JSON)) && JSON.parse ? JSON.parse : function(e) {
            var t = e.replace(/\\["\\\/bfnrtu]/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "");
            if (/^[\],:{}\s]*$/.test(t)) return Fai.fkEval("(" + e + ")");
            throw new SyntaxError("Error parsing JSON, source is not valid.")
        }, h.quoteString = function(e) {
            return e.match(t) ? '"' + e.replace(t, function(e) {
                var t = i[e];
                return "string" == typeof t ? t : (t = e.charCodeAt(), "\\u00" + Math.floor(t / 16).toString(16) + (t % 16).toString(16))
            }) + '"' : '"' + e + '"'
        }
    }(jQuery),
    function(T, _, g) {
        var h = "mCustomScrollbar",
            O = "mCS",
            a = ".mCustomScrollbar",
            n = {
                setWidth: !1,
                setHeight: !1,
                setTop: 0,
                setLeft: 0,
                axis: "y",
                scrollbarPosition: "inside",
                scrollInertia: 950,
                autoDraggerLength: !0,
                autoHideScrollbar: !1,
                autoExpandScrollbar: !1,
                alwaysShowScrollbar: 0,
                snapAmount: null,
                snapOffset: 0,
                mouseWheel: {
                    enable: !0,
                    scrollAmount: "auto",
                    axis: "y",
                    preventDefault: !1,
                    deltaFactor: "auto",
                    normalizeDelta: !1,
                    invert: !1,
                    disableOver: ["select", "option", "keygen", "datalist", "textarea"]
                },
                scrollButtons: {
                    enable: !1,
                    scrollType: "stepless",
                    scrollAmount: "auto"
                },
                keyboard: {
                    enable: !0,
                    scrollType: "stepless",
                    scrollAmount: "auto"
                },
                contentTouchScroll: 25,
                advanced: {
                    autoExpandHorizontalScroll: !1,
                    autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
                    updateOnContentResize: !0,
                    updateOnImageLoad: !0,
                    updateOnSelectorChange: !1
                },
                theme: "light",
                callbacks: {
                    onScrollStart: !1,
                    onScroll: !1,
                    onTotalScroll: !1,
                    onTotalScrollBack: !1,
                    whileScrolling: !1,
                    onTotalScrollOffset: 0,
                    onTotalScrollBackOffset: 0,
                    alwaysTriggerOffsets: !0
                },
                live: !1,
                liveSelector: null
            },
            r = 0,
            s = {},
            l = function l(e) {
                s[e] && (clearTimeout(s[e]), A._delete.call(null, s[e]))
            },
            m = _.attachEvent && !_.addEventListener ? 1 : 0,
            P = !1,
            b = {
                init: function d(o) {
                    o = T.extend(!0, {}, n, o);
                    var e = A._selector.call(this);
                    if (o.live) {
                        var t = o.liveSelector || this.selector || a,
                            i = T(t);
                        if ("off" === o.live) return void l(t);
                        s[t] = setTimeout(function() {
                            i.mCustomScrollbar(o), "once" === o.live && i.length && l(t)
                        }, 500)
                    } else l(t);
                    return o.setWidth = o.set_width ? o.set_width : o.setWidth, o.setHeight = o.set_height ? o.set_height : o.setHeight, o.axis = o.horizontalScroll ? "x" : A._findAxis.call(null, o.axis), o.scrollInertia = o.scrollInertia < 17 ? 17 : o.scrollInertia, "object" !== _typeof(o.mouseWheel) && 1 == o.mouseWheel && (o.mouseWheel = {
                        enable: !0,
                        scrollAmount: "auto",
                        axis: "y",
                        preventDefault: !1,
                        deltaFactor: "auto",
                        normalizeDelta: !1,
                        invert: !1
                    }), o.mouseWheel.scrollAmount = o.mouseWheelPixels ? o.mouseWheelPixels : o.mouseWheel.scrollAmount, o.mouseWheel.normalizeDelta = o.advanced.normalizeMouseWheelDelta ? o.advanced.normalizeMouseWheelDelta : o.mouseWheel.normalizeDelta, o.scrollButtons.scrollType = A._findScrollButtonsType.call(null, o.scrollButtons.scrollType), A._theme.call(null, o), T(e).each(function() {
                        var e = T(this);
                        if (!e.data(O)) {
                            e.data(O, {
                                idx: ++r,
                                opt: o,
                                scrollRatio: {
                                    y: null,
                                    x: null
                                },
                                overflowed: null,
                                bindEvents: !1,
                                tweenRunning: !1,
                                sequential: {},
                                langDir: e.css("direction"),
                                cbOffsets: null,
                                trigger: null
                            });
                            var t = e.data(O).opt,
                                i = e.data("mcs-axis"),
                                a = e.data("mcs-scrollbar-position"),
                                n = e.data("mcs-theme");
                            i && (t.axis = i), a && (t.scrollbarPosition = a), n && (t.theme = n, A._theme.call(null, t)), A._pluginMarkup.call(this), b.update.call(null, e)
                        }
                    })
                },
                update: function i(e) {
                    var t = e || A._selector.call(this);
                    return T(t).each(function() {
                        var e = T(this);
                        if (e.data(O)) {
                            var t = e.data(O),
                                i = t.opt,
                                a = T("#mCSB_" + t.idx + "_container"),
                                n = [T("#mCSB_" + t.idx + "_dragger_vertical"), T("#mCSB_" + t.idx + "_dragger_horizontal")];
                            if (!a.length) return;
                            t.tweenRunning && A._stop.call(null, e), e.hasClass("mCS_disabled") && e.removeClass("mCS_disabled"), e.hasClass("mCS_destroyed") && e.removeClass("mCS_destroyed"), A._maxHeight.call(this), A._expandContentHorizontally.call(this), "y" === i.axis || i.advanced.autoExpandHorizontalScroll || a.css("width", A._contentWidth(a.children())), t.overflowed = A._overflowed.call(this), A._scrollbarVisibility.call(this), i.autoDraggerLength && A._setDraggerLength.call(this), A._scrollRatio.call(this), A._bindEvents.call(this);
                            var o = [Math.abs(a[0].offsetTop), Math.abs(a[0].offsetLeft)];
                            "x" !== i.axis && (t.overflowed[0] ? n[0].height() > n[0].parent().height() ? A._resetContentPosition.call(this) : A._scrollTo.call(this, e, o[0].toString(), {
                                dir: "y",
                                dur: 0,
                                overwrite: "none"
                            }) : (A._resetContentPosition.call(this), "y" === i.axis ? A._unbindEvents.call(this) : "yx" === i.axis && t.overflowed[1] && A._scrollTo.call(this, e, o[1].toString(), {
                                dir: "x",
                                dur: 0,
                                overwrite: "none"
                            }))), "y" !== i.axis && (t.overflowed[1] ? n[1].width() > n[1].parent().width() ? A._resetContentPosition.call(this) : A._scrollTo.call(this, e, o[1].toString(), {
                                dir: "x",
                                dur: 0,
                                overwrite: "none"
                            }) : (A._resetContentPosition.call(this), "x" === i.axis ? A._unbindEvents.call(this) : "yx" === i.axis && t.overflowed[0] && A._scrollTo.call(this, e, o[0].toString(), {
                                dir: "y",
                                dur: 0,
                                overwrite: "none"
                            }))), A._autoUpdate.call(this)
                        }
                    })
                },
                scrollTo: function t(s, l) {
                    if (void 0 !== s && null != s) {
                        var e = A._selector.call(this);
                        return T(e).each(function() {
                            var e = T(this);
                            if (e.data(O)) {
                                var t = e.data(O),
                                    i = t.opt,
                                    a = {
                                        trigger: "external",
                                        scrollInertia: i.scrollInertia,
                                        scrollEasing: "mcsEaseInOut",
                                        moveDragger: !1,
                                        callbacks: !0,
                                        onStart: !0,
                                        onUpdate: !0,
                                        onComplete: !0
                                    },
                                    n = T.extend(!0, {}, a, l),
                                    o = A._arr.call(this, s),
                                    r = n.scrollInertia < 17 ? 17 : n.scrollInertia;
                                o[0] = A._to.call(this, o[0], "y"), o[1] = A._to.call(this, o[1], "x"), n.moveDragger && (o[0] *= t.scrollRatio.y, o[1] *= t.scrollRatio.x), n.dur = r, setTimeout(function() {
                                    null !== o[0] && "undefined" != typeof o[0] && "x" !== i.axis && t.overflowed[0] && (n.dir = "y", n.overwrite = "all", A._scrollTo.call(this, e, o[0].toString(), n)), null !== o[1] && "undefined" != typeof o[1] && "y" !== i.axis && t.overflowed[1] && (n.dir = "x", n.overwrite = "none", A._scrollTo.call(this, e, o[1].toString(), n))
                                }, 60)
                            }
                        })
                    }
                },
                stop: function o() {
                    var e = A._selector.call(this);
                    return T(e).each(function() {
                        var e = T(this);
                        e.data(O) && A._stop.call(null, e)
                    })
                },
                disable: function c(t) {
                    var e = A._selector.call(this);
                    return T(e).each(function() {
                        var e = T(this);
                        if (e.data(O)) {
                            e.data(O).opt;
                            A._autoUpdate.call(this, "remove"), A._unbindEvents.call(this), t && A._resetContentPosition.call(this), A._scrollbarVisibility.call(this, !0), e.addClass("mCS_disabled")
                        }
                    })
                },
                destroy: function e() {
                    var r = A._selector.call(this);
                    return T(r).each(function() {
                        var e = T(this);
                        if (e.data(O)) {
                            var t = e.data(O),
                                i = t.opt,
                                a = T("#mCSB_" + t.idx),
                                n = T("#mCSB_" + t.idx + "_container"),
                                o = T(".mCSB_" + t.idx + "_scrollbar");
                            i.live && l(r), A._autoUpdate.call(this, "remove"), A._unbindEvents.call(this), A._resetContentPosition.call(this), e.removeData(O), A._delete.call(null, this.mcs), o.remove(), a.replaceWith(n.contents()), e.removeClass(h + " _" + O + "_" + t.idx + " mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed")
                        }
                    })
                }
            },
            A = {
                _selector: function p() {
                    return "object" !== _typeof(T(this)) || T(this).length < 1 ? a : this
                },
                _theme: function u(e) {
                    var t = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"],
                        i = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"],
                        a = ["minimal", "minimal-dark"],
                        n = ["minimal", "minimal-dark"],
                        o = ["minimal", "minimal-dark"];
                    e.autoDraggerLength = !(-1 < T.inArray(e.theme, t)) && e.autoDraggerLength, e.autoExpandScrollbar = !(-1 < T.inArray(e.theme, i)) && e.autoExpandScrollbar, e.scrollButtons.enable = !(-1 < T.inArray(e.theme, a)) && e.scrollButtons.enable, e.autoHideScrollbar = -1 < T.inArray(e.theme, n) || e.autoHideScrollbar, e.scrollbarPosition = -1 < T.inArray(e.theme, o) ? "outside" : e.scrollbarPosition
                },
                _findAxis: function f(e) {
                    return "yx" === e || "xy" === e || "auto" === e ? "yx" : "x" === e || "horizontal" === e ? "x" : "y"
                },
                _findScrollButtonsType: function v(e) {
                    return "stepped" === e || "pixels" === e || "step" === e || "click" === e ? "stepped" : "stepless"
                },
                _pluginMarkup: function y() {
                    var e = T(this),
                        t = e.data(O),
                        i = t.opt,
                        a = i.autoExpandScrollbar ? " mCSB_scrollTools_onDrag_expand" : "",
                        n = ["<div id='mCSB_" + t.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + t.idx + "_scrollbar mCS-" + i.theme + " mCSB_scrollTools_vertical" + a + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + t.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + t.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + t.idx + "_scrollbar mCS-" + i.theme + " mCSB_scrollTools_horizontal" + a + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + t.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],
                        o = "yx" === i.axis ? "mCSB_vertical_horizontal" : "x" === i.axis ? "mCSB_horizontal" : "mCSB_vertical",
                        r = "yx" === i.axis ? n[0] + n[1] : "x" === i.axis ? n[1] : n[0],
                        s = "yx" === i.axis ? "<div id='mCSB_" + t.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : "",
                        l = i.autoHideScrollbar ? " mCS-autoHide" : "",
                        d = "x" !== i.axis && "rtl" === t.langDir ? " mCS-dir-rtl" : "";
                    i.setWidth && e.css("width", i.setWidth), i.setHeight && e.css("height", i.setHeight), i.setLeft = "y" !== i.axis && "rtl" === t.langDir ? "989999px" : i.setLeft, e.addClass(h + " _" + O + "_" + t.idx + l + d).wrapInner("<div id='mCSB_" + t.idx + "' class='mCustomScrollBox mCS-" + i.theme + " " + o + "'><div id='mCSB_" + t.idx + "_container' class='mCSB_container' style='position:relative; top:" + i.setTop + "; left:" + i.setLeft + ";' dir=" + t.langDir + " /></div>");
                    var c = T("#mCSB_" + t.idx),
                        p = T("#mCSB_" + t.idx + "_container");
                    "y" === i.axis || i.advanced.autoExpandHorizontalScroll || p.css("width", A._contentWidth(p.children())), "outside" === i.scrollbarPosition ? ("static" === e.css("position") && e.css("position", "relative"), e.css("overflow", "visible"), c.addClass("mCSB_outside").after(r)) : (c.addClass("mCSB_inside").append(r), p.wrap(s)), A._scrollButtons.call(this);
                    var u = [T("#mCSB_" + t.idx + "_dragger_vertical"), T("#mCSB_" + t.idx + "_dragger_horizontal")];
                    u[0].css("min-height", u[0].height()), u[1].css("min-width", u[1].width())
                },
                _contentWidth: function x(e) {
                    return Math.max.apply(Math, e.map(function() {
                        return T(this).outerWidth(!0)
                    }).get())
                },
                _expandContentHorizontally: function w() {
                    var e = T(this).data(O),
                        t = e.opt,
                        i = T("#mCSB_" + e.idx + "_container");
                    t.advanced.autoExpandHorizontalScroll && "y" !== t.axis && i.css({
                        position: "absolute",
                        width: "auto"
                    }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({
                        width: Math.ceil(i[0].getBoundingClientRect().right + .4) - Math.floor(i[0].getBoundingClientRect().left),
                        position: "relative"
                    }).unwrap()
                },
                _scrollButtons: function C() {
                    var e = T(this).data(O),
                        t = e.opt,
                        i = T(".mCSB_" + e.idx + "_scrollbar:first"),
                        a = ["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"],
                        n = ["x" === t.axis ? a[2] : a[0], "x" === t.axis ? a[3] : a[1], a[2], a[3]];
                    t.scrollButtons.enable && i.prepend(n[0]).append(n[1]).next(".mCSB_scrollTools").prepend(n[2]).append(n[3])
                },
                _maxHeight: function S() {
                    var e = T(this),
                        t = e.data(O),
                        i = (t.opt, T("#mCSB_" + t.idx)),
                        a = e.css("max-height"),
                        n = -1 !== a.indexOf("%"),
                        o = e.css("box-sizing");
                    if ("none" !== a) {
                        var r = n ? e.parent().height() * parseInt(a) / 100 : parseInt(a);
                        "border-box" === o && (r -= e.innerHeight() - e.height() + (e.outerHeight() - e.innerHeight())), i.css("max-height", Math.round(r))
                    }
                },
                _setDraggerLength: function F() {
                    var e = T(this).data(O),
                        t = T("#mCSB_" + e.idx),
                        i = T("#mCSB_" + e.idx + "_container"),
                        a = [T("#mCSB_" + e.idx + "_dragger_vertical"), T("#mCSB_" + e.idx + "_dragger_horizontal")],
                        n = [t.height() / i.outerHeight(!1), t.width() / i.outerWidth(!1)],
                        o = [parseInt(a[0].css("min-height")), Math.round(n[0] * a[0].parent().height()), parseInt(a[1].css("min-width")), Math.round(n[1] * a[1].parent().width())],
                        r = m && o[1] < o[0] ? o[0] : o[1],
                        s = m && o[3] < o[2] ? o[2] : o[3];
                    a[0].css({
                        height: r,
                        "max-height": a[0].parent().height() - 10
                    }).find(".mCSB_dragger_bar").css({
                        "line-height": o[0] + "px"
                    }), a[1].css({
                        width: s,
                        "max-width": a[1].parent().width() - 10
                    })
                },
                _scrollRatio: function k() {
                    var e = T(this).data(O),
                        t = T("#mCSB_" + e.idx),
                        i = T("#mCSB_" + e.idx + "_container"),
                        a = [T("#mCSB_" + e.idx + "_dragger_vertical"), T("#mCSB_" + e.idx + "_dragger_horizontal")],
                        n = [i.outerHeight(!1) - t.height(), i.outerWidth(!1) - t.width()],
                        o = [n[0] / (a[0].parent().height() - a[0].height()), n[1] / (a[1].parent().width() - a[1].width())];
                    e.scrollRatio = {
                        y: o[0],
                        x: o[1]
                    }
                },
                _onDragClasses: function B(e, t, i) {
                    var a = i ? "mCSB_dragger_onDrag_expanded" : "",
                        n = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag"],
                        o = e.closest(".mCSB_scrollTools");
                    "active" === t ? (e.toggleClass(n[0] + " " + a), o.toggleClass(n[1]), e[0]._draggable = e[0]._draggable ? 0 : 1) : e[0]._draggable || ("hide" === t ? (e.removeClass(n[0]), o.removeClass(n[1])) : (e.addClass(n[0]), o.addClass(n[1])))
                },
                _overflowed: function I() {
                    var e = T(this).data(O),
                        t = T("#mCSB_" + e.idx),
                        i = T("#mCSB_" + e.idx + "_container"),
                        a = null == e.overflowed ? i.height() : i.outerHeight(!1),
                        n = null == e.overflowed ? i.width() : i.outerWidth(!1);
                    return [a > t.height(), n > t.width()]
                },
                _resetContentPosition: function W() {
                    var e = T(this),
                        t = e.data(O),
                        i = t.opt,
                        a = T("#mCSB_" + t.idx),
                        n = T("#mCSB_" + t.idx + "_container"),
                        o = [T("#mCSB_" + t.idx + "_dragger_vertical"), T("#mCSB_" + t.idx + "_dragger_horizontal")];
                    if (A._stop(e), ("x" !== i.axis && !t.overflowed[0] || "y" === i.axis && t.overflowed[0]) && o[0].add(n).css("top", 0), "y" !== i.axis && !t.overflowed[1] || "x" === i.axis && t.overflowed[1]) {
                        var r = dx = 0;
                        "rtl" === t.langDir && (r = a.width() - n.outerWidth(!1), dx = Math.abs(r / t.scrollRatio.x)), n.css("left", r), o[1].css("left", dx)
                    }
                },
                _bindEvents: function E() {
                    var e = T(this),
                        t = e.data(O),
                        i = t.opt;
                    if (!t.bindEvents) {
                        if (A._draggable.call(this), i.contentTouchScroll && A._contentDraggable.call(this), i.mouseWheel.enable) {
                            var a, n = function n() {
                                a = setTimeout(function() {
                                    T.event.special.mousewheel ? (clearTimeout(a), A._mousewheel.call(e[0])) : n()
                                }, 1e3)
                            };
                            n()
                        }
                        A._draggerRail.call(this), A._wrapperScroll.call(this), i.advanced.autoScrollOnFocus && A._focus.call(this), i.scrollButtons.enable && A._buttons.call(this), i.keyboard.enable && A._keyboard.call(this), t.bindEvents = !0
                    }
                },
                _unbindEvents: function D() {
                    var e = T(this),
                        t = e.data(O),
                        i = O + "_" + t.idx,
                        a = ".mCSB_" + t.idx + "_scrollbar",
                        n = T("#mCSB_" + t.idx + ",#mCSB_" + t.idx + "_container,#mCSB_" + t.idx + "_container_wrapper," + a + " .mCSB_draggerContainer,#mCSB_" + t.idx + "_dragger_vertical,#mCSB_" + t.idx + "_dragger_horizontal," + a + ">a"),
                        o = T("#mCSB_" + t.idx + "_container");
                    t.bindEvents && (T(g).unbind("." + i), n.each(function() {
                        T(this).unbind("." + i)
                    }), clearTimeout(e[0]._focusTimeout), A._delete.call(null, e[0]._focusTimeout), clearTimeout(t.sequential.step), A._delete.call(null, t.sequential.step), clearTimeout(o[0].onCompleteTimeout), A._delete.call(null, o[0].onCompleteTimeout), t.bindEvents = !1)
                },
                _scrollbarVisibility: function M(e) {
                    var t = T(this),
                        i = t.data(O),
                        a = i.opt,
                        n = T("#mCSB_" + i.idx + "_container_wrapper"),
                        o = n.length ? n : T("#mCSB_" + i.idx + "_container"),
                        r = [T("#mCSB_" + i.idx + "_scrollbar_vertical"), T("#mCSB_" + i.idx + "_scrollbar_horizontal")],
                        s = [r[0].find(".mCSB_dragger"), r[1].find(".mCSB_dragger")];
                    "x" !== a.axis && (i.overflowed[0] && !e ? (r[0].add(s[0]).add(r[0].children("a")).css("display", "block"), o.removeClass("mCS_no_scrollbar_y mCS_y_hidden")) : (a.alwaysShowScrollbar ? (2 !== a.alwaysShowScrollbar && s[0].add(r[0].children("a")).css("display", "none"), o.removeClass("mCS_y_hidden")) : (r[0].css("display", "none"), o.addClass("mCS_y_hidden")), o.addClass("mCS_no_scrollbar_y"))), "y" !== a.axis && (i.overflowed[1] && !e ? (r[1].add(s[1]).add(r[1].children("a")).css("display", "block"), o.removeClass("mCS_no_scrollbar_x mCS_x_hidden")) : (a.alwaysShowScrollbar ? (2 !== a.alwaysShowScrollbar && s[1].add(r[1].children("a")).css("display", "none"), o.removeClass("mCS_x_hidden")) : (r[1].css("display", "none"), o.addClass("mCS_x_hidden")), o.addClass("mCS_no_scrollbar_x"))), i.overflowed[0] || i.overflowed[1] ? t.removeClass("mCS_no_scrollbar") : t.addClass("mCS_no_scrollbar")
                },
                _coordinates: function L(e) {
                    switch (e.type) {
                        case "pointerdown":
                        case "MSPointerDown":
                        case "pointermove":
                        case "MSPointerMove":
                        case "pointerup":
                        case "MSPointerUp":
                            return [e.originalEvent.pageY, e.originalEvent.pageX];
                        case "touchstart":
                        case "touchmove":
                        case "touchend":
                            var t = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];
                            return [t.pageY, t.pageX];
                        default:
                            return [e.pageY, e.pageX]
                    }
                },
                _draggable: function $() {
                    var r, s, l, d = T(this),
                        c = d.data(O),
                        p = c.opt,
                        e = O + "_" + c.idx,
                        u = ["mCSB_" + c.idx + "_dragger_vertical", "mCSB_" + c.idx + "_dragger_horizontal"],
                        h = T("#mCSB_" + c.idx + "_container"),
                        t = T("#" + u[0] + ",#" + u[1]);

                    function f(e) {
                        var t = h.find("iframe");
                        if (t.length) {
                            var i = e ? "auto" : "none";
                            t.css("pointer-events", i)
                        }
                    }

                    function n(e, t, i, a) {
                        if (h[0].idleTimer = p.scrollInertia < 233 ? 250 : 0, r.attr("id") === u[1]) var n = "x",
                            o = (r[0].offsetLeft - t + a) * c.scrollRatio.x;
                        else n = "y", o = (r[0].offsetTop - e + i) * c.scrollRatio.y;
                        A._scrollTo(d, o.toString(), {
                            dir: n,
                            drag: !0
                        })
                    }
                    t.bind("mousedown." + e + " touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, function(e) {
                        if (e.stopImmediatePropagation(), e.preventDefault(), A._mouseBtnLeft(e)) {
                            P = !0, m && (g.onselectstart = function() {
                                return !1
                            }), f(!1), A._stop(d);
                            var t = (r = T(this)).offset(),
                                i = A._coordinates(e)[0] - t.top,
                                a = A._coordinates(e)[1] - t.left,
                                n = r.height() + t.top,
                                o = r.width() + t.left;
                            i < n && 0 < i && a < o && 0 < a && (s = i, l = a), A._onDragClasses(r, "active", p.autoExpandScrollbar)
                        }
                    }).bind("touchmove." + e, function(e) {
                        e.stopImmediatePropagation(), e.preventDefault();
                        var t = r.offset(),
                            i = A._coordinates(e)[0] - t.top,
                            a = A._coordinates(e)[1] - t.left;
                        n(s, l, i, a)
                    }), T(g).bind("mousemove." + e + " pointermove." + e + " MSPointerMove." + e, function(e) {
                        if (r) {
                            _.notAllowClick = !0;
                            var t = r.offset(),
                                i = A._coordinates(e)[0] - t.top,
                                a = A._coordinates(e)[1] - t.left;
                            if (s === i) return;
                            n(s, l, i, a)
                        }
                    }).add(t).bind("mouseup." + e + " touchend." + e + " pointerup." + e + " MSPointerUp." + e, function(e) {
                        setTimeout(function() {
                            _.notAllowClick = !1
                        }, 200), r && (A._onDragClasses(r, "active", p.autoExpandScrollbar), r = null), P = !1, m && (g.onselectstart = null), f(!0)
                    })
                },
                _contentDraggable: function N() {
                    var d, c, p, u, h, f, g, m, v, y, b, r = T(this),
                        x = r.data(O),
                        _ = x.opt,
                        e = O + "_" + x.idx,
                        w = T("#mCSB_" + x.idx),
                        C = T("#mCSB_" + x.idx + "_container"),
                        S = [T("#mCSB_" + x.idx + "_dragger_vertical"), T("#mCSB_" + x.idx + "_dragger_horizontal")],
                        F = [],
                        k = [],
                        B = 0,
                        I = "yx" === _.axis ? "none" : "all";

                    function W(e, t) {
                        var i = [1.5 * t, 2 * t, t / 1.5, t / 2];
                        return 90 < e ? 4 < t ? i[0] : i[3] : 60 < e ? 3 < t ? i[3] : i[2] : 30 < e ? 8 < t ? i[1] : 6 < t ? i[0] : 4 < t ? t : i[2] : 8 < t ? t : i[3]
                    }

                    function E(e, t, i, a, n, o) {
                        e && A._scrollTo(r, e.toString(), {
                            dur: t,
                            scrollEasing: i,
                            dir: a,
                            overwrite: n,
                            drag: o
                        })
                    }
                    C.bind("touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, function(e) {
                        if (A._pointerTouch(e) && !P) {
                            var t = C.offset();
                            d = A._coordinates(e)[0] - t.top, c = A._coordinates(e)[1] - t.left
                        }
                    }).bind("touchmove." + e + " pointermove." + e + " MSPointerMove." + e, function(e) {
                        if (A._pointerTouch(e) && !P) {
                            e.stopImmediatePropagation(), f = A._getTime();
                            var t = w.offset(),
                                i = A._coordinates(e)[0] - t.top,
                                a = A._coordinates(e)[1] - t.left,
                                n = "mcsLinearOut";
                            if (F.push(i), k.push(a), x.overflowed[0]) var o = S[0].parent().height() - S[0].height(),
                                r = 0 < d - i && i - d > -o * x.scrollRatio.y;
                            if (x.overflowed[1]) var s = S[1].parent().width() - S[1].width(),
                                l = 0 < c - a && a - c > -s * x.scrollRatio.x;
                            (r || l) && e.preventDefault(), y = "yx" === _.axis ? [d - i, c - a] : "x" === _.axis ? [null, c - a] : [d - i, null], C[0].idleTimer = 250, x.overflowed[0] && E(y[0], B, n, "y", "all", !0), x.overflowed[1] && E(y[1], B, n, "x", I, !0)
                        }
                    }), w.bind("touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, function(e) {
                        if (A._pointerTouch(e) && !P) {
                            e.stopImmediatePropagation(), A._stop(r), h = A._getTime();
                            var t = w.offset();
                            p = A._coordinates(e)[0] - t.top, u = A._coordinates(e)[1] - t.left, F = [], k = []
                        }
                    }).bind("touchend." + e + " pointerup." + e + " MSPointerUp." + e, function(e) {
                        if (A._pointerTouch(e) && !P) {
                            e.stopImmediatePropagation(), g = A._getTime();
                            var t = w.offset(),
                                i = A._coordinates(e)[0] - t.top,
                                a = A._coordinates(e)[1] - t.left;
                            if (!(30 < g - f)) {
                                var n = "mcsEaseOut",
                                    o = (v = 1e3 / (g - h)) < 2.5,
                                    r = o ? [F[F.length - 2], k[k.length - 2]] : [0, 0];
                                m = o ? [i - r[0], a - r[1]] : [i - p, a - u];
                                var s = [Math.abs(m[0]), Math.abs(m[1])];
                                v = o ? [Math.abs(m[0] / 4), Math.abs(m[1] / 4)] : [v, v];
                                var l = [Math.abs(C[0].offsetTop) - m[0] * W(s[0] / v[0], v[0]), Math.abs(C[0].offsetLeft) - m[1] * W(s[1] / v[1], v[1])];
                                y = "yx" === _.axis ? [l[0], l[1]] : "x" === _.axis ? [null, l[1]] : [l[0], null], b = [4 * s[0] + _.scrollInertia, 4 * s[1] + _.scrollInertia];
                                var d = parseInt(_.contentTouchScroll) || 0;
                                y[0] = s[0] > d ? y[0] : 0, y[1] = s[1] > d ? y[1] : 0, x.overflowed[0] && E(y[0], b[0], n, "y", I, !1), x.overflowed[1] && E(y[1], b[1], n, "x", I, !1)
                            }
                        }
                    })
                },
                _mousewheel: function H() {
                    var c = T(this),
                        p = c.data(O) || {},
                        u = p.opt,
                        e = O + "_" + p.idx,
                        h = T("#mCSB_" + p.idx),
                        f = [T("#mCSB_" + p.idx + "_dragger_vertical"), T("#mCSB_" + p.idx + "_dragger_horizontal")];
                    h.bind("mousewheel." + e, function(e, t) {
                        if (A._stop(c), !A._disableMousewheel(c, e.target)) {
                            var i = "auto" !== u.mouseWheel.deltaFactor ? parseInt(u.mouseWheel.deltaFactor) : m && e.deltaFactor < 100 ? 100 : e.deltaFactor < 40 ? 40 : e.deltaFactor || 100;
                            if ("x" === u.axis || "x" === u.mouseWheel.axis) var a = "x",
                                n = [Math.round(i * p.scrollRatio.x), parseInt(u.mouseWheel.scrollAmount)],
                                o = "auto" !== u.mouseWheel.scrollAmount ? n[1] : n[0] >= h.width() ? .9 * h.width() : n[0],
                                r = Math.abs(T("#mCSB_" + p.idx + "_container")[0].offsetLeft),
                                s = f[1][0].offsetLeft,
                                l = f[1].parent().width() - f[1].width(),
                                d = e.deltaX || e.deltaY || t;
                            else a = "y", n = [Math.round(i * p.scrollRatio.y), parseInt(u.mouseWheel.scrollAmount)], o = "auto" !== u.mouseWheel.scrollAmount ? n[1] : n[0] >= h.height() ? .9 * h.height() : n[0], r = Math.abs(T("#mCSB_" + p.idx + "_container")[0].offsetTop), s = f[0][0].offsetTop, l = f[0].parent().height() - f[0].height(), d = e.deltaY || t;
                            "y" === a && !p.overflowed[0] || "x" === a && !p.overflowed[1] || (u.mouseWheel.invert && (d = -d), u.mouseWheel.normalizeDelta && (d = d < 0 ? -1 : 1), (0 < d && 0 !== s || d < 0 && s !== l || u.mouseWheel.preventDefault) && (e.stopImmediatePropagation(), e.preventDefault()), A._scrollTo(c, (r - d * o).toString(), {
                                dir: a
                            }))
                        }
                    })
                },
                _disableMousewheel: function R(e, t) {
                    var i = t.nodeName.toLowerCase(),
                        a = e.data(O).opt.mouseWheel.disableOver,
                        n = ["select", "textarea"];
                    return -1 < T.inArray(i, a) && !(-1 < T.inArray(i, n) && !T(t).is(":focus"))
                },
                _draggerRail: function j() {
                    var r = T(this),
                        s = r.data(O),
                        e = O + "_" + s.idx,
                        l = T("#mCSB_" + s.idx + "_container"),
                        d = l.parent();
                    T(".mCSB_" + s.idx + "_scrollbar .mCSB_draggerContainer").bind("touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, function(e) {
                        P = !0
                    }).bind("touchend." + e + " pointerup." + e + " MSPointerUp." + e, function(e) {
                        P = !1
                    }).bind("click." + e, function(e) {
                        if (T(e.target).hasClass("mCSB_draggerContainer") || T(e.target).hasClass("mCSB_draggerRail")) {
                            A._stop(r);
                            var t = T(this),
                                i = t.find(".mCSB_dragger");
                            if (0 < t.parent(".mCSB_scrollTools_horizontal").length) {
                                if (!s.overflowed[1]) return;
                                var a = "x",
                                    n = e.pageX > i.offset().left ? -1 : 1,
                                    o = Math.abs(l[0].offsetLeft) - n * (.9 * d.width())
                            } else {
                                if (!s.overflowed[0]) return;
                                a = "y", n = e.pageY > i.offset().top ? -1 : 1, o = Math.abs(l[0].offsetTop) - n * (.9 * d.height())
                            }
                            A._scrollTo(r, o.toString(), {
                                dir: a,
                                scrollEasing: "mcsEaseInOut"
                            })
                        }
                    })
                },
                _focus: function U() {
                    var r = T(this),
                        e = r.data(O),
                        s = e.opt,
                        t = O + "_" + e.idx,
                        l = T("#mCSB_" + e.idx + "_container"),
                        d = l.parent();
                    l.bind("focusin." + t, function(e) {
                        var n = T(g.activeElement),
                            t = l.find(".mCustomScrollBox").length,
                            o = 0;
                        n.is(s.advanced.autoScrollOnFocus) && (A._stop(r), clearTimeout(r[0]._focusTimeout), r[0]._focusTimer = t ? (o + 17) * t : 0, r[0]._focusTimeout = setTimeout(function() {
                            var e = [n.offset().top - l.offset().top, n.offset().left - l.offset().left],
                                t = [l[0].offsetTop, l[0].offsetLeft],
                                i = [0 <= t[0] + e[0] && t[0] + e[0] < d.height() - n.outerHeight(!1), 0 <= t[1] + e[1] && t[0] + e[1] < d.width() - n.outerWidth(!1)],
                                a = "yx" !== s.axis || i[0] || i[1] ? "all" : "none";
                            "x" === s.axis || i[0] || A._scrollTo(r, e[0].toString(), {
                                dir: "y",
                                scrollEasing: "mcsEaseInOut",
                                overwrite: a,
                                dur: o
                            }), "y" === s.axis || i[1] || A._scrollTo(r, e[1].toString(), {
                                dir: "x",
                                scrollEasing: "mcsEaseInOut",
                                overwrite: a,
                                dur: o
                            })
                        }, r[0]._focusTimer))
                    })
                },
                _wrapperScroll: function z() {
                    var e = T(this).data(O),
                        t = O + "_" + e.idx,
                        i = T("#mCSB_" + e.idx + "_container").parent();
                    i.bind("scroll." + t, function(e) {
                        i.scrollTop(0).scrollLeft(0)
                    })
                },
                _buttons: function K() {
                    var a = T(this),
                        n = a.data(O),
                        o = n.opt,
                        r = n.sequential,
                        e = O + "_" + n.idx,
                        t = (T("#mCSB_" + n.idx + "_container"), ".mCSB_" + n.idx + "_scrollbar");
                    T(t + ">a").bind("mousedown." + e + " touchstart." + e + " pointerdown." + e + " MSPointerDown." + e + " mouseup." + e + " touchend." + e + " pointerup." + e + " MSPointerUp." + e + " mouseout." + e + " pointerout." + e + " MSPointerOut." + e + " click." + e, function(e) {
                        if (e.preventDefault(), A._mouseBtnLeft(e)) {
                            var t = T(this).attr("class");
                            switch (r.type = o.scrollButtons.scrollType, e.type) {
                                case "mousedown":
                                case "touchstart":
                                case "pointerdown":
                                case "MSPointerDown":
                                    if ("stepped" === r.type) return;
                                    P = !0, n.tweenRunning = !1, i("on", t);
                                    break;
                                case "mouseup":
                                case "touchend":
                                case "pointerup":
                                case "MSPointerUp":
                                case "mouseout":
                                case "pointerout":
                                case "MSPointerOut":
                                    if ("stepped" === r.type) return;
                                    P = !1, r.dir && i("off", t);
                                    break;
                                case "click":
                                    if ("stepped" !== r.type || n.tweenRunning) return;
                                    i("on", t)
                            }
                        }

                        function i(e, t) {
                            r.scrollAmount = o.snapAmount || o.scrollButtons.scrollAmount, A._sequentialScroll.call(this, a, e, t)
                        }
                    })
                },
                _keyboard: function X() {
                    var s = T(this),
                        l = s.data(O),
                        d = l.opt,
                        c = l.sequential,
                        e = O + "_" + l.idx,
                        t = T("#mCSB_" + l.idx),
                        p = T("#mCSB_" + l.idx + "_container"),
                        u = p.parent(),
                        h = "input,textarea,select,datalist,keygen,[contenteditable='true']";
                    t.attr("tabindex", "0").bind("blur." + e + " keydown." + e + " keyup." + e, function(e) {
                        switch (e.type) {
                            case "blur":
                                l.tweenRunning && c.dir && r("off", null);
                                break;
                            case "keydown":
                            case "keyup":
                                var t = e.keyCode ? e.keyCode : e.which,
                                    i = "on";
                                if ("x" !== d.axis && (38 === t || 40 === t) || "y" !== d.axis && (37 === t || 39 === t)) {
                                    if ((38 === t || 40 === t) && !l.overflowed[0] || (37 === t || 39 === t) && !l.overflowed[1]) return;
                                    "keyup" === e.type && (i = "off"), T(g.activeElement).is(h) || (e.preventDefault(), e.stopImmediatePropagation(), r(i, t))
                                } else if (33 === t || 34 === t) {
                                    if ((l.overflowed[0] || l.overflowed[1]) && (e.preventDefault(), e.stopImmediatePropagation()), "keyup" === e.type) {
                                        A._stop(s);
                                        var a = 34 === t ? -1 : 1;
                                        if ("x" === d.axis || "yx" === d.axis && l.overflowed[1] && !l.overflowed[0]) var n = "x",
                                            o = Math.abs(p[0].offsetLeft) - a * (.9 * u.width());
                                        else n = "y", o = Math.abs(p[0].offsetTop) - a * (.9 * u.height());
                                        A._scrollTo(s, o.toString(), {
                                            dir: n,
                                            scrollEasing: "mcsEaseInOut"
                                        })
                                    }
                                } else if ((35 === t || 36 === t) && !T(g.activeElement).is(h) && ((l.overflowed[0] || l.overflowed[1]) && (e.preventDefault(), e.stopImmediatePropagation()), "keyup" === e.type)) {
                                    if ("x" === d.axis || "yx" === d.axis && l.overflowed[1] && !l.overflowed[0]) n = "x", o = 35 === t ? Math.abs(u.width() - p.outerWidth(!1)) : 0;
                                    else n = "y", o = 35 === t ? Math.abs(u.height() - p.outerHeight(!1)) : 0;
                                    A._scrollTo(s, o.toString(), {
                                        dir: n,
                                        scrollEasing: "mcsEaseInOut"
                                    })
                                }
                        }

                        function r(e, t) {
                            c.type = d.keyboard.scrollType, c.scrollAmount = d.snapAmount || d.keyboard.scrollAmount, "stepped" === c.type && l.tweenRunning || A._sequentialScroll.call(this, s, e, t)
                        }
                    })
                },
                _sequentialScroll: function Y(p, e, t) {
                    var u = p.data(O),
                        h = u.opt,
                        f = u.sequential,
                        g = T("#mCSB_" + u.idx + "_container"),
                        i = "stepped" === f.type;
                    switch (e) {
                        case "on":
                            if (f.dir = ["mCSB_buttonRight" === t || "mCSB_buttonLeft" === t || 39 === t || 37 === t ? "x" : "y", "mCSB_buttonUp" === t || "mCSB_buttonLeft" === t || 38 === t || 37 === t ? -1 : 1], A._stop(p), A._isNumeric(t) && "stepped" === f.type) return;
                            m(i);
                            break;
                        case "off":
                            a(), (i || u.tweenRunning && f.dir) && m(!0)
                    }

                    function m(e) {
                        var t = "stepped" !== f.type,
                            i = e ? t ? h.scrollInertia / 1.5 : h.scrollInertia : 1e3 / 60,
                            a = e ? t ? 7.5 : 40 : 2.5,
                            n = [Math.abs(g[0].offsetTop), Math.abs(g[0].offsetLeft)],
                            o = [10 < u.scrollRatio.y ? 10 : u.scrollRatio.y, 10 < u.scrollRatio.x ? 10 : u.scrollRatio.x],
                            r = "x" === f.dir[0] ? n[1] + f.dir[1] * (o[1] * a) : n[0] + f.dir[1] * (o[0] * a),
                            s = "x" === f.dir[0] ? n[1] + f.dir[1] * parseInt(f.scrollAmount) : n[0] + f.dir[1] * parseInt(f.scrollAmount),
                            l = "auto" !== f.scrollAmount ? s : r,
                            d = e ? t ? "mcsLinearOut" : "mcsEaseInOut" : "mcsLinear",
                            c = !!e;
                        e && i < 17 && (l = "x" === f.dir[0] ? n[1] : n[0]), A._scrollTo(p, l.toString(), {
                            dir: f.dir[0],
                            scrollEasing: d,
                            dur: i,
                            onComplete: c
                        }), e ? f.dir = !1 : (clearTimeout(f.step), f.step = setTimeout(function() {
                            m()
                        }, i))
                    }

                    function a() {
                        clearTimeout(f.step), A._stop(p)
                    }
                },
                _arr: function q(e) {
                    var t = T(this).data(O).opt,
                        i = [];
                    return "function" == typeof e && (e = e()), e instanceof Array ? i = 1 < e.length ? [e[0], e[1]] : "x" === t.axis ? [null, e[0]] : [e[0], null] : (i[0] = e.y ? e.y : e.x || "x" === t.axis ? null : e, i[1] = e.x ? e.x : e.y || "y" === t.axis ? null : e), "function" == typeof i[0] && (i[0] = i[0]()), "function" == typeof i[1] && (i[1] = i[1]()), i
                },
                _to: function J(e, t) {
                    if (null != e && void 0 !== e) {
                        var i = T(this),
                            a = i.data(O),
                            n = a.opt,
                            o = T("#mCSB_" + a.idx + "_container"),
                            r = o.parent(),
                            s = _typeof(e),
                            l = "x" === (t = t || ("x" === n.axis ? "x" : "y")) ? o.outerWidth(!1) : o.outerHeight(!1),
                            d = "x" === t ? o.offset().left : o.offset().top,
                            c = "x" === t ? o[0].offsetLeft : o[0].offsetTop,
                            p = "x" === t ? "left" : "top";
                        switch (s) {
                            case "function":
                                return e();
                            case "object":
                                if (e.nodeType) var u = "x" === t ? T(e).offset().left : T(e).offset().top;
                                else if (e.jquery) {
                                    if (!e.length) return;
                                    u = "x" === t ? e.offset().left : e.offset().top
                                }
                                return u - d;
                            case "string":
                            case "number":
                                if (A._isNumeric.call(null, e)) return Math.abs(e);
                                if (-1 !== e.indexOf("%")) return Math.abs(l * parseInt(e) / 100);
                                if (-1 !== e.indexOf("-=")) return Math.abs(c - parseInt(e.split("-=")[1]));
                                if (-1 !== e.indexOf("+=")) {
                                    var h = c + parseInt(e.split("+=")[1]);
                                    return 0 <= h ? 0 : Math.abs(h)
                                }
                                if (-1 !== e.indexOf("px") && A._isNumeric.call(null, e.split("px")[0])) return Math.abs(e.split("px")[0]);
                                if ("top" === e || "left" === e) return 0;
                                if ("bottom" === e) return Math.abs(r.height() - o.outerHeight(!1));
                                if ("right" === e) return Math.abs(r.width() - o.outerWidth(!1));
                                if ("first" !== e && "last" !== e) return T(e).length ? (u = "x" === t ? T(e).offset().left : T(e).offset().top) - d : (o.css(p, e), void b.update.call(null, i[0]));
                                var f = o.find(":" + e);
                                return (u = "x" === t ? T(f).offset().left : T(f).offset().top) - d
                        }
                    }
                },
                _autoUpdate: function V(e) {
                    var t = T(this),
                        i = t.data(O),
                        a = i.opt,
                        n = T("#mCSB_" + i.idx + "_container");
                    if (e) return clearTimeout(n[0].autoUpdate), void A._delete.call(null, n[0].autoUpdate);
                    var o, r, s, l = n.parent(),
                        d = [T("#mCSB_" + i.idx + "_scrollbar_vertical"), T("#mCSB_" + i.idx + "_scrollbar_horizontal")],
                        c = function c() {
                            return [d[0].is(":visible") ? d[0].outerHeight(!0) : 0, d[1].is(":visible") ? d[1].outerWidth(!0) : 0]
                        },
                        p = v(),
                        u = [n.outerHeight(!1), n.outerWidth(!1), l.height(), l.width(), c()[0], c()[1]],
                        h = g();

                    function f() {
                        clearTimeout(n[0].autoUpdate), n[0].autoUpdate = setTimeout(function() {
                            if (a.advanced.updateOnSelectorChange && (o = v()) !== p) return y(), void(p = o);
                            a.advanced.updateOnContentResize && ((r = [n.outerHeight(!1), n.outerWidth(!1), l.height(), l.width(), c()[0], c()[1]])[0] === u[0] && r[1] === u[1] && r[2] === u[2] && r[3] === u[3] && r[4] === u[4] && r[5] === u[5] || (y(), u = r)), a.advanced.updateOnImageLoad && (s = g()) !== h && (n.find("img").each(function() {
                                m(this.src)
                            }), h = s), (a.advanced.updateOnSelectorChange || a.advanced.updateOnContentResize || a.advanced.updateOnImageLoad) && f()
                        }, 60)
                    }

                    function g() {
                        var e = 0;
                        return a.advanced.updateOnImageLoad && (e = n.find("img").length), e
                    }

                    function m(e) {
                        var t = new Image;

                        function i(e, t) {
                            return function() {
                                return t.apply(e, arguments)
                            }
                        }

                        function a() {
                            this.onload = null, y()
                        }
                        t.onload = i(t, a), t.src = e
                    }

                    function v() {
                        !0 === a.advanced.updateOnSelectorChange && (a.advanced.updateOnSelectorChange = "*");
                        var e = 0,
                            t = n.find(a.advanced.updateOnSelectorChange);
                        return a.advanced.updateOnSelectorChange && 0 < t.length && t.each(function() {
                            e += T(this).height() + T(this).width()
                        }), e
                    }

                    function y() {
                        clearTimeout(n[0].autoUpdate), b.update.call(null, t[0])
                    }
                    f()
                },
                _snapAmount: function Z(e, t, i) {
                    return Math.round(e / t) * t - i
                },
                _stop: function G(e) {
                    var t = e.data(O);
                    T("#mCSB_" + t.idx + "_container,#mCSB_" + t.idx + "_container_wrapper,#mCSB_" + t.idx + "_dragger_vertical,#mCSB_" + t.idx + "_dragger_horizontal").each(function() {
                        A._stopTween.call(this)
                    })
                },
                _scrollTo: function Q(n, e, o) {
                    var t = n.data(O),
                        i = t.opt,
                        a = {
                            trigger: "internal",
                            dir: "y",
                            scrollEasing: "mcsEaseOut",
                            drag: !1,
                            dur: i.scrollInertia,
                            overwrite: "all",
                            callbacks: !0,
                            onStart: !0,
                            onUpdate: !0,
                            onComplete: !0
                        },
                        r = [(o = T.extend(a, o)).dur, o.drag ? 0 : o.dur],
                        s = T("#mCSB_" + t.idx),
                        l = T("#mCSB_" + t.idx + "_container"),
                        d = i.callbacks.onTotalScrollOffset ? A._arr.call(n, i.callbacks.onTotalScrollOffset) : [0, 0],
                        c = i.callbacks.onTotalScrollBackOffset ? A._arr.call(n, i.callbacks.onTotalScrollBackOffset) : [0, 0];
                    switch (t.trigger = o.trigger, i.snapAmount && (e = A._snapAmount(e, i.snapAmount, i.snapOffset)), o.dir) {
                        case "x":
                            var p = T("#mCSB_" + t.idx + "_dragger_horizontal"),
                                u = "left",
                                h = l[0].offsetLeft,
                                f = [s.width() - l.outerWidth(!1), p.parent().width() - p.width()],
                                g = [e, e / t.scrollRatio.x],
                                m = d[1],
                                v = c[1],
                                y = 0 < m ? m / t.scrollRatio.x : 0,
                                b = 0 < v ? v / t.scrollRatio.x : 0;
                            break;
                        case "y":
                            p = T("#mCSB_" + t.idx + "_dragger_vertical"), u = "top", h = l[0].offsetTop, f = [s.height() - l.outerHeight(!1), p.parent().height() - p.height()], g = [e, e / t.scrollRatio.y], m = d[0], v = c[0], y = 0 < m ? m / t.scrollRatio.y : 0, b = 0 < v ? v / t.scrollRatio.y : 0
                    }

                    function x(e) {
                        return t && i.callbacks[e] && "function" == typeof i.callbacks[e]
                    }

                    function _() {
                        return [i.callbacks.alwaysTriggerOffsets || h >= f[0] + m, i.callbacks.alwaysTriggerOffsets || h <= -v]
                    }

                    function w() {
                        var e = [l[0].offsetTop, l[0].offsetLeft],
                            t = [p[0].offsetTop, p[0].offsetLeft],
                            i = [l.outerHeight(!1), l.outerWidth(!1)],
                            a = [s.height(), s.width()];
                        n[0].mcs = {
                            content: l,
                            top: e[0],
                            left: e[1],
                            draggerTop: t[0],
                            draggerLeft: t[1],
                            topPct: Math.round(100 * Math.abs(e[0]) / (Math.abs(i[0]) - a[0])),
                            leftPct: Math.round(100 * Math.abs(e[1]) / (Math.abs(i[1]) - a[1])),
                            direction: o.dir
                        }
                    }
                    g[1] < 0 ? g = [0, 0] : g[1] >= f[1] ? g = [f[0], f[1]] : g[0] = -g[0], clearTimeout(l[0].onCompleteTimeout), !t.tweenRunning && (0 === h && 0 <= g[0] || h === f[0] && g[0] <= f[0]) || (A._tweenTo.call(null, p[0], u, Math.round(g[1]), r[1], o.scrollEasing), A._tweenTo.call(null, l[0], u, Math.round(g[0]), r[0], o.scrollEasing, o.overwrite, {
                        onStart: function C() {
                            o.callbacks && o.onStart && !t.tweenRunning && (x("onScrollStart") && (w(), i.callbacks.onScrollStart.call(n[0])), t.tweenRunning = !0, A._onDragClasses(p), t.cbOffsets = _())
                        },
                        onUpdate: function S() {
                            o.callbacks && o.onUpdate && x("whileScrolling") && (w(), i.callbacks.whileScrolling.call(n[0]))
                        },
                        onComplete: function F() {
                            if (o.callbacks && o.onComplete) {
                                "yx" === i.axis && clearTimeout(l[0].onCompleteTimeout);
                                var e = l[0].idleTimer || 0;
                                l[0].onCompleteTimeout = setTimeout(function() {
                                    x("onScroll") && (w(), i.callbacks.onScroll.call(n[0])), x("onTotalScroll") && g[1] >= f[1] - y && t.cbOffsets[0] && (w(), i.callbacks.onTotalScroll.call(n[0])), x("onTotalScrollBack") && g[1] <= b && t.cbOffsets[1] && (w(), i.callbacks.onTotalScrollBack.call(n[0])), t.tweenRunning = !1, l[0].idleTimer = 0, A._onDragClasses(p, "hide")
                                }, e)
                            }
                        }
                    }))
                },
                _tweenTo: function ee(e, t, i, a, n, o, r) {
                    var s, l = (r = r || {}).onStart || function() {},
                        d = r.onUpdate || function() {},
                        c = r.onComplete || function() {},
                        p = A._getTime(),
                        u = 0,
                        h = e.offsetTop,
                        f = e.style;
                    "left" === t && (h = e.offsetLeft);
                    var g = i - h;

                    function m() {
                        e._mcsstop || (u || l.call(), u = A._getTime() - p, v(), u >= e._mcstime && (e._mcstime = u > e._mcstime ? u + s - (u - e._mcstime) : u + s - 1, e._mcstime < u + 1 && (e._mcstime = u + 1)), e._mcstime < a ? e._mcsid = _request(m) : c.call())
                    }

                    function v() {
                        0 < a ? (e._mcscurrVal = x(e._mcstime, h, g, a, n), f[t] = Math.round(e._mcscurrVal) + "px") : f[t] = i + "px", d.call()
                    }

                    function y() {
                        s = 1e3 / 60, e._mcstime = u + s, _request = _.requestAnimationFrame ? _.requestAnimationFrame : function(e) {
                            return v(), setTimeout(e, .01)
                        }, e._mcsid = _request(m)
                    }

                    function b() {
                        null != e._mcsid && (_.requestAnimationFrame ? _.cancelAnimationFrame(e._mcsid) : clearTimeout(e._mcsid), e._mcsid = null)
                    }

                    function x(e, t, i, a, n) {
                        switch (n) {
                            case "linear":
                            case "mcsLinear":
                                return i * e / a + t;
                            case "mcsLinearOut":
                                return e /= a, e--, i * Math.sqrt(1 - e * e) + t;
                            case "easeInOutSmooth":
                                return (e /= a / 2) < 1 ? i / 2 * e * e + t : -i / 2 * (--e * (e - 2) - 1) + t;
                            case "easeInOutStrong":
                                return (e /= a / 2) < 1 ? i / 2 * Math.pow(2, 10 * (e - 1)) + t : (e--, i / 2 * (2 - Math.pow(2, -10 * e)) + t);
                            case "easeInOut":
                            case "mcsEaseInOut":
                                return (e /= a / 2) < 1 ? i / 2 * e * e * e + t : i / 2 * ((e -= 2) * e * e + 2) + t;
                            case "easeOutSmooth":
                                return e /= a, -i * (--e * e * e * e - 1) + t;
                            case "easeOutStrong":
                                return i * (1 - Math.pow(2, -10 * e / a)) + t;
                            case "easeOut":
                            case "mcsEaseOut":
                            default:
                                var o = (e /= a) * e,
                                    r = o * e;
                                return t + i * (.499999999999997 * r * o + -2.5 * o * o + 5.5 * r + -6.5 * o + 4 * e)
                        }
                    }
                    e._mcsstop = 0, "none" !== o && b(), y()
                },
                _getTime: function te() {
                    return _.performance && _.performance.now ? _.performance.now() : _.performance && _.performance.webkitNow ? _.performance.webkitNow() : Date.now ? Date.now() : (new Date).getTime()
                },
                _stopTween: function ie() {
                    var e = this;
                    null != e._mcsid && (_.requestAnimationFrame ? _.cancelAnimationFrame(e._mcsid) : clearTimeout(e._mcsid), e._mcsid = null, e._mcsstop = 1)
                },
                _delete: function ae(e) {
                    null
                },
                _mouseBtnLeft: function ne(e) {
                    return !(e.which && 1 !== e.which)
                },
                _pointerTouch: function oe(e) {
                    var t = e.originalEvent.pointerType;
                    return !(t && "touch" !== t && 2 !== t)
                },
                _isNumeric: function re(e) {
                    return !isNaN(parseFloat(e)) && isFinite(e)
                }
            };
        g.location.protocol;
        T.fn[h] = function(e) {
            return b[e] ? b[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" !== _typeof(e) && e ? void T.error("Method " + e + " does not exist") : b.init.apply(this, arguments)
        }, T[h] = function(e) {
            return b[e] ? b[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" !== _typeof(e) && e ? void T.error("Method " + e + " does not exist") : b.init.apply(this, arguments)
        }, T[h].defaults = n, _[h] = !0, T(_).load(function() {
            T(a)[h]()
        })
    }(jQuery, window, document),
    function(e) {
        var g, m, t = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            i = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            a = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            n = [];

        function v(e) {
            return t[parseInt(e, 10)] || e
        }

        function y(e) {
            var t = parseInt(e, 10) - 1;
            return i[t] || e
        }

        function b(e) {
            var t = parseInt(e, 10) - 1;
            return a[t] || e
        }
        n.Jan = "01", n.Feb = "02", n.Mar = "03", n.Apr = "04", n.May = "05", n.Jun = "06", n.Jul = "07", n.Aug = "08", n.Sep = "09", n.Oct = "10", n.Nov = "11", n.Dec = "12", e.format = (g = function g(e) {
            return n[e] || e
        }, m = function m(e) {
            var t = e,
                i = "";
            if (-1 !== t.indexOf(".")) {
                var a = t.split(".");
                t = a[0], i = a[1]
            }
            var n = t.split(":");
            return 3 === n.length ? (hour = n[0], minute = n[1], second = n[2], {
                time: t,
                hour: hour,
                minute: minute,
                second: second,
                millis: i
            }) : {
                time: "",
                hour: "",
                minute: "",
                second: "",
                millis: ""
            }
        }, {
            date: function x(e, t) {
                try {
                    var x = null,
                        i = null,
                        a = null,
                        n = null,
                        o = null,
                        r = null;
                    if ("function" == typeof e.getFullYear) i = e.getFullYear(), a = e.getMonth() + 1, n = e.getDate(), o = e.getDay(), r = m(e.toTimeString());
                    else if (-1 != e.search(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[-+]?\d{2}:?\d{2}/)) i = (s = e.split(/[T\+-]/))[0], a = s[1], n = s[2], r = m(s[3].split(".")[0]), x = new Date(i, a - 1, n), o = x.getDay();
                    else {
                        var s;
                        switch ((s = e.split(" ")).length) {
                            case 6:
                                i = s[5], a = g(s[1]), n = s[2], r = m(s[3]), x = new Date(i, a - 1, n), o = x.getDay();
                                break;
                            case 2:
                                var l = s[0].split("-");
                                i = l[0], a = l[1], n = l[2], r = m(s[1]), x = new Date(i, a - 1, n), o = x.getDay();
                                break;
                            case 7:
                            case 9:
                            case 10:
                                i = s[3], a = g(s[1]), n = s[2], r = m(s[4]), x = new Date(i, a - 1, n), o = x.getDay();
                                break;
                            default:
                                return e
                        }
                    }
                    for (var d = "", c = "", p = 0; p < t.length; p++) {
                        var u = t.charAt(p);
                        switch (d += u) {
                            case "ddd":
                                c += v(o), d = "";
                                break;
                            case "dd":
                                if ("d" == t.charAt(p + 1)) break;
                                1 === String(n).length && (n = "0" + n), c += n, d = "";
                                break;
                            case "MMMM":
                                c += b(a), d = "";
                                break;
                            case "MMM":
                                if ("M" === t.charAt(p + 1)) break;
                                c += y(a), d = "";
                                break;
                            case "MM":
                                if ("M" == t.charAt(p + 1)) break;
                                1 === String(a).length && (a = "0" + a), c += a, d = "";
                                break;
                            case "yyyy":
                                c += i, d = "";
                                break;
                            case "yy":
                                if ("y" == t.charAt(p + 1) && "y" == t.charAt(p + 2)) break;
                                c += String(i).slice(-2), d = "";
                                break;
                            case "HH":
                                c += r.hour, d = "";
                                break;
                            case "hh":
                                var h = 0 == r.hour ? 12 : r.hour < 13 ? r.hour : r.hour - 12;
                                c += h = 1 == String(h).length ? "0" + h : h, d = "";
                                break;
                            case "h":
                                if ("h" == t.charAt(p + 1)) break;
                                c += h = 0 == r.hour ? 12 : r.hour < 13 ? r.hour : r.hour - 12, d = "";
                                break;
                            case "mm":
                                c += r.minute, d = "";
                                break;
                            case "ss":
                                c += r.second.substring(0, 2), d = "";
                                break;
                            case "SSS":
                                c += r.millis.substring(0, 3), d = "";
                                break;
                            case "a":
                                c += 12 <= r.hour ? "PM" : "AM", d = "";
                                break;
                            case " ":
                            case "/":
                            case ":":
                                c += u, d = "";
                                break;
                            default:
                                2 === d.length && 0 !== d.indexOf("y") && "SS" != d ? (c += d.substring(0, 1), d = d.substring(1, 2)) : 3 === d.length && -1 === d.indexOf("yyy") && (d = "")
                        }
                    }
                    return c
                } catch (f) {
                    return e
                }
            }
        })
    }(jQuery),
    function(p, m, u, s) {
        var e = "ontouchstart" in u,
            h = function() {
                var e = u.createElement("div"),
                    t = u.documentElement;
                if (!("pointerEvents" in e.style)) return !1;
                e.style.pointerEvents = "auto", e.style.pointerEvents = "x", t.appendChild(e);
                var i = m.getComputedStyle && "auto" === m.getComputedStyle(e, "").pointerEvents;
                return t.removeChild(e), !!i
            }(),
            i = {
                listNodeName: "ol",
                itemNodeName: "li",
                rootClass: "dd",
                listClass: "dd-list",
                itemClass: "dd-item",
                dragClass: "dd-dragel",
                handleClass: "dd-handle",
                collapsedClass: "dd-collapsed",
                placeClass: "dd-placeholder",
                noDragClass: "dd-nodrag",
                emptyClass: "dd-empty",
                expandBtnHTML: '<button class="dd-expand" data-action="expand" type="button">Expand</button>',
                collapseBtnHTML: '<button class="dd-collapse" data-action="collapse" type="button">Collapse</button>',
                group: 0,
                maxDepth: 5,
                threshold: 20,
                dragSortable: !0
            },
            v = {};

        function a(e, t) {
            this.w = p(u), this.el = p(e), this.options = p.extend({}, i, t), this.init()
        }

        function t(e, t) {
            var i, a;
            return function() {
                void 0 === i && (i = arguments, a = this, setTimeout(function() {
                    1 === i.length ? e.call(a, i[0]) : e.apply(a, i), i = void 0
                }, t))
            }
        }
        _autoScroll = t(function(e, t, i) {
            if (i) {
                var a, n, o, r, s, l, d, c = 30,
                    p = 3,
                    u = e.clientX,
                    h = e.clientY,
                    f = m.innerWidth,
                    g = m.innerHeight;
                if (!(d = (a = i).parentsUntil(".jz-table", ".scrollbar-wrap")).length) return;
                n = d[0].getBoundingClientRect(), o = (Math.abs(n.right - u) <= c) - (Math.abs(n.left - u) <= c), r = (Math.abs(n.bottom - h) <= c) - (Math.abs(n.top - h) <= c), o || r || (r = (g - h <= c) - (h <= c), ((o = (f - u <= c) - (u <= c)) || r) && (a = m)), v.vx === o && v.vy === r && v.el === a || (v.el = a, v.vx = o, v.vy = r, clearInterval(v.pid), a && (v.pid = setInterval(function() {
                    l = r ? r * p : 0, s = o ? o * p : 0, a === m ? m.scrollTo(m.pageXOffset + s, m.pageYOffset + l) : (d[0].scrollTop += l, d[0].scrollLeft += s)
                }, 24)))
            }
        }, 30), a.prototype = {
            init: function o() {
                var n = this;
                n.reset(), n.el.data("nestable-group", this.options.group), n.placeEl = p('<div class="' + n.options.placeClass + '"/>'), n.el.on("click", "button", function(e) {
                    if (!n.dragEl) {
                        var t = p(e.currentTarget),
                            i = t.data("action"),
                            a = t.parent(n.options.itemNodeName);
                        "collapse" === i && n.collapseItem(a), "expand" === i && n.expandItem(a)
                    }
                });
                var a = function a(e) {
                        var t = p(e.target),
                            i = t.attr("class");
                        if (void 0 !== i && !(-1 < i.indexOf("jz-sort") || -1 < i.indexOf("jz-checkbox") || -1 < i.indexOf("jz-radio") || -1 < i.indexOf("jz-input") || -1 < i.indexOf("jz-table-event-initial") || -1 < i.indexOf("jz-select") || -1 < i.indexOf("tag-delete"))) {
                            if (!t.hasClass(n.options.handleClass)) {
                                if (t.closest("." + n.options.noDragClass).length) return;
                                t = t.closest("." + n.options.handleClass)
                            }
                            t.length && !n.dragEl && (n.isTouch = /^touch/.test(e.type), n.isTouch && 1 !== e.touches.length || (e.preventDefault(), n.dragStart(e.touches ? e.touches[0] : e)))
                        }
                    },
                    t = function t(e) {
                        n.dragEl && (e.preventDefault(), n.dragMove(e.touches ? e.touches[0] : e))
                    },
                    i = function i(e) {
                        n.dragEl && (e.preventDefault(), n.dragStop(e.touches ? e.touches[0] : e))
                    };
                n.options.dragSortable && (e && (n.el[0].addEventListener("touchstart", a, !1), m.addEventListener("touchmove", t, !1), m.addEventListener("touchend", i, !1), m.addEventListener("touchcancel", i, !1)), n.el.off("mousedown.nestable-d").on("mousedown.nestable-d", a), n.w.off("mousedown.nestable-m").on("mousemove.nestable-m", t), n.w.off("mousedown.nestable-u").on("mouseup.nestable-u", i))
            },
            serialize: function n() {
                var i, e = 0,
                    o = this;

                function t(e, t) {
                    return i.apply(this, arguments)
                }
                return step = (i = function(e, a) {
                    var n = [];
                    return e.children(o.options.itemNodeName + ":not(.J-expand-row)").each(function() {
                        var e = p(this),
                            t = p.extend({}, JSON.parse(e.attr("data-id"))),
                            i = e.children(o.options.listNodeName);
                        i.length && (t.children = step(i, a + 1)), n.push(t)
                    }), n
                }, t.toString = function() {
                    return i.toString()
                }, t), step(o.el.find(o.options.listNodeName).first(), e)
            },
            serialise: function r() {
                return this.serialize()
            },
            reset: function l() {
                this.mouse = {
                    offsetX: 0,
                    offsetY: 0,
                    startX: 0,
                    startY: 0,
                    lastX: 0,
                    lastY: 0,
                    nowX: 0,
                    nowY: 0,
                    distX: 0,
                    distY: 0,
                    dirAx: 0,
                    dirX: 0,
                    dirY: 0,
                    lastDirX: 0,
                    lastDirY: 0,
                    distAxX: 0,
                    distAxY: 0
                }, this.isTouch = !1, this.moving = !1, this.dragEl = null, this.dragRootEl = null, this.dragDepth = 0, this.hasNewRoot = !1, this.pointEl = null, this._collapsed = !1, clearInterval(v.pid)
            },
            expandItem: function d(e) {
                e.removeClass(this.options.collapsedClass), e.children('[data-action="expand"]').hide(), e.children('[data-action="collapse"]').show(), e.children(this.options.listNodeName).show()
            },
            collapseItem: function c(e) {
                e.children(this.options.listNodeName).length && (e.addClass(this.options.collapsedClass), e.children('[data-action="collapse"]').hide(), e.children('[data-action="expand"]').show(), e.children(this.options.listNodeName).hide())
            },
            expandAll: function f() {
                var e = this;
                e.el.find(e.options.itemNodeName).each(function() {
                    e.expandItem(p(this))
                })
            },
            collapseAll: function g() {
                var e = this;
                e.el.find(e.options.itemNodeName).each(function() {
                    e.collapseItem(p(this))
                })
            },
            setParent: function y(e) {
                !e.children(this.options.listNodeName).length || e.children(".dd-expand").length || e.children(".dd-collapse").length || (e.prepend(p(this.options.expandBtnHTML)), e.prepend(p(this.options.collapseBtnHTML))), e.children('[data-action="expand"]').hide()
            },
            unsetParent: function b(e) {
                e.removeClass(this.options.collapsedClass), e.children("[data-action]").remove(), e.children(this.options.listNodeName).remove()
            },
            dragStart: function x(e) {
                var t = this.mouse,
                    i = p(e.target),
                    a = i.closest(this.options.itemNodeName);
                a.find(".dd-collapse").is(":hidden") && (this._collapsed = !0), this.collapseItem(a), this.placeEl.css("height", a.height()), t.offsetX = e.offsetX !== s ? e.offsetX : e.pageX - i.offset().left, t.offsetY = e.offsetY !== s ? e.offsetY : e.pageY - i.offset().top, t.startX = t.lastX = e.pageX, t.startY = t.lastY = e.pageY, this.dragRootEl = this.el, this.dragEl = p(u.createElement(this.options.listNodeName)).addClass(this.options.listClass + " " + this.options.dragClass), this.dragEl.css("width", a.width()), a.after(this.placeEl), a[0].parentNode.removeChild(a[0]), a.appendTo(this.dragEl), p(u.body).append(this.dragEl), this.dragEl.css({
                    left: e.pageX - t.offsetX,
                    top: e.pageY - t.offsetY
                });
                var n, o, r = this.dragEl.find(this.options.itemNodeName);
                for (n = 0; n < r.length; n++)(o = p(r[n]).parents(this.options.listNodeName).length) > this.dragDepth && (this.dragDepth = o);
                1 < o && this.dragEl.addClass("dd-multiShadow")
            },
            dragStop: function _(e) {
                var t = this.dragEl.children(this.options.itemNodeName).first();
                t[0].parentNode.removeChild(t[0]), this.placeEl.replaceWith(t), this.dragEl.remove(), this.el.trigger("drag-change"), this.hasNewRoot && this.dragRootEl.trigger("drag-change"), this._collapsed || this.expandItem(t), this.reset(), t.removeClass("dd-multiShadow")
            },
            dragMove: function w(e) {
                var t, i, a, n = this.options,
                    o = this.mouse;
                this.dragEl.css({
                    left: e.pageX - o.offsetX,
                    top: e.pageY - o.offsetY
                }), o.lastX = o.nowX, o.lastY = o.nowY, o.nowX = e.pageX, o.nowY = e.pageY, o.distX = o.nowX - o.lastX, o.distY = o.nowY - o.lastY, o.lastDirX = o.dirX, o.lastDirY = o.dirY, o.dirX = 0 === o.distX ? 0 : 0 < o.distX ? 1 : -1, o.dirY = 0 === o.distY ? 0 : 0 < o.distY ? 1 : -1;
                var r = Math.abs(o.distX) > Math.abs(o.distY) ? 1 : 0;
                if (!o.moving) return o.dirAx = r, void(o.moving = !0);
                _autoScroll(e, n, this.el), o.dirAx !== r ? (o.distAxX = 0, o.distAxY = 0) : (o.distAxX += Math.abs(o.distX), 0 !== o.dirX && o.dirX !== o.lastDirX && (o.distAxX = 0), o.distAxY += Math.abs(o.distY), 0 !== o.dirY && o.dirY !== o.lastDirY && (o.distAxY = 0)), o.dirAx = r, o.dirAx && o.distAxX >= n.threshold && (o.distAxX = 0, a = this.placeEl.prev(n.itemNodeName), 0 < o.distX && a.length && !a.hasClass(n.collapsedClass) && (t = a.find(n.listNodeName).last(), this.placeEl.parents(n.listNodeName).length + this.dragDepth <= n.maxDepth && (t.length ? (t = a.children(n.listNodeName).last()).append(this.placeEl) : ((t = p("<" + n.listNodeName + "/>").addClass(n.listClass)).append(this.placeEl), a.append(t), this.setParent(a)))), o.distX < 0 && (this.placeEl.next(n.itemNodeName), i = this.placeEl.parent(), this.placeEl.closest(n.itemNodeName).after(this.placeEl), i.children().length || this.unsetParent(i.parent())));
                var s = !1;
                if (h || (this.dragEl[0].style.visibility = "hidden"), this.pointEl = p(u.elementFromPoint(e.pageX - u.body.scrollLeft, e.pageY - (m.pageYOffset || u.documentElement.scrollTop))), h || (this.dragEl[0].style.visibility = "visible"), this.pointEl.hasClass(n.handleClass) && (this.pointEl = this.pointEl.parent(n.itemNodeName)), this.pointEl.hasClass(n.emptyClass)) s = !0;
                else if (!this.pointEl.length || !this.pointEl.hasClass(n.itemClass)) return;
                var l = this.pointEl.closest("." + n.rootClass),
                    d = this.dragRootEl.data("nestable-id") !== l.data("nestable-id");
                if (!o.dirAx || d || s) {
                    if (d && n.group !== l.data("nestable-group")) return;
                    if (this.dragDepth - 1 + this.pointEl.parents(n.listNodeName).length > n.maxDepth) return;
                    var c = e.pageY < this.pointEl.offset().top + this.pointEl.height() / 2;
                    i = this.placeEl.parent(), s ? ((t = p(u.createElement(n.listNodeName)).addClass(n.listClass)).append(this.placeEl), this.pointEl.replaceWith(t)) : c ? this.pointEl.before(this.placeEl) : this.pointEl.after(this.placeEl), i.children().length || this.unsetParent(i.parent()), this.dragRootEl.find(n.itemNodeName).length || this.dragRootEl.append('<div class="' + n.emptyClass + '"/>'), d && (this.dragRootEl = l, this.hasNewRoot = this.el[0] !== this.dragRootEl[0])
                }
            }
        }, p.fn.nestable = function(t) {
            var e = this,
                i = this;
            return e.each(function() {
                var e = p(this).data("nestable");
                e ? "string" == typeof t && "function" == typeof e[t] && (i = e[t]()) : (p(this).data("nestable", new a(this, t)), p(this).data("nestable-id", (new Date).getTime()))
            }), i || e
        }
    }(window.jQuery, window, document),
    function(m) {
        function v(e, c) {
            var p = [];
            "undefined" != typeof c.dataList && null !== c.dataList || (c.dataList = []), m.each(c.dataList, function(e, t) {
                "undefined" == typeof t[c.primaryKey] && (c.dataList[e][c.primaryKey] = c.tmp.maxPrimaryKey, c.tmp.maxPrimaryKey++)
            }), T(e, c);
            var t = c.dataList;
            0 < c.tmp.searchMatcher.length && (t = c.tmp.result);
            var i = S(c, t);
            if (0 < i.length) m.each(i, function(e, d) {
                d[c.primaryKey];
                var t = "";
                c.tableRowsClass[d[c.primaryKey]] && (t = ' class="' + c.tableRowsClass[d[c.primaryKey]] + '"');
                var i = c.primaryKey + '="' + d[c.primaryKey] + '"';
                p.push("<tr " + i + t + ">"), c.tableColumn.showCheckbox && p.push('<td class="checkBoxWidth textCenter"><label class="faiTableCheckboxLabel"><input type="checkbox" value=""></label></td>'), m.each(c.tableColumn.columns, function(e, t) {
                    var i = t.key,
                        a = d[i],
                        n = t.rowClass,
                        o = "";
                    o = "undefined" != typeof t.extData && m.isFunction(t.extData) ? t.extData(a, d) : "undefined" == typeof t.encode || t.encode ? Fai.encodeHtml(a) : a, t.custom && (o = t.customData), c.sortData.showSortBtn && i == c.sortData.showColumnKey && (o = '<div class="sortPanel"><a class="up pointer"></a><a class="down pointer"></a></div>', n = void 0 !== n ? "sortWidth " + n : "sortWidth");
                    var r = "",
                        s = "padding ellipsis tdWrap";
                    r = void 0 !== n ? n + " ellipsis" : "defaultWidth ellipsis";
                    var l = "";
                    t.onTitle && (l = ' title="' + Fai.encodeHtml(a) + '"', t.textArea && (l = ' title="' + Fai.encodeHtmlAttr(a) + '"')), t.textArea && (s += " textAreaWrap "), p.push('<td class="' + r + '"' + l + '><div class="' + s + '">' + o + "</div></td>")
                }), p.push("</tr>")
            });
            else {
                var a = C(e);
                p.push('<tr class="queryIngTr">'), p.push('<td class="padding" colspan="' + a + '">' + c.noDataMsg + "</td>"), p.push("</tr>")
            }
            e.find("div.center table:first>tbody").html(p.join("")), (Fai.isIE6() || Fai.isIE7()) && (n(e), m(window).resize(function() {
                n(e)
            })), c.itemHover && o(e), r(e, c), (c.sortData.showSortBtn || c.sortData.sortable) && l(e, c), c.sortData.showSortBtn && (h(e), f(e, c)), c.sortData.sortable && d(e, c), u(e), c.bottom.show && c.bottom.showTotal && b(e), c.bottom.show && c.bottom.showAllTotal && g(e, c.tmp.result), c.bottom.show && c.bottom.showExtTotal && y(e, c), c.bottom.show && c.bottom.showPage && F(e, c), x(e), _(e), E(e, c)
        }

        function n(e) {
            e.find("tr.fixIE6forFaiTable").remove();
            var t = e.width();
            if (0 < e.find("table.faiTable").width() - t) {
                var i = C(e),
                    a = [];
                a.push('<tr class="fixIE6forFaiTable">'), a.push('<td colspan="' + i + '"></td>'), a.push("</tr>"), e.find("table.faiTable").append(a.join(""))
            }
        }

        function a(i, a, n, o, r) {
            var e = [],
                t = i.find("div.center table:first>thead>tr>th").length;
            e.push('<tr class="queryIngTr">'), e.push('<td class="padding" colspan="' + t + '"><div class="ajaxLoading1 queryIng">数据加载中...</div></td>'), e.push("</tr>"), i.find("div.center table:first>tbody").html(e.join("")), m.ajax({
                type: a.ajax.type,
                data: a.ajax.data,
                url: a.ajax.url,
                error: function s() {
                    i.find("div.center table:first>tbody td").html('<td colspan="' + t + '"><div class="ajaxLoading1 queryIng">数据加载失败...</div></td>')
                },
                success: function l(e) {
                    var t = m.parseJSON(m.trim(e));
                    a.dataList = t, n && o && r && a.dataList.sort(function(e, t) {
                        return Fai.compareObjNew(e, t, o, r)
                    }), v(i, a)
                }
            })
        }

        function o(e) {
            e.find("div.center table:first>tbody>tr").hover(function() {
                m(this).addClass("hover")
            }, function() {
                m(this).removeClass("hover")
            })
        }

        function r(e, a) {
            var n, o, r = 0,
                s = 0,
                l = !1,
                d = a.expandMinWidth,
                c = d,
                p = e.find("div.center table:first>thead"),
                t = e.find("div.center table:first>thead th"),
                i = e.find("div.center table:first>thead").find("th.expand").find(".expandRightLine"),
                u = p.find("th.pointer");
            i.hover(function() {
                m(this).addClass("expanding")
            }, function() {
                m(this).removeClass("expanding")
            }), i.mousedown(function(e) {
                r = e.pageX, n = m(this).parents("th.expand"), m(this), s = n.width(), l = !0, p.addClass("changeCursor"), u.removeClass("pointer"), n.addClass("expanding"), o = n.attr("data-key"), m(a.tableColumn.columns).each(function(e, t) {
                    if (t.key == o) return c = t.expandMinWidth || d, !1;
                    c = d
                }), t.mousemove(function(e) {
                    var t = 0,
                        i = 0;
                    l && (p.onselectstart = function() {
                        return !1
                    }, t = parseInt(e.pageX - r), i = parseInt(s + t), n.css({
                        width: i < c ? c + "px" : i + "px"
                    }))
                })
            }).mousemove(function(e) {
                n = m(this).parents("th.expand"), o = n.attr("data-key"), m(a.tableColumn.columns).each(function(e, t) {
                    if (t.key == o) return c = t.expandMinWidth || d, !1;
                    c = d
                });
                var t = 0,
                    i = 0;
                l && (p.onselectstart = function() {
                    return !1
                }, t = parseInt(e.pageX - r), i = parseInt(s + t), n.css({
                    width: i < c ? c + "px" : i + "px"
                }))
            }), m(document).mouseup(function(e) {
                l && (l = !1, p.removeClass("changeCursor"), u.addClass("pointer"), "" != a.expandCookie && m.cookie(a.expandCookie + n.attr("data-key"), n.width(), {
                    expires: 365,
                    path: "/"
                }))
            })
        }

        function s(e, i) {
            e.find("div.center table:first>thead>tr>th").each(function(e) {
                if (m(this).attr("data-key") != undefined) {
                    var t = parseInt(m.cookie(i.expandCookie + m(this).attr("data-key"), {
                        path: "/"
                    })) || 0;
                    0 != t && m(this).css({
                        width: t + "px"
                    })
                }
            })
        }

        function l(e, t) {
            e.find("div.center table:first>tbody>tr").each(function() {
                var e = parseInt(m(this).attr(t.primaryKey)); - 1 != m.inArray(e, t.sortData.unSortList) && m(this).removeClass("move").addClass("unSort").find(".sortPanel").remove()
            })
        }

        function d(t, e) {
            t.find("div.center table:first>tbody>tr").each(function() {
                m(this).hasClass("queryIngTr unSort") || m(this).addClass("move")
            }), t.sortable("destroy"), t.sortable({
                start: function i() {
                    var e = C(t);
                    m(".sortablePlaceholder").append('<td colspan="' + e + '"><div class="sortableHighlight"></div></td>')
                },
                axis: "y",
                placeholder: "sortablePlaceholder",
                items: "div.center table:first>tbody>tr:not(.unSort)",
                distance: 3,
                cancel: ".queryIngTr, input, .unSort",
                stop: function a() {
                    u(t), h(t), e.sortData.sortBack && e.sortData.sortBack(), c(t, e)
                }
            }), t.disableSelection()
        }

        function u(e) {
            e.find("div.center table:first>tbody>tr").removeClass("even odd").each(function(e, t) {
                e % 2 == 0 ? m(this).addClass("odd") : m(this).addClass("even")
            })
        }

        function h(e) {
            var t = e.find("div.center table:first>tbody>tr>td .sortPanel a.up"),
                i = e.find("div.center table:first>tbody>tr>td .sortPanel a.down");
            t.removeClass("disabled").first().addClass("disabled"), i.removeClass("disabled").last().addClass("disabled")
        }

        function c(e, a) {
            var t = a.dataList,
                i = a.page.showCount,
                n = a.page.startPage,
                o = t.length,
                r = i * (n - 1),
                s = i * n - 1,
                l = e.find("div.center table:first>tbody>tr"),
                d = [],
                c = [];
            0 == i && (s = o - 1, r = 0), o < s && (s = o - 1);
            for (var p = r; p <= s; p++) d.push(t[p]);
            m.each(l, function(e, t) {
                var i = m(t).attr(a.primaryKey);
                m.each(d, function(e, t) {
                    if (i == t[a.primaryKey]) return c.push(t), !1
                })
            });
            for (var u = 0, h = r; h <= s; h++) t[h] = c[u], u++;
            a.dataList = t
        }

        function f(t, i) {
            t.find("div.center table:first>tbody>tr>td .sortPanel a").bind("click", function() {
                var e = m(this).parents("tr");
                m(this).hasClass("up") ? e.insertBefore(e.prev()) : m(this).hasClass("down") && e.insertAfter(e.next()), h(t), i.sortData.sortBack && i.sortData.sortBack(), c(t, i), u(t)
            }), h(t)
        }

        function g(e, t) {
            var i = t.length;
            e.find("div.bottom>.total>.allTotal").html("总共" + i + "个")
        }

        function y(e, t) {
            var i = "";
            "undefined" != typeof t.bottom.showExtData && m.isFunction(t.bottom.showExtData) && (i = t.bottom.showExtData(t.tmp.result)), e.find("div.bottom>.total>.extTotal").html(i)
        }

        function b(e) {
            var t = 0;
            m.each(e.find("div.center table:first>tbody>tr"), function() {
                m(this).hasClass("queryIngTr") || t++
            }), e.find("div.bottom>.total>.pageTotal").html("本页共" + t + "个 ")
        }

        function x(i) {
            var e = i.find("div.center table:first>thead>tr>th.checkBoxWidth input.checkbox.all"),
                a = i.find("div.center table:first>thead>tr>th.checkBoxWidth input.checkbox.all").parents("tr"),
                n = i.find("div.center table:first>tbody>tr>td.checkBoxWidth input");
            a.removeClass("checkedAll"), e.bind("click", function() {
                var e = m(this).prop("checked");
                n.prop("checked", e);
                var t = i.find("div.center table:first>tbody>tr>td.checkBoxWidth input[type='checkbox']").parents("tr");
                e ? (t.addClass("checked"), a.addClass("checkedAll")) : (t.removeClass("checked"), a.removeClass("checkedAll"))
            }), n.bind("click", function() {
                i.find("div.center table:first>tbody>tr>td.checkBoxWidth input:checked").length == n.length ? (e.prop("checked", !0), a.addClass("checkedAll")) : (e.prop("checked", !1), a.removeClass("checkedAll")), m(this).prop("checked") ? m(this).parents("tr").addClass("checked") : m(this).parents("tr").removeClass("checked")
            })
        }

        function _(e) {
            e.find("div.center table:first>thead>tr>th.checkBoxWidth input.checkbox.all").prop("checked", !1)
        }

        function w(e, t) {
            e.find("div.center table:first>thead>tr>th.sort").bind("click", function() {
                if (m(this).hasClass("expanding")) m(this).removeClass("expanding");
                else {
                    var i = m(this).attr("data-key"),
                        a = "";
                    a = m(this).hasClass("desc") ? (m(this).addClass("asc").removeClass("desc").siblings().removeClass("asc desc"), "asc") : (m(this).addClass("desc").removeClass("asc").siblings().removeClass("asc desc"), "desc"), t.dataList.sort(function(e, t) {
                        return Fai.compareObjNew(e, t, a, i)
                    }), v(e, t), t.sortCallback && t.sortCallback()
                }
            })
        }

        function C(e) {
            return e.find("div.center table:first>thead>tr>th").length
        }

        function S(e, t) {
            var a = e.page.startPage,
                n = e.page.showCount,
                o = e.tmp.maxPage,
                r = [];
            if (0 == n) return t;
            var s = t.length;
            if (t && 0 < t.length) {
                a = (o = (s = t.length) % n == 0 ? s / n : Math.floor(s / n) + 1) < (a = a < 1 ? 1 : a) ? o : a;
                var l = ((e.page.startPage = a) - 1) * n < 0 ? 0 : (a - 1) * n,
                    d = a + n < 0 ? 0 : a + n;
                for (d = s < d ? s : l + n, i = l; i < d; i++) "undefined" != typeof t[i] && r.push(t[i])
            } else o = 1;
            return e.tmp.maxPage = o, r
        }

        function F(e, t) {
            var i, a, n = [];
            if (i = t.page.startPage - 2 <= 0 ? 1 : t.page.startPage - 2, a = t.page.startPage + 2 >= t.tmp.maxPage ? t.tmp.maxPage : t.page.startPage + 2, !0 === t.page.pageClass.isDefaultPage)
                if ("new2" == t.page.pageClass.pageStyle) {
                    n.push('<a href="javascript:;" hidefocus="true" class="firstPage ' + t.page.pageClass.pagePrevClass + '">首页</a>'), n.push('<a href="javascript:;" hidefocus="true" class="prevPage disabledBtn ' + t.page.pageClass.pagePrevClass + '"><<上一页</a>'), 5 < Math.abs(t.page.startPage - 1) && 1 != i && n.push("<div class='pageNo_model'><a class='grayContent'>1</a></div>"), 2 < i && n.push("<div class='pageEllipsis_new'></div>");
                    for (var o = i; o <= a; o++) o == t.page.startPage ? n.push("<div class='pageNo_model'><span style='margin-left:4px;' class='blueTitle'>" + t.page.startPage + "</span></div>") : n.push("<div class='pageNo_model'><a class='grayContent'>", o, "</a></div>");
                    a < t.tmp.maxPage - 1 && n.push("<div class='pageEllipsis_new'></div>"), 5 < Math.abs(t.page.startPage - t.tmp.maxPage) && t.tmp.maxPage != a && n.push("<div class='pageNo_model'><a class='grayContent'>" + t.tmp.maxPage + "</a></div>"), n.push('<a href="javascript:;" hidefocus="true" class="nextPage disabledBtn ' + t.page.pageClass.pageNextClass + '">下一页>></a>'), n.push('<a href="javascript:;" hidefocus="true" class="endPage ' + t.page.pageClass.pageNextClass + '">尾页</a>')
                } else if ("new" == t.page.pageClass.pageStyle) {
                n.push('<a href="javascript:;" hidefocus="true" class="prevPage disabledBtn ' + t.page.pageClass.pagePrevClass + '"><div class="pagePrevClassImg"></div></a>'), 5 < Math.abs(t.page.startPage - 1) && 1 != i && n.push("<div class='pageNo_model'><a class='grayContent'>1</a></div>"), 2 < i && n.push("<div class='pageEllipsis_new'></div>");
                for (o = i; o <= a; o++) o == t.page.startPage ? n.push("<div class='pageNo_model'><span style='margin-left:4px;' class='blueTitle'>" + t.page.startPage + "</span></div>") : n.push("<div class='pageNo_model'><a class='grayContent'>", o, "</a></div>");
                a < t.tmp.maxPage - 1 && n.push("<div class='pageEllipsis_new'></div>"), 5 < Math.abs(t.page.startPage - t.tmp.maxPage) && t.tmp.maxPage != a && n.push("<div class='pageNo_model'><a class='grayContent'>" + t.tmp.maxPage + "</a></div>"), n.push('<a href="javascript:;" hidefocus="true" class="nextPage disabledBtn ' + t.page.pageClass.pageNextClass + '"><div class="pageNextClassImg"></div></a>'), n.push('<span style="margin-left: 10px;position: relative;top:1px;" class="currentPage">共&nbsp;' + t.tmp.maxPage + "&nbsp;页</span>"), n.push('<div class="pageSearch pageSearch_N"><span class="grayTitle">到第&nbsp;<input oninput="this.value=this.value.replace(/[^0-9]+/g,\'\')" type="text" maxlength="3" onkeypress="javascript:return Fai.isNumberKey(event);">&nbsp;页<span></div>'), n.push('<div class="pageSearchClick pageSearchClick_N"><a class="bottomSearch" href="javascript:;">确定</a></div>')
            } else n.push('<a href="javascript:;" hidefocus="true" class="prevPage disabledBtn ' + t.page.pageClass.pagePrevClass + '"><div class="pagePrevClassImg"></div></a>'), n.push('<span class="currentPage">' + t.page.startPage + "/" + t.tmp.maxPage + "</span>"), n.push('<a href="javascript:;" hidefocus="true" class="nextPage disabledBtn ' + t.page.pageClass.pageNextClass + '"><div class="pageNextClassImg"></div></a>'), n.push('<div class="pageSearch"><input type="text" maxlength="3" onkeypress="javascript:return Fai.isNumberKey(event);"></div>'), n.push('<div class="pageSearchClick">跳转</div>');
            else n.push('<a href="javascript:;" hidefocus="true" class="prevPage disabledBtn">上一页</a>'), n.push('<span class="currentPage">' + t.page.startPage + "/" + t.tmp.maxPage + "页</span>"), n.push('<a href="javascript:;" hidefocus="true" class="nextPage disabledBtn">下一页</a>');
            e.find("div.bottom>.page").html(n.join("")), p(e, t)
        }

        function p(t, i) {
            var e = t.find("div.bottom>div.page"),
                a = e.find("a.prevPage"),
                n = e.find("a.nextPage"),
                o = e.find("a.firstPage"),
                r = e.find("a.endPage"),
                s = e.find(".pageSearchClick"),
                l = i.page.startPage,
                d = (i.page.showCount, i.tmp.maxPage);
            "new" == i.page.pageClass.pageStyle && e.find(".pageNo_model").each(function() {
                var e = m(this).find(".grayContent").text();
                m(this).find(".grayContent").addClass("pointer"), m(this).find(".grayContent").bind("click", function() {
                    i.page.startPage = parseInt(e), v(t, i)
                })
            });
            "new2" == i.page.pageClass.pageStyle && (e.find(".pageNo_model").each(function() {
                var e = m(this).find(".grayContent").text();
                m(this).find(".grayContent").addClass("pointer"), m(this).find(".grayContent").bind("click", function() {
                    i.page.startPage = parseInt(e), v(t, i)
                })
            }), (o = e.find(".firstPage")).bind("click", function() {
                i.page.startPage = 1, v(t, i)
            }), (r = e.find(".endPage")).bind("click", function() {
                i.page.startPage = e.find(".pageNo_model:last").text(), v(t, i)
            }));
            1 < l && a.removeClass("disabledBtn"), l < d && n.removeClass("disabledBtn"), "new" == i.page.pageClass.pageStyle && (a.hasClass("disabledBtn") && (a.removeClass("prevShow_model"), a.addClass("prevHide_model")), n.hasClass("disabledBtn") && (n.removeClass("nextShow_model"), n.addClass("nextHide_model"))), "new2" == i.page.pageClass.pageStyle && (a.hasClass("disabledBtn") && (a.removeClass("prevShow_model"), a.addClass("prevHide_model"), o.removeClass("prevShow_model"), o.addClass("prevHide_model")), n.hasClass("disabledBtn") && (n.removeClass("nextShow_model"), n.addClass("nextHide_model"), r.removeClass("nextShow_model"), r.addClass("nextHide_model"))), a.hasClass("disabledBtn") || (a.addClass("pointer"), a.bind("click", function() {
                k(t, i)
            })), n.hasClass("disabledBtn") || (n.addClass("pointer"), n.bind("click", function() {
                B(t, i)
            })), 1 < d && s.removeClass("disabledBtn"), s.hasClass("disabledBtn") || (s.addClass("pointer"), s.bind("click", function() {
                I(t, i)
            }))
        }

        function k(e, t) {
            var i = t.page.startPage,
                a = t.page.showCount,
                n = t.dataList.length;
            n % a == 0 || Math.floor(n / a);
            0 < i - 1 && i--, t.page.startPage = i, v(e, t)
        }

        function B(e, t) {
            var i = t.page.startPage,
                a = t.page.showCount,
                n = t.dataList.length;
            i + 1 <= (n % a == 0 ? n / a : Math.floor(n / a) + 1) && i++, t.page.startPage = i, v(e, t)
        }

        function I(e, t) {
            var i = e.find("div.bottom>div.page").find(".pageSearch input").val();
            "" != i && (i = parseInt(i));
            t.page.startPage;
            var a = t.page.showCount,
                n = t.dataList.length,
                o = n % a == 0 ? n / a : Math.floor(n / a) + 1;
            i <= o && 0 < i ? t.page.startPage = i : "" === i ? Fai.ing("您没有输入数值。", !0) : t.page.startPage = o, v(e, t)
        }

        function W(e, i) {
            if (m.isArray(e)) {
                var t = m.extend(!0, [], e);
                return m.each(t, function(e, t) {
                    delete t[i.primaryKey]
                }), t
            }
            if ("object" === _typeof(e)) {
                var a = m.extend(!0, {}, e);
                return delete a[i.primaryKey], a
            }
        }

        function E(e, t) {
            var i = e.find("div.center table:first>thead>tr>th"),
                a = e.find("div.center table:first>tbody>tr"),
                n = t.tableColumn.hiddenKeyList;
            m.each(i, function(t) {
                var i = m(this).attr("data-key");
                m(this).removeClass("disabled"), -1 != m.inArray(i, n) && m(this).addClass("disabled"), m.each(a, function(e) {
                    m(this).find("td").eq(t).removeClass("disabled"), -1 != m.inArray(i, n) && m(this).find("td").eq(t).addClass("disabled")
                })
            })
        }

        function T(e, t) {
            var a = [];
            m.each(t.dataList, function(e, l) {
                var i = 0;
                m.each(t.tmp.searchMatcher, function(e, a) {
                    var t = a.searchKeyList,
                        n = a.searchString,
                        o = a.useToLowerCase;
                    void 0 === o && (o = !0);
                    var r = a.cmd;
                    void 0 === r && (r = "like");
                    var s = !1;
                    m.each(t, function(e, t) {
                        var i = l[t];
                        if (o && "string" == typeof n && "string" == typeof i ? (i = i.toString().toLowerCase(), n = n.toString().toLowerCase()) : "string" == typeof i ? i = i.toString() : void 0 === i && (i = ""), "eq" == r) {
                            if (i === n) return !(s = !0)
                        } else if ("gt" == r) {
                            if (n < i) return !(s = !0)
                        } else if ("lt" == r) {
                            if (i < n) return !(s = !0)
                        } else if ("ge" == r) {
                            if (l[t].toString() >= n) return !(s = !0)
                        } else if ("le" == r) {
                            if (i <= n) return !(s = !0)
                        } else if ("and" == r) {
                            if (Fai.checkBit(i, n)) return !(s = !0)
                        } else if ("inArray" == r) {
                            if (0 <= m.inArray(n, i)) return !(s = !0)
                        } else if ("callBack" == r) {
                            if (a.callBack(l)) return !(s = !0)
                        } else if ("string" != typeof i && (i = i.toString()), 0 <= i.indexOf(n)) return !(s = !0)
                    }), s && i++
                }), i == t.tmp.searchMatcher.length && a.push(l)
            }), t.tmp.result = a
        }
        m.widget("ui.faiTable", {
            options: {
                before: function e() {},
                toolBar: [],
                tableColumn: {
                    showCheckbox: !1,
                    columns: [],
                    hiddenKeyList: []
                },
                bottom: {
                    show: !1,
                    showTotal: !1,
                    showAllTotal: !1,
                    showExtTotal: !1,
                    showPage: !1
                },
                ajax: {
                    type: "post",
                    url: "",
                    data: ""
                },
                primaryKey: "_index",
                dataList: [],
                noDataMsg: "没有数据",
                tableRowsClass: {},
                sortData: {
                    sortable: !1,
                    showSortBtn: !1,
                    showColumnKey: "_sort",
                    unSortList: [],
                    sortBack: function t() {}
                },
                page: {
                    startPage: 1,
                    showCount: 0,
                    pageClass: {
                        isDefaultPage: !1,
                        pageStyle: "",
                        pagePrevClass: "",
                        pageNextClass: ""
                    }
                },
                itemHover: !1,
                tmp: {
                    result: [],
                    maxPage: 0,
                    newAddDataList: [],
                    rmDataList: [],
                    editDataList: [],
                    maxPrimaryKey: 0,
                    searchMatcher: []
                },
                after: function O() {},
                expand: !1,
                expandCookie: "",
                expandMinWidth: 5,
                sortCallback: null,
                customClassStyle: "",
                toolBarPosition: "top"
            },
            _create: function P() {
                var e = this,
                    c = e.options,
                    t = e.element;
                c.before && c.before();
                var p = [];
                c.customClassStyle ? p.push("<div class=" + c.customClassStyle + ">") : p.push('<div class="faiTableWrap">'), "top" == c.toolBarPosition && 0 < c.toolBar.length && (p.push('<div class="top">'), m.each(c.toolBar, function(e, t) {
                    if (t.show) {
                        var i = "";
                        "undefined" != typeof t.extClass && (i += t.extClass);
                        var a = "";
                        "undefined" != typeof t.content && (a += t.content), p.push('<div class="toolBar ' + i + '">' + a + "</div>")
                    }
                }), p.push("</div>")), p.push('<div class="center">'), p.push('<table class="faiTable" cellpadding="0" cellspacing="0">'), p.push("<thead>"), p.push("<tr>"), c.tableColumn.showCheckbox && p.push('<th class="checkBoxWidth textCenter sep"><label class="faiTableCheckboxLabel"><input class="checkbox all" type="checkbox"></label></th>');
                var u = !1,
                    h = "",
                    f = "",
                    g = c.expand;
                0 < c.tableColumn.columns.length ? m.each(c.tableColumn.columns, function(e, t) {
                    var i = t.onsort,
                        a = t.sortAs,
                        n = t.expand;
                    void 0 === n && (n = g);
                    t.sortCallback;
                    var o = "";
                    "undefined" != typeof t.key && (o = ' data-key="' + t.key + '"');
                    var r = "",
                        s = "";
                    c.tableColumn.columns.length != e + 1 && (s = " sep");
                    var l = "";
                    i && (l = " sort pointer"), u || "asc" != a || (u = !0, h = "asc", f = t.key, i && (l += " asc")), u || "desc" != a || (u = !0, h = "desc", f = t.key, i && (l += " desc"));
                    var d = t.colClass;
                    c.sortData.showSortBtn && t.key == c.sortData.showColumnKey && (l = "", d = void 0 !== d ? "sortWidth " + d : "sortWidth"), r = void 0 !== d ? ' class="' + d + s + l : ' class="defaultWidth' + s + l, n ? (r += ' expand "', p.push("<th" + o + r + '><div class="expandRightLine-box"><div class="expandRightLine"></div></div><div class="padding title">' + t.name + "</div></th>")) : (r += ' "', p.push("<th" + o + r + '><div class="padding">' + t.name + "</div></th>"))
                }) : p.push("<th>&nbsp;</th>"), p.push("</tr>"), p.push("</thead>"), p.push("<tbody>"), p.push("</tbody>"), p.push("<tfoot></tfoot>"), p.push("</table>"), p.push("</div>"), "bottom" == c.toolBarPosition && 0 < c.toolBar.length && (p.push('<div class="top">'), m.each(c.toolBar, function(e, t) {
                    if (t.show) {
                        var i = "";
                        "undefined" != typeof t.extClass && (i += t.extClass);
                        var a = "";
                        "undefined" != typeof t.content && (a += t.content), p.push('<div class="toolBar ' + i + '">' + a + "</div>")
                    }
                }), p.push("</div>")), c.bottom.show && (p.push('<div class="bottom">'), p.push('<div class="total">'), c.bottom.showTotal && p.push('<span class="pageTotal"></span>'), c.bottom.showAllTotal && p.push('<span class="allTotal"></span>'), c.bottom.showExtTotal && p.push('<span class="extTotal"></span>'), p.push("</div>"), c.bottom.showPage && (p.push('<div class="page">'), p.push("</div>")), p.push("</div>")), p.push("</div>"), t.append(p.join("")), "undefined" != typeof c.ajax.url && "" != c.ajax.url ? (c.dataList = [], a(t, c, u, h, f)) : (u && h && f && c.dataList.sort(function(e, t) {
                    return Fai.compareObjNew(e, t, h, f)
                }), v(t, c)), w(t, c), s(t, c), c.after && c.after()
            },
            sortDataList: function A(e) {
                var t = this.options,
                    i = this.element,
                    a = t.dataList,
                    n = i.find("div.center table:first>tbody>tr"),
                    o = i.find("div.center table:first>tbody");
                m.each(e, function(e, i) {
                    m.each(a, function(e, t) {
                        if (i === t.id) {
                            var a = t._index;
                            return m.each(n, function(e, t) {
                                var i = parseInt(m(t).attr("_index"));
                                if (a === i) return o.append(t), !1
                            }), !1
                        }
                    })
                });
                for (var r = (n = i.find("div.center table:first>tbody>tr")).length - 1; 0 <= r; r--) {
                    0 < m(n[r]).find("div.checkedBtn").length && o.prepend(n[r])
                }
                h(i), u(i), c(i, t)
            },
            returnDataList: function D(e) {
                var t = this.options,
                    i = t.dataList,
                    a = W(i, t);
                return e ? i : a
            },
            returnRmDataList: function M() {
                var e = this.options;
                return W(e.tmp.rmDataList, e)
            },
            returnChoiceDataList: function L(a) {
                var n = this,
                    e = n.element,
                    o = n.options,
                    t = e.find("div.center table:first>tbody>tr>td.checkBoxWidth input[type='checkbox']:checked").parents("tr"),
                    r = [];
                return t.each(function(e, t) {
                    var i = m(this).attr(o.primaryKey);
                    r.push(n.getPrimaryKeyData(i, a))
                }), r
            },
            rmChoices: function $() {
                var e = this,
                    t = e.element,
                    a = e.options,
                    n = a.dataList,
                    o = a.tmp.rmDataList,
                    r = a.tmp.newAddDataList,
                    s = a.tmp.result,
                    l = a.tmp.editDataList,
                    i = t.find("div.center table:first>tbody>tr>td.checkBoxWidth input[type='checkbox']:checked").parents("tr");
                return 0 == i.length || (i.each(function(e, t) {
                    var i = m(this).attr(a.primaryKey);
                    m.each(n, function(e, t) {
                        if (t[a.primaryKey] == i) return o.push(t), n.splice(e, 1), !1
                    }), m.each(r, function(e, t) {
                        if (t[a.primaryKey] == i) return r.splice(e, 1), !1
                    }), m.each(s, function(e, t) {
                        if (t[a.primaryKey] == i) return s.splice(e, 1), !1
                    }), m.each(l, function(e, t) {
                        if (t[a.primaryKey] == i) return l.splice(e, 1), !1
                    })
                }), v(t, a)), !0
            },
            rmChoicesList: function N(e) {
                var i = this;
                return m.each(e, function(e, t) {
                    i.rmPrimaryKeyData(t)
                }), !0
            },
            addData: function H(e, t) {
                var i = this.element,
                    a = this.options,
                    n = a.dataList,
                    o = a.tmp.newAddDataList;
                return e[a.primaryKey] = a.tmp.maxPrimaryKey, a.tmp.maxPrimaryKey++, t ? n.splice(0, 0, e) : n.push(e), o.push(e), v(i, a), !0
            },
            returnNewAddDataList: function R() {
                var e = this.options;
                return W(e.tmp.newAddDataList, e)
            },
            hiddenColumns: function j(e) {
                var t = this.options,
                    i = this.element;
                t.tableColumn.hiddenKeyList = e, E(i, t)
            },
            searchString: function U(i) {
                var e = this,
                    a = e.options,
                    t = e.element;
                1 < a.page.startPage && (a.page.startPage = 1), m.each(a.tmp.searchMatcher, function(e, t) {
                    if (t.uid == i.uid) return a.tmp.searchMatcher.splice(e, 1), !1
                }), a.tmp.searchMatcher.push(i), v(t, a)
            },
            rmSearchObj: function z(i) {
                var e = this,
                    t = e.element,
                    a = e.options;
                m.each(a.tmp.searchMatcher, function(e, t) {
                    if (t.uid == i) return a.tmp.searchMatcher.splice(e, 1), !1
                }), v(t, a)
            },
            getPrimaryKeyId: function K(e) {
                var t = this.options,
                    i = m(e).parents("tr").attr(t.primaryKey);
                return parseInt(i)
            },
            getPrimaryKeyData: function X(i, e) {
                var a = this.options,
                    t = a.dataList,
                    n = !1,
                    o = {};
                if (m.each(t, function(e, t) {
                        if (t[a.primaryKey] == i) return o = t, !(n = !0)
                    }), n) return e ? o : W(o, a)
            },
            rmPrimaryKeyData: function Y(i) {
                var e = this.element,
                    a = this.options,
                    n = a.dataList,
                    o = a.tmp.rmDataList,
                    r = a.tmp.newAddDataList,
                    s = a.tmp.result,
                    l = a.tmp.editDataList;
                return m.each(n, function(e, t) {
                    if (t[a.primaryKey] == i) return o.push(t), n.splice(e, 1), !1
                }), m.each(r, function(e, t) {
                    if (t[a.primaryKey] == i) return r.splice(e, 1), !1
                }), m.each(s, function(e, t) {
                    if (t[a.primaryKey] == i) return s.splice(e, 1), !1
                }), m.each(l, function(e, t) {
                    if (t[a.primaryKey] == i) return l.splice(e, 1), !1
                }), v(e, a), !0
            },
            editData: function q(a, n, o) {
                var e = this.element,
                    r = this.options,
                    t = r.dataList,
                    s = r.tmp.editDataList,
                    l = r.tmp.newAddDataList,
                    d = !1,
                    i = "";
                return m.each(t, function(e, t) {
                    if (t[r.primaryKey] == a) {
                        o ? m.extend(t, n) : m.extend(!0, t, n);
                        var i = !(d = !0);
                        return m.each(l, function(e, t) {
                            if (t[r.primaryKey] == a) return !(i = !0)
                        }), i || (m.each(s, function(e, t) {
                            if (t[r.primaryKey] == a) return s.splice(e, 1), !1
                        }), s.push(t)), !1
                    }
                }), !!d && (m(r.tableColumn.columns).each(function() {
                    m(this)[0].ext && (i = m(this)[0].key)
                }), "" != i && "string" == typeof i && r.dataList.length > a && (r.dataList[a][i] = n[i]), v(e, r), !0)
            },
            editReplaceData: function J(n, o) {
                var e = this.element,
                    r = this.options,
                    t = r.dataList,
                    s = !1,
                    i = "";
                return m.each(t, function(e, t) {
                    if (t[r.primaryKey] == n) {
                        for (var i in s = !0, t) {
                            var a = o[i];
                            void 0 !== a && (t[i] = a)
                        }
                        return !1
                    }
                }), !!s && (m(r.tableColumn.columns).each(function() {
                    m(this)[0].ext && (i = m(this)[0].key)
                }), "" != i && "string" == typeof i && (r.dataList[0][i] = o[i]), v(e, r), !0)
            },
            returnEditDataList: function V() {
                var e = this.options;
                return W(e.tmp.editDataList, e)
            },
            addClassToRow: function Z(e) {},
            unSortListAdd: function G(e) {
                var t = this,
                    i = (this.element, t.options),
                    a = i.sortData.unSortList; - 1 == m.inArray(e, a) && i.sortData.unSortList.push(e)
            },
            unSortListRm: function Q(i) {
                var a = this.options,
                    e = a.sortData.unSortList;
                m.each(e, function(e, t) {
                    if (t == i) return a.sortData.unSortList.splice(e, 1), !1
                })
            },
            editThisRowColumn: function ee(e, n, t, o) {
                var r = this,
                    s = r.options,
                    l = r.getPrimaryKeyId(e),
                    i = m(e).parents("tr"),
                    a = -1;
                m.each(s.tableColumn.columns, function(e, t) {
                    if (t.key == n) return a = e, !0
                }), s.tableColumn.showCheckbox && a++;
                var d = i.find("td").eq(a).find("div.tdWrap"),
                    c = m.trim(d.text()),
                    p = m('<input type="text" class="txtInput" maxlength="' + t + '"/>');
                "" == c && (c = m(".txtInput").val()), p.val(c), p.bind("blur", function() {
                    var e = m.trim(m(this).val()),
                        t = {
                            primaryKeyId: l,
                            primaryKey: s.primaryKey,
                            key: n,
                            "old-data": c,
                            "new-data": e
                        };
                    void 0 !== o && o(t);
                    var i = t["new-data"];
                    if (d.html(Fai.encodeHtml(i)), i != c) {
                        var a = {};
                        a[n] = i, r.editData(l, a)
                    }
                    return !1
                }), p.bind("keypress", function(e) {
                    13 == e.keyCode && m(this).blur()
                }), d.html(p), setTimeout(function() {
                    p.focus()
                }, 1)
            },
            editFileName: function te(e, a, t, n) {
                var i = this,
                    o = i.options,
                    r = i.getPrimaryKeyId(e),
                    s = m(e).parents("tr"),
                    l = -1;
                m.each(o.tableColumn.columns, function(e, t) {
                    if (t.key == a) return l = e, !0
                }), o.tableColumn.showCheckbox && l++;
                var d = s.find("td").eq(l).find("div.tdWrap"),
                    c = m.trim(d.text()),
                    p = c.lastIndexOf("."),
                    u = c.substring(p),
                    h = c.substring(0, p),
                    f = m('<input type="text" class="txtInput" maxlength="' + t + '"/>');
                f.val(h), f.bind("blur", function() {
                    var e = m.trim(m(this).val()),
                        t = {
                            primaryKeyId: r,
                            primaryKey: o.primaryKey,
                            key: a,
                            "src-data": c,
                            "type-data": u,
                            "name-data": h,
                            "new-data": e
                        };
                    if (void 0 !== n) n(t);
                    else {
                        var i = t["new-data"];
                        d.html(Fai.encodeHtml(i))
                    }
                    return !1
                }), f.bind("keypress", function(e) {
                    13 == e.keyCode && m(this).blur()
                }), d.html(f), setTimeout(function() {
                    f.focus()
                }, 1)
            },
            returnResultDataList: function ie(e) {
                var t = this.options,
                    i = t.tmp.result,
                    a = W(i, t);
                return e ? i : a
            },
            refreshHiddenList: function ae(e) {
                var t = this,
                    i = t.element,
                    a = t.options;
                return m.isArray(e) && (a.tableColumn.hiddenKeyList = e), E(i, a), !0
            },
            refreshshowCountList: function ne(e) {
                var t = this,
                    i = t.options,
                    a = t.element;
                e && (i.page.showCount = e), v(a, i)
            },
            refreshShowTable: function oe(e) {
                var t = this.element,
                    i = this.options;
                return i.dataList = e, v(t, i), !0
            }
        })
    }(jQuery), Fai.bodyBg = function(e, t, i) {
        if (1 != top.Fai.top._noCover) {
            var a = "",
                n = "",
                o = (i || {}).extClass || "";
            t && (n = "filter: alpha(opacity=" + 100 * t + "); opacity:" + t + ";"), Fai.isIE6() && ($("body").data("height", $("body").css("height")), $("body").css("height", "100%")), a = '<div id="popupBg' + e + '" class="popupBg ' + o + "\" style='" + n + "' >" + ($.browser.msie && 6 == $.browser.version ? '<iframe id="fixSelectIframe' + e + '" wmode="transparent" style="filter: alpha(opacity=0);opacity: 0;" class="popupBg" style="z-index:-111" src="javascript:"></iframe>' : "") + "</div>", $(a).appendTo("body")
        }
    }, Fai.removeBodyBg = function(e) {
        Fai.isIE6() && $("body").css("height", $("body").data("height")), e ? $("#popupBg" + e).remove() : $(".popupBg").not(".popupZoneDelOnlyById").last().remove()
    }, Fai.unique = function(e) {
        if ("string" == typeof e) return t(e.split("")).join("");
        if (e instanceof Array) return t(e);
        throw "Fai.unique：参数必须是字符串或者数组";

        function t(e) {
            for (var t = [], i = 0; i < e.length; i++) - 1 == t.indexOf(e[i]) && t.push(e[i]);
            return t
        }
    }, Fai.URIParam = {
        get _param() {
            return this.hash.parse(location.hash)
        },
        set _param(e) {
            history.replaceState(history.state, null, this.hash.stringify(e))
        },
        hash: {
            stringify: function stringify(e) {
                for (var t = "", i = 0, a = Object.entries(e); i < a.length; i++) {
                    var n = _slicedToArray(a[i], 2),
                        o = n[0],
                        r = n[1];
                    t += "&".concat(o), r && "null" !== r && (t += "=".concat(r))
                }
                return (t = t.slice(1)) ? "#" + t : ""
            },
            parse: function parse(e) {
                var t = decodeURI(e).slice(1).split("&"),
                    o = {};
                return t.forEach(function(e) {
                    var t = _slicedToArray(e.split("="), 2),
                        i = t[0],
                        a = t[1],
                        n = void 0 === a ? "null" : a;
                    i && (o[i] = n)
                }), o
            }
        },
        each: function each(e) {
            for (var t = 0, i = Object.entries(this._param); t < i.length; t++) {
                var a = _slicedToArray(i[t], 2);
                e(a[0], a[1])
            }
        },
        getAll: function getAll() {
            return this._param
        },
        get: function get(e) {
            return this._param[e]
        },
        set: function set(e, t) {
            this._param = Object.assign(this._param, _defineProperty({}, e, t))
        }
    }, Fai.isLetter = function(e) {
        return !(e < "a" || "z" < e) || !(e < "A" || "Z" < e)
    };