! function(e, n, i) {
    "function" == typeof define && define.amd ? define(["jquery"], function(t) {
        return i(t, e, n), t.mobile
    }) : i(e.jQuery, e, n)
}(this, document, function(t, e, g, n) {
    var i, o, a, u, c, p, r, s;
    (i = t).extend(i.support, {
            orientation: "orientation" in e && "onorientationchange" in e
        }),
        function(t) {
            t.event.special.throttledresize = {
                setup: function s() {
                    t(this).bind("resize", a)
                },
                teardown: function u() {
                    t(this).unbind("resize", a)
                }
            };
            var e, n, i, o = 250,
                a = function a() {
                    n = (new Date).getTime(), o <= (i = n - r) ? (r = n, t(this).trigger("throttledresize")) : (e && clearTimeout(e), e = setTimeout(a, o - i))
                },
                r = 0
        }(t),
        function(e, n) {
            var i, o, t, a, r, s, u = e(n),
                c = "orientationchange",
                p = {
                    0: !0,
                    180: !0
                };

            function l() {
                var t = i();
                t !== o && (o = t, u.trigger(c))
            }
            e.support.orientation && (r = n.innerWidth || u.width(), t = (s = n.innerHeight || u.height()) < r && 50 < r - s, a = p[n.orientation], (t && a || !t && !a) && (p = {
                "-90": !0,
                90: !0
            })), e.event.special.orientationchange = e.extend({}, e.event.special.orientationchange, {
                setup: function h() {
                    if (e.support.orientation && !e.event.special.orientationchange.disabled) return !1;
                    o = i(), u.bind("throttledresize", l)
                },
                teardown: function v() {
                    if (e.support.orientation && !e.event.special.orientationchange.disabled) return !1;
                    u.unbind("throttledresize", l)
                },
                add: function d(t) {
                    var e = t.handler;
                    t.handler = function(t) {
                        return t.orientation = i(), e.apply(this, arguments)
                    }
                }
            }), e.event.special.orientationchange.orientation = i = function i() {
                var t = g.documentElement;
                return (e.support.orientation ? p[n.orientation] : t && t.clientWidth / t.clientHeight < 1.1) ? "portrait" : "landscape"
            }, e.fn[c] = function(t) {
                return t ? this.bind(c, t) : this.trigger(c)
            }, e.attrFn && (e.attrFn[c] = !0)
        }(t, this),
        function(h, t, e, v) {
            var u, n, a = "virtualMouseBindings",
                c = "virtualTouchID",
                i = "vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),
                d = "clientX clientY pageX pageY screenX screenY".split(" "),
                o = h.event.mouseHooks ? h.event.mouseHooks.props : [],
                f = h.event.props.concat(o),
                r = {},
                s = 0,
                p = 0,
                l = 0,
                m = !1,
                g = [],
                w = !1,
                b = !1,
                T = "addEventListener" in e,
                D = h(e),
                y = 1,
                x = 0;

            function E(t) {
                for (; t && "undefined" != typeof t.originalEvent;) t = t.originalEvent;
                return t
            }

            function k(t, e) {
                var n, i, o, a, r, s, u, c, p, l = t.type;
                if ((t = h.Event(t)).type = e, n = t.originalEvent, i = h.event.props, -1 < l.search(/^(mouse|click)/) && (i = f), n)
                    for (u = i.length; u;) t[a = i[--u]] = n[a];
                if (-1 < l.search(/mouse(down|up)|click/) && !t.which && (t.which = 1), -1 !== l.search(/^touch/) && (l = (o = E(n)).touches, r = o.changedTouches, s = l && l.length ? l[0] : r && r.length ? r[0] : v))
                    for (c = 0, p = d.length; c < p; c++) t[a = d[c]] = s[a];
                return t
            }

            function P(t) {
                for (var e, n, i = {}; t;) {
                    for (n in e = h.data(t, a)) e[n] && (i[n] = i.hasVirtualBinding = !0);
                    t = t.parentNode
                }
                return i
            }

            function X(t, e) {
                for (var n; t;) {
                    if ((n = h.data(t, a)) && (!e || n[e])) return t;
                    t = t.parentNode
                }
                return null
            }

            function Y() {
                b = !1
            }

            function M() {
                b = !0
            }

            function I() {
                x = 0, g.length = 0, w = !1, M()
            }

            function z() {
                Y()
            }

            function C() {
                L(), s = setTimeout(function() {
                    s = 0, I()
                }, h.vmouse.resetTimerDuration)
            }

            function L() {
                s && (clearTimeout(s), s = 0)
            }

            function S(t, e, n) {
                var i;
                return (n && n[t] || !n && X(e.target, t)) && (i = k(e, t), h(e.target).trigger(i)), i
            }

            function F(t) {
                var e, n = h.data(t.target, c);
                w || x && x === n || (e = S("v" + t.type, t)) && (e.isDefaultPrevented() && t.preventDefault(), e.isPropagationStopped() && t.stopPropagation(), e.isImmediatePropagationStopped() && t.stopImmediatePropagation())
            }

            function N(t) {
                var e, n, i, o = E(t).touches;
                o && 1 === o.length && (n = P(e = t.target)).hasVirtualBinding && (x = y++, h.data(e, c, x), L(), z(), m = !1, i = E(t).touches[0], p = i.pageX, l = i.pageY, S("vmouseover", t, n), S("vmousedown", t, n))
            }

            function H(t) {
                b || (m || S("vmousecancel", t, P(t.target)), m = !0, C())
            }

            function O(t) {
                if (!b) {
                    var e = E(t).touches[0],
                        n = m,
                        i = h.vmouse.moveDistanceThreshold,
                        o = P(t.target);
                    (m = m || Math.abs(e.pageX - p) > i || Math.abs(e.pageY - l) > i) && !n && S("vmousecancel", t, o), S("vmousemove", t, o), C()
                }
            }

            function B(t) {
                if (!b) {
                    M();
                    var e, n, i = P(t.target);
                    S("vmouseup", t, i), m || (e = S("vclick", t, i)) && e.isDefaultPrevented() && (n = E(t).changedTouches[0], g.push({
                        touchID: x,
                        x: n.clientX,
                        y: n.clientY
                    }), w = !0), S("vmouseout", t, i), m = !1, C()
                }
            }

            function j(t) {
                var e, n = h.data(t, a);
                if (n)
                    for (e in n)
                        if (n[e]) return !0;
                return !1
            }

            function A() {}

            function V(n) {
                var i = n.substr(1);
                return {
                    setup: function t() {
                        j(this) || h.data(this, a, {}), h.data(this, a)[n] = !0, r[n] = (r[n] || 0) + 1, 1 === r[n] && D.bind(i, F), h(this).bind(i, A), T && (r.touchstart = (r.touchstart || 0) + 1, 1 === r.touchstart && D.bind("touchstart", N).bind("touchend", B).bind("touchmove", O).bind("scroll", H))
                    },
                    teardown: function o() {
                        --r[n], r[n] || D.unbind(i, F), T && (--r.touchstart, r.touchstart || D.unbind("touchstart", N).unbind("touchmove", O).unbind("touchend", B).unbind("scroll", H));
                        var t = h(this),
                            e = h.data(this, a);
                        e && (e[n] = !1), t.unbind(i, A), j(this) || t.removeData(a)
                    }
                }
            }
            for (h.vmouse = {
                    moveDistanceThreshold: 10,
                    clickDistanceThreshold: 10,
                    resetTimerDuration: 1500
                }, n = 0; n < i.length; n++) h.event.special[i[n]] = V(i[n]);
            T && e.addEventListener("click", function(t) {
                var e, n, i, o, a, r = g.length,
                    s = t.target;
                if (r)
                    for (e = t.clientX, n = t.clientY, u = h.vmouse.clickDistanceThreshold, i = s; i;) {
                        for (o = 0; o < r; o++)
                            if (a = g[o], 0, i === s && Math.abs(a.x - e) < u && Math.abs(a.y - n) < u || h.data(i, c) === a.touchID) return t.preventDefault(), void t.stopPropagation();
                        i = i.parentNode
                    }
            }, !0)
        }(t, 0, g), t.mobile = {}, a = {
            touch: "ontouchend" in g
        }, (o = t).mobile.support = o.mobile.support || {}, o.extend(o.support, a), o.extend(o.mobile.support, a),
        function(c, a, r) {
            var p = c(g),
                t = c.mobile.support.touch,
                s = "touchmove scroll",
                n = t ? "touchstart" : "mousedown",
                u = t ? "touchend" : "mouseup",
                l = t ? "touchmove" : "mousemove";

            function h(t, e, n, i) {
                var o = n.type;
                n.type = e, i ? c.event.trigger(n, r, t) : c.event.dispatch.call(t, n), n.type = o
            }
            c.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "), function(t, e) {
                c.fn[e] = function(t) {
                    return t ? this.bind(e, t) : this.trigger(e)
                }, c.attrFn && (c.attrFn[e] = !0)
            }), c.event.special.scrollstart = {
                enabled: !0,
                setup: function v() {
                    var n, e, i = this;

                    function o(t, e) {
                        h(i, (n = e) ? "scrollstart" : "scrollstop", t)
                    }
                    c(i).bind(s, function(t) {
                        c.event.special.scrollstart.enabled && (n || o(t, !0), clearTimeout(e), e = setTimeout(function() {
                            o(t, !1)
                        }, 50))
                    })
                },
                teardown: function i() {
                    c(this).unbind(s)
                }
            }, c.event.special.tap = {
                tapholdThreshold: 750,
                emitTapOnTaphold: !0,
                setup: function v() {
                    var r = this,
                        s = c(r),
                        u = !1;
                    s.bind("vmousedown", function(t) {
                        if (u = !1, t.which && 1 !== t.which) return !1;
                        var e, n = t.target;

                        function i() {
                            clearTimeout(e)
                        }

                        function o() {
                            i(), s.unbind("vclick", a).unbind("vmouseup", i), p.unbind("vmousecancel", o)
                        }

                        function a(t) {
                            o(), u || n !== t.target ? u && t.preventDefault() : h(r, "tap", t)
                        }
                        s.bind("vmouseup", i).bind("vclick", a), p.bind("vmousecancel", o), e = setTimeout(function() {
                            c.event.special.tap.emitTapOnTaphold || (u = !0), h(r, "taphold", c.Event("taphold", {
                                target: n
                            }))
                        }, c.event.special.tap.tapholdThreshold)
                    })
                },
                teardown: function i() {
                    c(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"), p.unbind("vmousecancel")
                }
            }, c.event.special.swipe = {
                scrollSupressionThreshold: 30,
                durationThreshold: 1e3,
                horizontalDistanceThreshold: 30,
                verticalDistanceThreshold: 30,
                getLocation: function d(t) {
                    var e = a.pageXOffset,
                        n = a.pageYOffset,
                        i = t.clientX,
                        o = t.clientY;
                    return 0 === t.pageY && Math.floor(o) > Math.floor(t.pageY) || 0 === t.pageX && Math.floor(i) > Math.floor(t.pageX) ? (i -= e, o -= n) : (o < t.pageY - n || i < t.pageX - e) && (i = t.pageX - e, o = t.pageY - n), {
                        x: i,
                        y: o
                    }
                },
                start: function o(t) {
                    var e = t.originalEvent.touches ? t.originalEvent.touches[0] : t,
                        n = c.event.special.swipe.getLocation(e);
                    return {
                        time: (new Date).getTime(),
                        coords: [n.x, n.y],
                        origin: c(t.target)
                    }
                },
                stop: function f(t) {
                    t.preventDefault();
                    var e = t.originalEvent.touches ? t.originalEvent.touches[0] : t,
                        n = c.event.special.swipe.getLocation(e);
                    return {
                        time: (new Date).getTime(),
                        coords: [n.x, n.y]
                    }
                },
                handleSwipe: function m(t, e, n, i) {
                    if (e.time - t.time < c.event.special.swipe.durationThreshold && Math.abs(t.coords[0] - e.coords[0]) > c.event.special.swipe.horizontalDistanceThreshold && Math.abs(t.coords[1] - e.coords[1]) < c.event.special.swipe.verticalDistanceThreshold) {
                        var o = t.coords[0] > e.coords[0] ? "swipeleft" : "swiperight";
                        return h(n, "swipe", c.Event("swipe", {
                            target: i,
                            swipestart: t,
                            swipestop: e
                        }), !0), h(n, o, c.Event(o, {
                            target: i,
                            swipestart: t,
                            swipestop: e
                        }), !0), !0
                    }
                    return !1
                },
                eventInProgress: !1,
                setup: function v() {
                    var t, a = this,
                        e = c(a),
                        r = {};
                    (t = c.data(this, "mobile-events")) || (t = {
                        length: 0
                    }, c.data(this, "mobile-events", t)), t.length++, (t.swipe = r).start = function(t) {
                        if (!c.event.special.swipe.eventInProgress) {
                            c.event.special.swipe.eventInProgress = !0;
                            var e, n = c.event.special.swipe.start(t),
                                i = t.target,
                                o = !1;
                            r.move = function(t) {
                                n && !t.isDefaultPrevented() && (e = c.event.special.swipe.stop(t), o || (o = c.event.special.swipe.handleSwipe(n, e, a, i)) && (c.event.special.swipe.eventInProgress = !1), Math.abs(n.coords[0] - e.coords[0]) > c.event.special.swipe.scrollSupressionThreshold && t.preventDefault())
                            }, r.stop = function() {
                                o = !0, c.event.special.swipe.eventInProgress = !1, p.off(l, r.move), r.move = null
                            }, p.on(l, r.move).one(u, r.stop)
                        }
                    }, e.on(n, r.start)
                },
                teardown: function i() {
                    var t, e;
                    (t = c.data(this, "mobile-events")) && (e = t.swipe, delete t.swipe, t.length--, 0 === t.length && c.removeData(this, "mobile-events")), e && (e.start && c(this).off(n, e.start), e.move && p.off(l, e.move), e.stop && p.off(u, e.stop))
                }
            }, c.each({
                scrollstop: "scrollstart",
                taphold: "tap",
                swipeleft: "swipe.left",
                swiperight: "swipe.right"
            }, function(t, e) {
                c.event.special[t] = {
                    setup: function n() {
                        c(this).bind(e, c.noop)
                    },
                    teardown: function i() {
                        c(this).unbind(e)
                    }
                }
            })
        }(t, this), u = t, p = {
            animation: {},
            transition: {}
        }, r = g.createElement("a"), s = ["", "webkit-", "moz-", "o-"], u.each(["animation", "transition"], function(t, n) {
            var i = 0 === t ? n + "-name" : n;
            u.each(s, function(t, e) {
                if (r.style[u.camelCase(e + i)] !== c) return p[n].prefix = e, !1
            }), p[n].duration = u.camelCase(p[n].prefix + n + "-duration"), p[n].event = u.camelCase(p[n].prefix + n + "-end"), "" === p[n].prefix && (p[n].event = p[n].event.toLowerCase())
        }), u.support.cssTransitions = p.transition.prefix !== c, u.support.cssAnimations = p.animation.prefix !== c, u(r).remove(), u.fn.animationComplete = function(t, e, n) {
            var i, o, a = this,
                r = function r() {
                    clearTimeout(i), t.apply(this, arguments)
                },
                s = e && "animation" !== e ? "transition" : "animation";
            return u.support.cssTransitions && "transition" === s || u.support.cssAnimations && "animation" === s ? (n === c && (u(this).context !== g && (o = 3e3 * parseFloat(u(this).css(p[s].duration))), (0 === o || o === c || isNaN(o)) && (o = u.fn.animationComplete.defaultDuration)), i = setTimeout(function() {
                u(a).off(p[s].event, r), t.apply(a)
            }, o), u(this).one(p[s].event, r)) : (setTimeout(u.proxy(t, this), 0), u(this))
        }, u.fn.animationComplete.defaultDuration = 1e3
});