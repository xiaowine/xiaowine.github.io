function ownKeys(t, e) {
    var r = Object.keys(t);
    if (Object.getOwnPropertySymbols) {
        var o = Object.getOwnPropertySymbols(t);
        e && (o = o.filter(function(e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable
        })), r.push.apply(r, o)
    }
    return r
}

function _objectSpread(t) {
    for (var e = 1; e < arguments.length; e++) {
        var r = null != arguments[e] ? arguments[e] : {};
        e % 2 ? ownKeys(r, !0).forEach(function(e) {
            _defineProperty(t, e, r[e])
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : ownKeys(r).forEach(function(e) {
            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(r, e))
        })
    }
    return t
}

function _defineProperty(e, t, r) {
    return t in e ? Object.defineProperty(e, t, {
        value: r,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : e[t] = r, e
}

function _slicedToArray(e, t) {
    return _arrayWithHoles(e) || _iterableToArrayLimit(e, t) || _nonIterableRest()
}

function _nonIterableRest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance")
}

function _iterableToArrayLimit(e, t) {
    var r = [],
        o = !0,
        n = !1,
        a = undefined;
    try {
        for (var i, c = e[Symbol.iterator](); !(o = (i = c.next()).done) && (r.push(i.value), !t || r.length !== t); o = !0);
    } catch (u) {
        n = !0, a = u
    } finally {
        try {
            o || null == c["return"] || c["return"]()
        } finally {
            if (n) throw a
        }
    }
    return r
}

function _arrayWithHoles(e) {
    if (Array.isArray(e)) return e
}

function _typeof(e) {
    return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function t(e) {
        return typeof e
    } : function r(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    })(e)
}
Comm = window.Comm || (window.Comm = {}),
    function() {
        var f = function f(e) {
                var t = _typeof(e);
                return "object" === t && Object.prototype.toString.call(e).match(/array/i) && (t = "array"), t
            },
            s = function s(e, t, r, o) {
                var n, a, i, c, u, l = f(e),
                    m = f(t);
                if (null != r && "string" == typeof r || (r = "/"), null != o && "object" === _typeof(o) || (o = {}), null == e || null == t) e !== t && (o[r] = "undefined" === l ? "object" !== m && "array" !== m ? {
                    operation: "add",
                    value: t
                } : {
                    operation: "add",
                    value: Comm.deepClone(t)
                } : "undefined" === m ? {
                    operation: "delete"
                } : "object" !== m && "array" !== m ? {
                    operation: "update",
                    value: t
                } : {
                    operation: "update",
                    value: Comm.deepClone(t)
                });
                else if (l !== m || "object" !== l && "array" !== l || "object" !== m && "array" !== m) e !== t && (o[r] = "object" !== m && "array" !== m ? {
                    operation: "update",
                    value: t
                } : {
                    operation: "update",
                    value: Comm.deepClone(t)
                });
                else {
                    for (c in e) i = c.startsWith("/") ? c : "/" === r ? r + c : r + "/" + c, n = e[c], a = t[c], u = f(a), null == n || null == a ? n !== a && (void 0 === n ? (o[i] = "object" !== u && "array" !== u ? {
                        operation: "add",
                        value: a
                    } : {
                        operation: "add",
                        value: Comm.deepClone(a)
                    }, o[i] = {
                        operation: "add",
                        value: Comm.deepClone(a)
                    }) : o[i] = void 0 === a ? {
                        operation: "delete"
                    } : "object" !== u && "array" !== u ? {
                        operation: "update",
                        value: a
                    } : {
                        operation: "update",
                        value: Comm.deepClone(a)
                    }) : f(n) !== f(a) ? o[i] = "object" !== u && "array" !== u ? {
                        operation: "update",
                        value: a
                    } : {
                        operation: "update",
                        value: Comm.deepClone(a)
                    } : "object" === _typeof(n) ? s(n, a, i, o) : n !== a && (o[i] = "object" !== u && "array" !== u ? {
                        operation: "update",
                        value: a
                    } : {
                        operation: "update",
                        value: Comm.deepClone(a)
                    });
                    for (c in t) i = c.startsWith("/") ? c : "/" === r ? r + c : r + "/" + c, n = e[c], a = t[c], u = f(a), n !== a && void 0 === n && (o[i] = "object" !== u && "array" !== u ? {
                        operation: "add",
                        value: a
                    } : {
                        operation: "add",
                        value: Comm.deepClone(a)
                    })
                }
                return o
            },
            u = function u(e, t, r, o) {
                if (!t.match(/^\//)) throw "diff path is not valid";
                var n = t.split("/");
                n.shift();
                for (var a = e, i = n.length, c = 0; c < i; c++) {
                    if (null == a || n[c].length < 1) throw "Invalid data";
                    c !== i - 1 ? (a = a[n[c]], o && o(a)) : Vue.set(a, n[c], r)
                }
                return e
            },
            c = function c(e, t) {
                var r = t.split("/");
                r.shift();
                for (var o = e, n = r.length, a = 0; a < n; a++)
                    if (a !== n - 1) {
                        if (null == o[r[a]]) throw "invalid data";
                        o = o[r[a]]
                    } else if ("object" === f(o)) Vue["delete"](o, r[a]);
                else
                    for (var i = parseInt(r[a]); o.length > i;) o.pop();
                return e
            },
            l = function l(e, t, r) {
                var o, n, a;
                if (null == t) throw "No diff object is provided, Nothing to apply";
                for (var i in t) {
                    if (!(a = (n = t[o = i]).operation).match(/add|update|delete/)) throw "malformed diff object";
                    if ("add" === a) {
                        if ("/" === o) {
                            e = n.value;
                            break
                        }
                        u(e, o, n.value, r)
                    } else if ("update" === a) {
                        if ("/" === o) {
                            e = n.value;
                            break
                        }
                        u(e, o, n.value, r)
                    } else {
                        if ("/" === o) {
                            e = null;
                            break
                        }
                        c(e, o)
                    }
                }
                return e
            };
        Comm.getObjectDiff = function(e, t) {
            return s(e, t)
        }, Comm.applyObjectDiff = function(e, t, r) {
            return l(e, t, r)
        }
    }(Comm),
    function() {
        Comm.getModuleDefaultName = function(e) {
            switch (Number(e)) {
                case 1:
                    return "图文展示";
                case 2:
                    return "轮播多图";
                case 3:
                    return "列表多图";
                case 4:
                    return "文章详情";
                case 5:
                    return "文章筛选";
                case 6:
                    return "文本";
                case 7:
                    return "图片";
                case 8:
                    return "按钮";
                case 9:
                    return "产品详情";
                case 10:
                    return "产品筛选";
                case 11:
                    return "会员注册";
                case 12:
                    return "会员登录";
                case 13:
                    return "会员中心";
                case 14:
                    return "文章分类";
                case 15:
                    return "图册目录";
                case 16:
                    return "产品展示";
                case 17:
                    return "文章列表";
                case 18:
                    return "产品分类";
                case 19:
                    return "在线地图";
                case 20:
                    return "在线视频";
                case 21:
                    return "在线表单";
                case 22:
                    return "留言栏目";
                case 23:
                    return "留言提交";
                case 24:
                    return "信息查询";
                case 25:
                    return "信息查询结果";
                case 26:
                    return "嵌入页面";
                case 27:
                    return "文件下载";
                case 28:
                    return "插件代码";
                case 29:
                    return "全站搜索";
                case 30:
                    return "搜索结果";
                case 31:
                    return "在线客服";
                case 32:
                    return "横向标签";
                case 33:
                    return "图标组合"
            }
        }, Comm.deepEqual = function(e, t) {
            var r = Array.isArray,
                o = Object.keys,
                n = Object.prototype.hasOwnProperty;
            if (e === t) return !0;
            if (e && t && "object" == _typeof(e) && "object" == _typeof(t)) {
                var a, i, c, u = r(e),
                    l = r(t);
                if (u && l) {
                    if ((i = e.length) != t.length) return !1;
                    for (a = i; 0 != a--;)
                        if (!Comm.deepEqual(e[a], t[a])) return !1;
                    return !0
                }
                if (u != l) return !1;
                var m = e instanceof Date,
                    f = t instanceof Date;
                if (m != f) return !1;
                if (m && f) return e.getTime() == t.getTime();
                var s = e instanceof RegExp,
                    p = t instanceof RegExp;
                if (s != p) return !1;
                if (s && p) return e.toString() == t.toString();
                var d = o(e);
                if ((i = d.length) !== o(t).length) return !1;
                for (a = i; 0 != a--;)
                    if (!n.call(t, d[a])) return !1;
                for (a = i; 0 != a--;)
                    if (c = d[a], !Comm.deepEqual(e[c], t[c])) return !1;
                return !0
            }
            return e != e && t != t
        }, Comm.syscExtend = function(e, t) {
            var r, o, n, a, i;
            for (r in Array.isArray(e) && e.splice(0, e.length), t)
                if (o = e[r], e !== (n = t[r]))
                    if (n && ($.isPlainObject(n) || (a = Array.isArray(n) && n.length !== undefined))) {
                        if (Comm.deepEqual(n, o)) {
                            a = !1;
                            continue
                        }
                        a ? (a = !1, (i = o && Array.isArray(o) ? o : []).splice(0, i.length)) : i = o && jQuery.isPlainObject(o) ? o : {}, Array.isArray(e) ? e.splice(r, 1, Comm.syscExtend(i, n)) : Vue.set(e, r, Comm.syscExtend(i, n))
                    } else Array.isArray(e) ? e.splice(r, 1, n) : Vue.set(e, r, n);
            return e
        }, Comm.deepClone = function(e, t) {
            var r, o, n, a, i;
            for (r in t)
                if (o = e[r], e !== (n = t[r]))
                    if (n && ($.isPlainObject(n) || (a = Array.isArray(n) && n.length !== undefined))) {
                        if (Comm.deepEqual(n, o)) {
                            a = !1;
                            continue
                        }
                        i = a ? (a = !1, []) : {}, e[r] = Comm.deepClone(i, n)
                    } else e[r] = n;
            return e
        }, Comm.operMultiLevelObjectAttr = function(m, e, t) {
            function r(l) {
                return function() {
                    var e = "",
                        t = this,
                        r = m.split(".");
                    e = r.pop();
                    var o = !0,
                        n = !1,
                        a = undefined;
                    try {
                        for (var i, c = r[Symbol.iterator](); !(o = (i = c.next()).done); o = !0) {
                            t = t[i.value]
                        }
                    } catch (u) {
                        n = !0, a = u
                    } finally {
                        try {
                            o || null == c["return"] || c["return"]()
                        } finally {
                            if (n) throw a
                        }
                    }
                    return l.call.apply(l, [t, e].concat(Array.prototype.slice.call(arguments), [this]))
                }
            }
            return {
                get: r(e),
                set: r(t)
            }
        }, Comm.setBitMemory = function(e, t, r) {
            return r ? e |= t : e &= ~t, e
        }, Comm.getBitMemory = function(e, t) {
            return (e & t) == t
        }, Comm.mapFlag = function(e, t) {
            for (var r = {}, o = 0, n = Object.entries(e); o < n.length; o++) {
                var a = _slicedToArray(n[o], 2),
                    i = a[0],
                    c = a[1];
                r[i] = Comm.bindFlag(c, t)
            }
            return r
        }, Comm.bindFlag = function(r) {
            var e = 1 < arguments.length && arguments[1] !== undefined ? arguments[1] : "module.flag";
            return Comm.operMultiLevelObjectAttr(e, function(e) {
                return Comm.getBitMemory(this[e], r)
            }, function(e, t) {
                this[e] = Comm.setBitMemory(this[e], r, t)
            })
        };
        var c = _global && _global.newResponsiveConversion,
            u = _global && _global.newMobiResponsiveConversion,
            l = ["margin.mt", "margin.mb", "pattern.pt", "pattern.pb", "pattern.mt", "pattern.mb", "pattern.m.mt", "pattern.m.mb", "pattern.mm.mt", "pattern.mm.mb", "pattern.mm2.mt", "pattern.mm2.mb", "rowPattern.pt", "rowPattern.pb", "colPattern.mt", "colPattern.mb", "colPattern.m.mt", "colPattern.m.mb", "colPattern.mm.mt", "colPattern.mm.mb", "colPattern.mm2.mt", "colPattern.mm2.mb"],
            s = function s(e, t, r, o) {
                var n = "mobi" === Comm.getDevice(),
                    a = n ? u || o : c || r,
                    i = n ? _global.templateNewMobiResponsiveConversion : _global.templateNewResponsiveConversion;
                return (a = a || t && i) && l.includes(e)
            };
        Comm.responseDataExchanger = function(m, f) {
            return Comm.operMultiLevelObjectAttr(f, function(e, t) {
                var r = t.isSysRow,
                    o = t.rowNewResponsiveConversion,
                    n = t.rowNewMobiResponsiveConversion,
                    a = s(f, r, o, n),
                    i = "mobi" === Comm.getDevice(),
                    c = i ? 375 : Math.min(window.innerWidth, window.outerWidth);
                if (a) return Math.round(this[e] * c);
                var u = i ? Math.min(375, m.call(t, t)) : m.call(t, t);
                return Math.round(this[e] * u)
            }, function(e, t, r) {
                var o = r.isSysRow,
                    n = r.rowNewResponsiveConversion,
                    a = r.rowNewMobiResponsiveConversion,
                    i = "mobi" === Comm.getDevice(),
                    c = s(f, o, n, a),
                    u = i ? 375 : Math.min(window.innerWidth, window.outerWidth);
                if ("undefined" != typeof this[e])
                    if (c) this[e] = t / u;
                    else {
                        var l = i ? Math.min(375, m.call(r, r)) : m.call(r, r);
                        this[e] = t / l
                    }
            })
        }, Comm.getElemId = function(e) {
            var t = 1 < arguments.length && arguments[1] !== undefined ? arguments[1] : "";
            return !(2 < arguments.length && arguments[2] !== undefined) || arguments[2] ? parseInt($(e).attr("id").replace(t, "")) : $(e).attr("id").replace(t, "")
        }, Comm.matchInArray = function(e, r, o) {
            var n = -1;
            undefined;
            return {
                match: e.find(function(e, t) {
                    if (e[r] === o) return n = t, e
                }),
                index: n
            }
        }, Comm.extend = function(e, t) {
            for (var r in t) e[r] = t[r];
            return e
        }, Comm.getDisplayData = function(e, t, r) {
            var o = 3 < arguments.length && arguments[3] !== undefined ? arguments[3] : "y",
                n = 4 < arguments.length && arguments[4] !== undefined ? arguments[4] : 0;
            return $.isPlainObject(t) ? "mobi" == e && r[o] != n ? r : t : "mobi" == e && r != n ? r : t
        }, Comm.initGobalData = function() {
            _global.borderStyle = [{
                content: "1",
                value: 0
            }, {
                content: "2",
                value: 1
            }, {
                content: "3",
                value: 2
            }];
            for (var e = [], t = 12; t <= 30; t++) fontSizeItem = {}, fontSizeItem.content = t, fontSizeItem.value = t, e.push(fontSizeItem);
            _global.fontSizeLists = e
        }, Comm.undoKeyEvent = function() {
            var a = {
                ctrlZ: function t() {
                    _undo.executeUndo(), Site.logDog(200607, 5)
                },
                ctrlY: function r() {
                    _undo.executeRedo(), Site.logDog(200607, 6)
                },
                ctrlS: function o() {
                    Root.saveAll()
                }
            };

            function e() {
                $(document).off("keydown.undo").on("keydown.undo", function(e) {
                    var t, r, o, n = i(e);
                    n && (document.hasFocus && document.hasFocus() && (r = (t = document.activeElement).tagName.toLowerCase(), o = t.getAttribute("contenteditable"), "div" != r && "true" != o && "body" != r && "radio" != t.type && "checkbox" != t.type) || (e.preventDefault(), a[n]()))
                })
            }

            function i(e) {
                if ((e = e || window.event) && (e.ctrlKey || e.metaKey)) {
                    var t = null;
                    switch (e.keyCode) {
                        case 90:
                            t = "ctrlZ";
                            break;
                        case 89:
                            t = "ctrlY";
                            break;
                        case 83:
                            t = "ctrlS"
                    }
                    return t
                }
            }
            e()
        }, Comm.burnColor = function(e, t) {
            var r = Comm.hexToRGB(Comm.rgbtoHex(e));
            if (!r || !t || isNaN(t)) return "";
            t = Math.max(t, 0), t = Math.min(t, 100);
            for (var o = 0; o < r.length; o++) r[o] = Math.floor(r[o] - r[o] * (t / 100)).toString(16), 1 == r[o].length && (r[o] = "0" + r[o]);
            return "#" + r.join("")
        }, Comm.hexToRGB = function(e) {
            if (3 == (e = e.replace("#", "").toLowerCase()).length) {
                for (var t = new Array, r = 3; r--;) t[r] = e.charAt(r) + "" + e.charAt(r);
                e = t.join("")
            }
            if (6 == e.length) {
                var o = e.match(/[0-9a-f]{2}/g);
                if (o && 3 == o.length) {
                    for (r = 3; r--;) o[r] = parseInt(o[r], 16);
                    return o
                }
                return !1
            }
        }, Comm.rgbtoHex = function(e) {
            if (/#/g.test(e)) return e;
            e = e.replace(/[rgba\(\)]/g, "").split(",");
            for (var t, r = ["#"], o = 0; o < 3; o++) 1 === (t = parseInt(e[o]).toString(16)).length && (t = "0" + t), r.push(t);
            return r.join("")
        }, Comm.getNodeAutoHeight = function(e) {
            if (!(e instanceof Node)) return "0";
            var t = e.style.height;
            e.style.height = "auto";
            var r = window.getComputedStyle(e).height;
            return e.style.height = t, r
        }, Comm.setThemeStyle = function(e, t) {
            $("#themeControl").html("").html("\n\t\t.jz_theme_font_color{color:".concat(e, ";}\n\t\t.jz_theme_bg_color{background-color:").concat(e, ";}\n\t\t.jz_theme_border_color{border-color:").concat(e, ";}\n\t\t.jz_theme_fill_color{fill:").concat(e, ";}\n\t\t.jz_theme_border_bottom_color{border-bottom-color:").concat(e, ";}\n\t\t.jz_theme_border_top_color{border-top-color:").concat(e, ";}\n\t\t.jz_hover.jz_theme_font_hover_color:hover{color:").concat(e, ";}\n\t\t.jz_hover.jz_theme_bg_hover_color:hover{background-color:").concat(e, ";}\n\t\t.jz_hover.jz_theme_border_hover_color:hover{border-color:").concat(e, ";}\n\t\t.jz_focus.jz_theme_focus_border_color:focus{border-color:").concat(e, ";}\n\t\t.jz_theme_focus_border_color:focus{border-color:").concat(e, ";}\n\t\t.jz_theme_hover_font_color:hover{color:").concat(e, ";}\n\t\t.jz_secondary_bg_color{background-color:").concat(t || "#f28830", ";}\n\t\t.pagination_style2 .pagination_item.active::after{border-color:").concat(e, "!important;}\n\t\t.pagination_style3 .pagination_item.active,\n\t\t.pagination_style2 .pagination_item.active{color:").concat(e, "!important;}\n\t\t.pagination_style3 .pagination_item.active::after,\n\t\t.pagination_style2 .pagination_item.active::before,\n\t\t.full_screen_row .pagination_style1 .pagination_item.active::after{\n\t\t\tbackground-color:").concat(e, "!important;\n\t\t}\n\t"))
        }, Comm.isSectionId = function(e) {
            return 150 <= e && e < 200
        }, Comm.isTemporaryModuleId = function(e) {
            return 200 <= e && e < 300
        }, Comm.isTemporaryRowId = function(e) {
            return 50 <= e && e < 100
        }, Comm.remove = function(e, t) {
            var r = e.indexOf(t);
            return -1 < r ? e.splice(r, 1) : []
        }, Comm.throttle = function(t, r) {
            var o = 0;
            return function() {
                var e = new Date;
                t < e - o && (r.apply(this, arguments), o = e)
            }
        }, Comm.debounce = function(t, r) {
            var o = null;
            if ("function" != typeof t) throw new Error(t + " must be a function");
            if ("number" != typeof r) throw new Error(r + " must be a number");
            return function() {
                var e = Array.prototype.slice.call(arguments);
                o && clearTimeout(o), o = setTimeout(function() {
                    t.apply(null, e)
                }, r)
            }
        }, Comm.getDevice = function() {
            var e = $("html");
            return _global.manageMode ? Comm.getState().device : e.hasClass("jz_screen_mobi") ? "mobi" : "pc"
        }, Comm.getState = function() {
            return _global.manageMode ? Root._store.state : {}
        }, Comm.getElemOffsetRect = function(e) {
            var t = $(e).offset(),
                r = $(e).outerWidth(),
                o = $(e).outerHeight();
            return _objectSpread({}, t, {
                width: r,
                height: o,
                right: t.left + r,
                bottom: t.top + o
            })
        }, Comm.getPageTop = function() {
            return _global.manageMode ? "pc" == Comm.getDevice() ? $("#jzToolbar")[0].getBoundingClientRect().bottom : $("#jzPreviewContent").offset().top : $("#sitetips").length ? $("#sitetips").height() : 0
        }, Comm.decodeHtmlAttr = function(e) {
            return e && e.replace ? e.replace(/&#x22;/gi, '"').replace(/&#x27;/gi, "'").replace(/&#x3c;/gi, "<").replace(/&#x3e;/gi, ">").replace(/&#x26;/gi, "&").replace(/&#5c;/gi, "\\") : e
        }, Comm.transformSize = function(e) {
            if (!e) return "-";
            var t = e / 1024 / 1024,
                r = 0 < Number.parseInt(t) ? "MB" : "KB";
            return "MB" == r ? 0 < t % 1 ? t = 0 < Number.parseInt(t % 1 * 10) ? t.toFixed(1) + r : Number.parseInt(t) + r : Number.parseInt(t) : 0 < (t *= 1024) % 1 ? t = 0 < Number.parseInt(t % 1 * 10) ? t.toFixed(1) + r : Number.parseInt(t) + r : Number.parseInt(t), t
        }, Comm.openAutoPush = function() {
            return "(function(){    var bp = document.createElement('script');    var curProtocol = window.location.protocol.split(':')[0];    if (curProtocol === 'https') {        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';    }    else {        bp.src = 'http://push.zhanzhang.baidu.com/push.js';    }    var s = document.getElementsByTagName(\"script\")[0];    s.parentNode.insertBefore(bp, s);})();"
        }
    }(Comm);